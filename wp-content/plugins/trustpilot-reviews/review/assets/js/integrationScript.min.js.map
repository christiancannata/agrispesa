{"version":3,"sources":["integrationScript.js"],"names":["receiveSettings","e","origin","location","receiveInternalData","checkProtocol","trustpilot_integration_settings","TRUSTPILOT_INTEGRATION_APP_URL","data","startsWith","split","action","this","submitPastOrdersCommand","resync","issynced","submitCheckProductSkusCommand","sendSignupData","console","log","reloadSettings","tryParseJson","JSON","parse","TrustBoxPreviewMode","handleJSONMessage","jsonData","type","submitSettings","requestCategoryInfo","parsedData","window","updateIframeSize","trustbox","document","getElementById","contentWindow","postMessage","stringify","encodeSettings","settings","encodedString","setting","substring","length","getFormValues","form","values","el","elements","element","nodeName","name","value","str","getTPNonce","formElement","nonce","childNodes","xhr","XMLHttpRequest","open","ajaxurl","setRequestHeader","onreadystatechange","readyState","status","response","sendPastOrdersInfo","send","iframe","dataset","transfer","message","trustpilot_signup_data","div","enable","hidden","pageUrls","encodeURIComponent","customTrustBoxes","btoa","categoryProductsData","basis","height","sendSettings","attrs","atob","pluginVersion","source","version","productIdentificationOptions","isFromMarketplace","configurationScopeTree","pluginStatus","mode","trustboxes","sku","url","protocol","undefined","pastOrders","addEventListener"],"mappings":"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","file":"integrationScript.min.js"}