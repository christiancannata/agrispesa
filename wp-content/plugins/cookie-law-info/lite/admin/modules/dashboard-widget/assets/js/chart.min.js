!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=i()}(this,function(){"use strict";const t=function(t,i){this.canvas=t.canvas||t,this.ctx=t,this.config=i,this.data=i.data,this.options=i.options,this.tooltip={x:0,y:0,opacity:0,dataPoint:null},this.initialize()};return t.prototype.initialize=function(){"doughnut"===this.config.type&&(this.setupEventListeners(),this.drawDoughnutChart())},t.prototype.setupEventListeners=function(){this.canvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.canvas.addEventListener("mouseleave",this.handleMouseLeave.bind(this))},t.prototype.handleMouseMove=function(t){const i=this.canvas.getBoundingClientRect(),e=t.clientX-i.left,s=t.clientY-i.top,o=this.getDataPointAtPosition(e,s);o?(this.tooltip.x=e,this.tooltip.y=s,this.tooltip.opacity=1,this.tooltip.dataPoint=o,this.drawDoughnutChart()):this.handleMouseLeave()},t.prototype.handleMouseLeave=function(){this.tooltip.opacity=0,this.tooltip.dataPoint=null,this.drawDoughnutChart()},t.prototype.getDataPointAtPosition=function(t,i){const e=this.canvas.getBoundingClientRect(),s=this.canvas.width/2,o=this.canvas.height/2,n=Math.min(this.canvas.width,this.canvas.height)/2,a=this.canvas.width/e.width,h=this.canvas.height/e.height,r=t*a,l=i*h,d=r-s,c=l-o,p=Math.sqrt(d*d+c*c),u=n*(this.options.cutout||0)/100;if(p>n||p<u)return null;let f=Math.atan2(c,d);f<0&&(f+=2*Math.PI),f=(f+Math.PI/2)%(2*Math.PI);const g=this.data.datasets[0].data.reduce((t,i)=>t+i,0);let m=0;for(let t=0;t<this.data.datasets[0].data.length;t++){const i=2*Math.PI*this.data.datasets[0].data[t]/g;if(f>=m&&f<=m+i)return{index:t,value:this.data.datasets[0].data[t],label:this.data.labels[t]};m+=i}return null},t.prototype.drawTooltip=function(){if(!this.tooltip.opacity||!this.tooltip.dataPoint)return;const t=this.ctx,i=this.canvas.getBoundingClientRect(),e=this.tooltip.dataPoint,s=this.data.datasets[0].data.reduce((t,i)=>t+i,0),o=((e.value/s)*100).toFixed(0);t.save(),t.font='bold 16px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif';const n=`${o}%`,a=t.measureText(n).width;t.font='13px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif';const h=`${e.label}: ${e.value}`,r=t.measureText(h).width,l=Math.max(a,r)+24,d=45;let c=this.tooltip.x-l/2,p=this.tooltip.y-d-10;c<0?c=0:c+l>i.width&&(c=i.width-l),p<0&&(p=this.tooltip.y+10);const u=this.canvas.width/i.width,f=this.canvas.height/i.height;c*=u,p*=f;const g={Accepted:"rgba(51, 168, 129, 0.7)",Rejected:"rgba(236, 74, 94, 0.7)","Partially Accepted":"rgba(68, 147, 249, 0.7)"};t.fillStyle="#4E4B66",t.beginPath(),t.roundRect(c,p,l*u,d*f,4),t.fill(),t.fillStyle=g[e.label],t.font='bold 16px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',t.textAlign="left",t.fillText(n,c+12*u,p+20*f),t.fillStyle="#ffffff",t.font='13px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',t.fillText(h,c+12*u,p+38*f),t.restore()},t.prototype.drawDoughnutChart=function(){const t=this.ctx,i=this.data,e=this.options,s=this.canvas.width,o=this.canvas.height,n=s/2,a=o/2,h=Math.min(s,o)/2,r=e.cutout?parseFloat(e.cutout)/100*h:0;t.clearRect(0,0,s,o);const l=i.datasets[0].data.reduce((t,i)=>t+i,0);let d=-.5*Math.PI;const c={Accepted:"rgba(51, 168, 129, 0.5)",Rejected:"rgba(236, 74, 94, 0.5)","Partially Accepted":"rgba(68, 147, 249, 0.5)"},p={Accepted:"rgba(51, 168, 129, 0.7)",Rejected:"rgba(236, 74, 94, 0.7)","Partially Accepted":"rgba(68, 147, 249, 0.7)"};i.datasets[0].data.forEach((e,s)=>{const o=2*Math.PI*e/l,u=i.labels[s];t.beginPath(),t.arc(n,a,h,d,d+o),t.arc(n,a,r,d+o,d,!0),t.closePath(),t.fillStyle=this.tooltip.dataPoint&&this.tooltip.dataPoint.label===u?p[u]:c[u],t.fill(),d+=o}),this.drawTooltip()},t}); 