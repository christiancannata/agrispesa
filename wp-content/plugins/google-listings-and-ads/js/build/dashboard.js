"use strict";(globalThis.webpackChunkgoogle_listings_and_ads=globalThis.webpackChunkgoogle_listings_and_ads||[]).push([[945],{521:(e,a,t)=>{t.d(a,{A:()=>d});var s=t(7143),n=t(6520),o=t(7692),i=t(2775);const r="products",l={products:[],intervals:[],totals:{}};function d(e){const a=(0,i.A)();return(0,s.useSelect)(t=>{const{getReport:s}=t(n.Ui),i=s(r,e,a,"primary"),d=s(r,e,a,"secondary"),c=i.loaded&&d.loaded;let g=l;return c&&i.data&&d.data&&(g={products:i.data.products||l.products,intervals:i.data.intervals||l.intervals,totals:(0,o.bM)(i.data.totals,d.data.totals,i.reportQuery.fields)}),{data:g,loaded:c}},[e,a])}},3458:(e,a,t)=>{t.r(a),t.d(a,{default:()=>aa});var s=t(6087),n=t(7723),o=t(8846),i=t(6476),r=t(7892),l=t(2047),d=t(9927),c=t(1787),g=t(7374);var u=t(6473),m=t(4848);const p=e=>{const{trackEventReportId:a}=e,t=(()=>{const e=(0,i.getQuery)(),{period:a,compare:t,before:s,after:n}=(0,g.getDateParamsFromQuery)(e),{primary:o,secondary:r}=(0,g.getCurrentDates)(e);return{period:a,compare:t,before:s,after:n,primaryDate:o,secondaryDate:r}})();return(0,m.jsx)(o.DateRangeFilterPicker,{dateQuery:t,onRangeSelect:e=>{a&&(0,u.ce)("gla_datepicker_update",{report:a,...e}),(0,i.updateQueryString)(e)},isoDateFormat:"YYYY-MM-DD"})};var _=t(3905),h=t(1209),y=t(7419),x=t(5128),j=t(7143),A=t(6520),b=t(7692),f=t(2775);function C(e){const a=(0,f.A)();return(0,j.useSelect)(t=>{const{getDashboardPerformance:s}=t(A.Ui),n=s(e,a,"primary"),o=s(e,a,"secondary");let i=null;const r=n.loaded&&o.loaded;return r&&n.data&&o.data&&(i=(0,b.bM)(n.data,o.data)),{loaded:r,data:i}},[e,a])}const v=({loaded:e,data:a,children:t,noDataMessage:s})=>{let n;return n=e?a?(0,m.jsx)(o.SummaryList,{children:()=>t(a)}):(0,m.jsxs)("div",{className:"gla-summary-card__body",children:[(0,m.jsx)("p",{children:s.body}),(0,m.jsx)(r.A,{eventName:s.eventName,eventProps:{context:"dashboard",href:s.link},href:s.link,target:"_blank",isSmall:!0,isSecondary:!0,children:s.buttonLabel})]}):(0,m.jsx)(o.SummaryListPlaceholder,{numberOfItems:2}),n};var k=t(6427),S=t(6459);const w=({title:e,children:a})=>(0,m.jsxs)(k.Card,{className:"gla-summary-card",children:[(0,m.jsx)(k.CardHeader,{size:"medium",children:(0,m.jsx)(S.A,{variant:"title-small",children:e})}),a]});var N=t(1378),P=t(5955),R=t(4270),E=t(1212),I=t(2391),G=t(5170),M=t(1177);const F=()=>(0,m.jsxs)("div",{className:"gla-free-ad-credit-claim",children:[(0,m.jsx)(G.A,{}),(0,m.jsx)("div",{children:(0,s.createInterpolateElement)((0,n.__)("Claim $500 in ads credit when you spend your first $500 with Google Ads. <termLink>Terms and conditions apply</termLink>.","google-listings-and-ads"),{termLink:(0,m.jsx)(M.A,{context:"dashboard",linkId:"free-ad-credit-terms",href:"https://www.google.com/ads/coupons/terms/"})})})]});var T=t(850);function B(){const e=[{Icon:P.A,content:(0,n.__)("Reach more customer by advertising your products across Google Ads channels like Search, YouTube and Discover.","google-listings-and-ads")},{Icon:P.A,content:(0,n.__)("Set a daily budget and only pay when people click on your ads.","google-listings-and-ads")},{Icon:P.A,content:(0,s.createInterpolateElement)((0,n.__)("Performance Max uses the best of Google's AI to show the most impactful ads for your products at the right time and place. <link>Learn more about Performance Max technology.</link>","google-listings-and-ads"),{link:(0,m.jsx)(R.i,{href:"https://support.google.com/google-ads/answer/10724817",context:"campaign-creation-performance-max"})})}];return(0,m.jsx)("div",{className:"gla-paid-features__feature-list",children:e.map(({Icon:e,content:a},t)=>(0,m.jsxs)(k.Flex,{align:"flex-start",children:[(0,m.jsx)(e,{size:"18"}),(0,m.jsx)(k.FlexBlock,{children:a})]},t))})}const D=()=>(0,m.jsxs)(T.A,{size:"medium",className:"gla-paid-features",children:[(0,m.jsxs)(k.Flex,{align:"center",gap:9,className:"gla-paid-features__content",children:[(0,m.jsx)(k.FlexItem,{children:(0,m.jsx)(E.A,{})}),(0,m.jsx)(k.FlexBlock,{children:(0,m.jsx)(B,{})})]}),(0,m.jsx)(F,{}),(0,m.jsx)(I.A,{isPrimary:!0,isSecondary:!1,isSmall:!1,eventProps:{context:"add-paid-campaign-promotion"},children:(0,n.__)("Create Campaign","google-listings-and-ads")})]}),L=function(){const{googleAdsAccount:e}=(0,N.A)();return(0,m.jsx)("div",{className:"gla-summary-card__body",children:e?(0,m.jsx)(D,{}):(0,m.jsx)(o.Spinner,{})})},O={precision:0},q=()=>{const e=(0,x.A)(O),{data:a,loaded:t}=C(_.k1);return(0,m.jsx)(v,{loaded:t,data:a,noDataMessage:{body:(0,n.__)("We're having trouble loading this data. Try again later, or track your performance in Google Merchant Center.","google-listings-and-ads"),link:"https://merchants.google.com/mc/reporting/dashboard",eventName:"gla_google_mc_link_click",buttonLabel:(0,n.__)("Open Google Merchant Center","google-listings-and-ads")},children:a=>[(0,m.jsx)(o.SummaryNumber,{label:(0,n.__)("Clicks","google-listings-and-ads"),value:e(a.clicks.value),prevValue:e(a.clicks.prevValue),delta:a.clicks.delta},"1"),(0,m.jsx)(o.SummaryNumber,{label:(0,n.__)("Total Spend","google-listings-and-ads"),value:(0,n.__)("Free","google-listings-and-ads"),delta:null},"2")]})},Q=()=>{const{formatAmount:e}=(0,y.A)(),{data:a,loaded:t}=C(_.Mx);return(0,m.jsx)(v,{loaded:t,data:a,noDataMessage:{body:(0,n.__)("We're having trouble loading this data. Try again later, or track your performance in Google Ads.","google-listings-and-ads"),link:"https://ads.google.com/",eventName:"gla_google_ads_link_click",buttonLabel:(0,n.__)("Open Google Ads","google-listings-and-ads")},children:a=>[(0,m.jsx)(o.SummaryNumber,{label:(0,n.__)("Total Sales","google-listings-and-ads"),value:e(a.sales.value,!0),prevValue:e(a.sales.prevValue,!0),delta:a.sales.delta},"1"),(0,m.jsx)(o.SummaryNumber,{label:(0,n.__)("Total Spend","google-listings-and-ads"),value:e(a.spend.value,!0),prevValue:e(a.spend.prevValue,!0),delta:a.spend.delta},"2")]})};function H(){const{loaded:e,data:a}=(0,h.A)();if(!e)return null;const t=!a?.length;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{title:(0,n.__)("Google Ads","google-listings-and-ads"),children:t?(0,m.jsx)(L,{}):(0,m.jsx)(Q,{})}),(0,m.jsx)(w,{title:(0,n.__)("Product Feed (Limited Visibility)","google-listings-and-ads"),children:(0,m.jsx)(q,{})})]})}var $=t(9457),K=t(7043);const U="create-another-campaign",Z="confirm";function V({onGuideRequestClose:e=()=>{}}){(0,s.useEffect)(()=>{(0,u.ce)("gla_modal_open",{context:_.K4.CAMPAIGN_CREATION_SUCCESS})},[]);const a=(0,s.useCallback)(a=>e(a,"dismiss"),[e]);return(0,m.jsxs)($.A,{className:"gla-campaign-creation-success-guide",onRequestClose:a,buttons:[(0,m.jsx)(r.A,{isTertiary:!0,"data-action":U,onClick:e,children:(0,n.__)("Create another campaign","google-listings-and-ads")},"0"),(0,m.jsx)(r.A,{isPrimary:!0,"data-action":Z,onClick:e,children:(0,n.__)("Got it","google-listings-and-ads")},"1")],children:[(0,m.jsx)("div",{className:"gla-campaign-creation-success-guide__header-image",children:(0,m.jsx)("img",{src:K,alt:(0,n.__)("Drawing of a person who successfully launched a campaign","google-listings-and-ads"),width:"413",height:"160"})}),(0,m.jsx)(R.A,{title:(0,n.__)("You've set up a Performance Max Campaign!","google-listings-and-ads"),children:(0,s.createInterpolateElement)((0,n.__)("You can pause or edit your campaign at any time. For best results, we recommend allowing your campaign to run for at least 14 days without pausing or editing. <link>Learn more about Performance Max technology.</link>","google-listings-and-ads"),{link:(0,m.jsx)(R.i,{href:"https://support.google.com/google-ads/answer/10724817",context:"campaign-creation-performance-max"})})})]})}var Y=t(6942),z=t.n(Y),W=t(8237),J=t(2434);const X=e=>{const{programId:a,onRequestClose:t}=e,[o,i]=(0,s.useState)(!1),l=(0,J.j)(),d=()=>{o||t()};return(0,m.jsxs)($.A,{className:"gla-remove-program-modal",title:(0,n.__)("Permanently Remove?","google-listings-and-ads"),isDismissible:!o,buttons:[(0,m.jsx)(r.A,{isSecondary:!0,disabled:o,onClick:d,children:(0,n.__)("Keep Campaign","google-listings-and-ads")},"keep"),(0,m.jsx)(r.A,{isPrimary:!0,isDestructive:!0,loading:o,onClick:()=>{i(!0),l.deleteAdsCampaign(a).then(()=>t()).catch(()=>i(!1))},children:(0,n.__)("Remove Campaign","google-listings-and-ads")},"remove")],onRequestClose:d,children:[(0,m.jsx)("p",{children:(0,n.__)("Results typically improve with time. Removing a campaign will result in the loss of any optimisations learned from those campaigns.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)("Once a campaign is removed, it cannot be re-enabled.","google-listings-and-ads")})]})},ee=e=>{const{programId:a}=e,[t,o]=(0,s.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.A,{isDestructive:!0,isLink:!0,onClick:()=>{o(!0)},children:(0,n.__)("Remove","google-listings-and-ads")}),t&&(0,m.jsx)(X,{programId:a,onRequestClose:()=>{o(!1)}})]})};var ae=t(3666);const te=({programId:e,onRequestClose:a})=>(0,m.jsxs)($.A,{className:"gla-edit-program-prompt-modal",title:(0,n.__)("Before you edit…","google-listings-and-ads"),buttons:[(0,m.jsx)(r.A,{isSecondary:!0,onClick:()=>{a()},children:(0,n.__)("Don't edit","google-listings-and-ads")},"no"),(0,m.jsx)(r.A,{isPrimary:!0,onClick:()=>{const a=(0,ae.Q4)(e);(0,i.getHistory)().push(a),(0,u.ce)("gla_dashboard_edit_program_click",{program_id:e,url:a})},children:(0,n.__)("Continue to edit","google-listings-and-ads")},"yes")],onRequestClose:a,children:[(0,m.jsx)("p",{children:(0,n.__)("Results typically improve with time.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)("Editing will result in the loss of any optimisations learned over time.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)("We recommend allowing your programs to run for at least 14 days after set up, without pausing or editing, for optimal performance.","google-listings-and-ads")})]});var se=t(6494);const ne=e=>{const{className:a,programId:t,...s}=e;return(0,m.jsx)(se.A,{button:(0,m.jsx)(r.A,{...s,isLink:!0,className:z()(a),children:(0,n.__)("Edit","google-listings-and-ads")}),modal:(0,m.jsx)(te,{programId:t})})};var oe=t(6734),ie=t(5847),re=t(3741);const le=e=>{const{onPauseCampaign:a=()=>{},onRequestClose:t}=e;return(0,m.jsxs)($.A,{className:"gla-pause-program-modal",title:(0,n.__)("Before you pause…","google-listings-and-ads"),buttons:[(0,m.jsx)(r.A,{isSecondary:!0,onClick:()=>{t()},children:(0,n.__)("Keep Active","google-listings-and-ads")},"1"),(0,m.jsx)(r.A,{isPrimary:!0,onClick:()=>{a()},children:(0,n.__)("Pause Campaign","google-listings-and-ads")},"2")],onRequestClose:t,children:[(0,m.jsx)("p",{children:(0,n.__)("Results typically improve with time. If you pause, your products won’t be shown to people looking for what you offer.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)("Pausing a campaign will result in the loss of any optimisations learned from those campaigns.","google-listings-and-ads")})]})};var de=t(2118);const ce=e=>{const{program:a}=e,[t,n]=(0,s.useState)(a.active),[o,i]=(0,s.useState)(!1),{updateAdsCampaign:r}=(0,J.j)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(de.A,{checked:t,onChange:e=>{!1!==e?(n(e),r(a.id,{status:"enabled"})):i(!0)}}),o&&(0,m.jsx)(le,{programId:a.id,onPauseCampaign:()=>{i(!1),n(!1),r(a.id,{status:"paused"})},onRequestClose:()=>{i(!1)}})]})};var ge=t(9039);const ue=()=>(0,m.jsx)(ge.A,{text:(0,n.__)("Product feed cannot be paused through WooCommerce. Go to Google Merchant Center for advanced settings.","google-listings-and-ads"),children:(0,m.jsx)(de.A,{checked:!0,disabled:!0})});var me=t(9788),pe=t(7677),_e=t(658),he=t(8493);const ye=()=>(0,m.jsx)(he.A,{intent:"success",children:(0,m.jsxs)(k.Flex,{gap:1,align:"center",justify:"flex-start",children:[(0,m.jsx)(pe.A,{icon:_e.A,width:16}),(0,n.__)("Budget recommendation","google-listings-and-ads")]})});var xe=t(3887),je=t(7280);const Ae="gla-all-programs-table-card",be="gla-campaign-edit-button",fe={id:"id",title:"name",dailyBudget:"amount",country:"country",enabled:"status"};function Ce({countryCodes:e,countryNameMap:a}){const[t]=e;return(0,m.jsxs)("span",{children:[a[t],e.length>=2&&(0,n.sprintf)(
// translators: %d: number of countries, with minimum value of 1.
// translators: %d: number of countries, with minimum value of 1.
(0,n.__)(" + %d more","google-listings-and-ads"),e.length-1)]})}const ve=e=>{const a=(0,i.getQuery)(),{formatAmount:t}=(0,y.A)(),[o,r]=(0,s.useState)({key:"id",direction:"asc"}),{data:l}=(0,ie.A)(),{data:d}=(0,h.A)(),{campaigns:c}=(0,xe.A)(),g=(0,oe.A)(),p=(0,je.$)();(0,s.useEffect)(()=>{if(!d?.length||!c?.length)return;const e=new Set(c.map(e=>e.campaign_id)),a=d.filter(a=>e.has(a.id)).map(e=>e.id);a.length&&(0,u.ce)("gla_raise_budget_recommendation_badge_campaigns",{context:"programs-table-card",campaign_ids:a})},[d,c]);const x=(0,s.useMemo)(()=>{if(!d)return[];const e=fe[o.key];return e?[...d].sort((a,t)=>{let s=a[e],n=t[e];switch(o.key){case"country":s=Array.isArray(a.displayCountries)?a.displayCountries.join("-"):"",n=Array.isArray(t.displayCountries)?t.displayCountries.join("-"):"";break;case"dailyBudget":s=Number(s),n=Number(n);break;case"enabled":s="enabled"===s?1:0,n="enabled"===n?1:0}const i="asc"===o.direction?1:-1;return"string"==typeof s&&"string"==typeof n?String(s).localeCompare(String(n))*i:s<n?-1*i:s>n?1*i:0}):[...d]},[d,o]);if(!l||!d)return(0,m.jsx)(re.A,{});let j=null;if(d.filter(({type:e})=>e===_.$g).length){const e=`.${Ae} .${be}`;j=(0,m.jsx)(me.A,{referenceElementCssSelector:e})}const A=e=>o?.key!==e?{}:{defaultSort:o.key===e,defaultOrder:o.direction},b=[{key:"title",label:(0,n.__)("Program","google-listings-and-ads"),isLeftAligned:!0,required:!0,isSortable:!0,...A("title")},{key:"country",label:(0,n.__)("Country","google-listings-and-ads"),isLeftAligned:!0,isSortable:!0,...A("country")},{key:"dailyBudget",label:(0,n.__)("Daily budget","google-listings-and-ads"),isSortable:!0,...A("dailyBudget")},{key:"enabled",label:(0,n.__)("Enabled","google-listings-and-ads"),isSortable:!0,...A("enabled")},{key:"actions",label:"",required:!0}],f=[{id:_.Q,title:(0,n.__)("Product feed","google-listings-and-ads"),dailyBudget:(0,n.__)("Free","google-listings-and-ads"),country:(0,m.jsx)(Ce,{countryCodes:l,countryNameMap:g}),active:!0,disabledEdit:!1},...x.map(e=>{return{id:e.id,title:(0,m.jsxs)(k.Flex,{gap:2,align:"center",justify:"flex-start",wrap:!0,children:[e.name,(a=e.id,!p.includes(`${a}`)&&c.some(e=>e.campaign_id===a)&&(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsx)(ye,{})]}))]}),dailyBudget:t(e.amount,!0),country:(0,m.jsx)(Ce,{countryCodes:e.displayCountries,countryNameMap:g}),active:"enabled"===e.status,disabledEdit:e.type!==_.$g};var a})],C=(0,m.jsx)(W.A,{className:Ae,title:(0,n.__)("Programs","google-listings-and-ads"),actions:(0,m.jsx)(I.A,{eventProps:{context:"programs-table-card"}}),headers:b,rowKey:e=>e[0].id,rows:f.map(e=>{const a=e.id===_.Q,t=z()({[be]:!a&&!e.disabledEdit});return[{display:e.title,id:e.id.toString()},{display:e.country},{display:e.dailyBudget},{display:a?(0,m.jsx)(ue,{}):(0,m.jsx)(ce,{program:e})},{display:e.id!==_.Q&&(0,m.jsxs)("div",{className:"program-actions",children:[(0,m.jsx)(ne,{className:t,programId:e.id,disabled:e.disabledEdit}),(0,m.jsx)(ee,{programId:e.id})]})}]}),totalRows:f.length,rowsPerPage:f.length,query:a,onQueryChange:i.onQueryChange,onSort:(e,a)=>{r({key:e,direction:a})},...e});return(0,m.jsxs)(m.Fragment,{children:[j,C]})};var ke=t(3921),Se=t(8468),we=t(6474),Ne=t(5834),Pe=t(9415),Re=t(4307),Ee=t(7539),Ie=t(2455),Ge=t(3323),Me=t(7917),Fe=t(4831),Te=t(6785),Be=t(1650);const De="gla_paid_campaign_step",Le="edit-ads",Oe=(0,ae.uZ)(),qe=(0,m.jsx)(Ie.A,{eventContext:Le});function Qe(e){const a=new Set([(0,i.getNewPath)({step:_.km.CAMPAIGN}),(0,i.getNewPath)({step:_.km.ASSET_GROUP})]),t=e.pathname+e.search;return!a.has(t)}const He=()=>{(0,we.A)("full-content");const[e,a]=(0,s.useState)(!1),[t,r]=(0,s.useState)(!1),{updateAdsCampaign:l,createCampaignAssetGroup:d,updateCampaignAssetGroup:c}=(0,J.j)(),g=(0,Ne.A)(),p=Number(g.programId),{loaded:y,data:x}=(0,h.A)(),{hasFinishedResolution:j,invalidateResolution:A,data:b}=(0,Pe.A)("getCampaignAssetGroups",p),f=x?.find(e=>e.id===p),C=b?.at(0);(0,s.useEffect)(()=>{f&&f.type!==_.$g&&(0,i.getHistory)().replace(Oe)},[f]);const v=function(e){return Object.values(_.km).includes(e)?e:_.km.CAMPAIGN}(g.step);(0,Be.A)((0,n.__)("You have unsaved campaign data. Are you sure you want to leave?","google-listings-and-ads"),e&&!t,Qe);const k=e=>{const a=(0,i.getNewPath)({...g,step:e});(0,i.getHistory)().push(a)};return y&&j?f?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ee.A,{title:(0,n.sprintf)(
// translators: %s: campaign's name.
// translators: %s: campaign's name.
(0,n.__)("Edit %s","google-listings-and-ads"),f.name),helpButton:qe,backHref:Oe}),(0,m.jsx)(Ge.A,{initialCampaign:{level:"current",id:f.id,currentAmount:f.amount,hasConfirmedEuPoliticalContent:f.eu_political_advertising_confirmation},countryCodes:f.displayCountries,assetEntityGroup:C,onSubmit:async(e,a)=>{const{action:t}=a.submitter.dataset,{dailyBudget:s,hasConfirmedEuPoliticalContent:n}=e;r(!0);try{if(await l(f.id,{amount:s,eu_political_advertising_confirmation:n}),t===Te.zK){let a=C;a||(a=(await d(p)).assetGroup);const t=a.id,s=(0,Re.A)(a,e);await c(t,s),A()}}catch(e){return r(!1),void a.signalFailedSubmission()}(0,i.getHistory)().push((0,ae.uZ)())},onChange:(e,t)=>{const s=t.dailyBudget!==f.amount,n=!!C&&!(0,Se.isEqual)(C.display_url_path,t.display_url_path),o=!!C&&(0,Re.m)(C,t).length>0;a(s||n||o)},children:(0,m.jsx)(o.Stepper,{currentStep:v,steps:[{key:_.km.CAMPAIGN,label:(0,n.__)("Edit campaign","google-listings-and-ads"),content:(0,m.jsx)(Me.A,{context:Le,headerTitle:(0,n.__)("Edit your campaign","google-listings-and-ads"),continueButton:e=>(0,m.jsx)(Fe.A,{formProps:e,onClick:()=>{return e=_.km.ASSET_GROUP,(0,u.dQ)(De,_.Z3[v],_.Z3[e],Le),void k(e);var e}})}),onClick:e=>{(0,u.T)(De,_.Z3[e],Le),k(e)}},{key:_.km.ASSET_GROUP,label:(0,n.__)("Optimize your campaign","google-listings-and-ads"),content:(0,m.jsx)(Te.Ay,{campaign:f})}]})})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ee.A,{title:(0,n.__)("Edit Campaign","google-listings-and-ads"),helpButton:qe,backHref:Oe}),(0,m.jsx)("div",{children:(0,n.__)("Error in loading your ads campaign. Please try again later.","google-listings-and-ads")})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ee.A,{title:(0,n.__)("Loading…","google-listings-and-ads"),helpButton:qe,backHref:Oe}),(0,m.jsx)(re.A,{})]})};var $e=t(1455),Ke=t.n($e),Ue=t(5640);const Ze="gla_paid_campaign_step",Ve="create-ads",Ye=(0,ae.uZ)(),ze=()=>{(0,we.A)("full-content");const[e,a]=(0,s.useState)(_.km.CAMPAIGN),t=(0,s.useRef)(null),{createAdsCampaign:r,updateCampaignAssetGroup:l}=(0,J.j)(),{createNotice:d}=(0,Ue.A)(),{data:c}=(0,ie.A)();return c?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ee.A,{title:(0,n.__)("Create your campaign","google-listings-and-ads"),helpButton:(0,m.jsx)(Ie.A,{eventContext:Ve}),backHref:Ye}),(0,m.jsx)(Ge.A,{countryCodes:c,onSubmit:async(e,a)=>{const{action:s}=a.submitter.dataset;try{const{dailyBudget:a,hasConfirmedEuPoliticalContent:o}=e;if(null===t.current){const e=await r(a,c,o);t.current=e.createdCampaign.id}if(s===Te.zK){const a=t.current,s=`${A.RV}/ads/campaigns/asset-groups?campaign_id=${a}`,[n]=await Ke()({path:s}),o=(0,Re.A)(n,e);await l(n.id,o)}d("success",(0,n.__)("You’ve successfully created a campaign!","google-listings-and-ads"))}catch(e){return void a.signalFailedSubmission()}(0,i.getHistory)().push((0,ae.uZ)({campaign:"saved"}))},children:(0,m.jsx)(o.Stepper,{currentStep:e,steps:[{key:_.km.CAMPAIGN,label:(0,n.__)("Create campaign","google-listings-and-ads"),content:(0,m.jsx)(Me.A,{headerTitle:(0,n.__)("Create your campaign","google-listings-and-ads"),context:Ve,continueButton:t=>(0,m.jsx)(Fe.A,{formProps:t,onClick:()=>{var t;t=_.km.ASSET_GROUP,(0,u.dQ)(Ze,_.Z3[e],_.Z3[t],Ve),a(t)}})}),onClick:e=>{(0,u.T)(Ze,_.Z3[e],Ve),a(e)}},{key:_.km.ASSET_GROUP,label:(0,n.__)("Optimize your campaign","google-listings-and-ads"),content:(0,m.jsx)(Te.Ay,{})}]})})]}):null};var We=t(5246),Je=t(7663),Xe=t(2635),ea=t(7008);const aa=()=>{const[e,a]=(0,s.useState)(!1),t=(0,s.useCallback)((e,t)=>{const s=t||e.currentTarget.dataset.action,n={...(0,i.getQuery)(),guide:void 0};(0,i.getHistory)().replace((0,i.getNewPath)(n)),s===U?(0,i.getHistory)().push((0,ae.uB)()):s===Z&&a(!0),(0,u.ce)("gla_modal_closed",{context:_.K4.CAMPAIGN_CREATION_SUCCESS,action:s})},[a]),g=(0,i.getQuery)();switch(g.subpath){case ae.$K.editCampaign:return(0,m.jsx)(He,{});case ae.$K.createCampaign:return(0,m.jsx)(ze,{})}const h="dashboard",{enableReports:y}=_.Th,x=()=>(0,m.jsx)(o.Link,{href:(0,i.getNewPath)(null,"/google/reports"),children:(0,m.jsx)(r.A,{isPrimary:!0,children:(0,n.__)("View Reports","google-listings-and-ads")})}),j=g?.guide===_.K4.CAMPAIGN_CREATION_SUCCESS,A=(0,ke.A)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"gla-dashboard",children:[(0,m.jsx)(Je.A,{}),(0,m.jsx)(Xe.A,{}),(0,m.jsx)(l.A,{context:"dashboard"}),(0,m.jsx)(d.A,{}),(0,m.jsx)(ea.A,{}),(0,m.jsx)(We.A,{}),(0,m.jsxs)("div",{className:"gla-dashboard__filter",children:[(0,m.jsx)(p,{trackEventReportId:h}),y&&(0,m.jsx)(x,{})]}),(0,m.jsx)("div",{className:"gla-dashboard__performance",children:(0,m.jsx)(H,{})}),(0,m.jsx)("div",{className:"gla-dashboard__programs",children:(0,m.jsx)(ve,{trackEventReportId:h})})]}),j&&(0,m.jsx)(V,{onGuideRequestClose:t}),e&&A&&(0,m.jsx)(c.A,{label:(0,n.__)("How easy was it to create a Google Ad campaign?","google-listings-and-ads"),secondLabel:(0,n.__)("How easy was it to understand the requirements for the Google Ad campaign creation?","google-listings-and-ads"),eventContext:_.K4.CAMPAIGN_CREATION_SUCCESS})]})}}}]);