"use strict";(globalThis.webpackChunkgoogle_listings_and_ads=globalThis.webpackChunkgoogle_listings_and_ads||[]).push([[223],{14:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6087);const a={match:{url:"/google/dashboard"},wpOpenMenu:"toplevel_page_woocommerce-marketing"};function o(){return(0,n.useEffect)(()=>{window.wpNavMenuClassChange(a,a.match.url)})}},33:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6087),a=t(6599),o=t(7133);function i(e,s=10,t=!1){const{second:i,callCount:r,startCountdown:l}=(0,o.A)(),[c,{data:d}]=(0,a.A)(e),g=!d||!t,u=(0,n.useCallback)(()=>{const e=c();return e.finally(()=>l(s)),e},[c,l,s]);return(0,n.useEffect)(()=>{0===i&&r>0&&g&&u()},[i,r,u,g]),{start:u,data:d}}},70:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(7723),a=t(6087),o=t(2434),i=t(6520),r=t(1378),l=t(6599),c=t(5640);const d=()=>{const{googleAdsAccount:e}=(0,r.A)(),{createNotice:s}=(0,c.A)(),{fetchGoogleAdsAccount:t,fetchGoogleAdsAccountStatus:d}=(0,o.j)(),[g,u]=(0,a.useState)(null),h=!e?.id,[m]=(0,l.A)({path:`${i.RV}/ads/accounts`,method:"POST",data:{id:e?.id||void 0}});return[(0,a.useCallback)(async()=>{u(h?"create":"update");try{await m({parse:!1})}catch(e){if(428!==e.status){const t=406===e.status?(0,n.__)("Error creating account: Account creation limit reached. Contact support for help.","google-listings-and-ads"):(0,n.__)("Unable to create Google Ads account. Please try again later.","google-listings-and-ads");s("error",t)}}await Promise.all([t(),d()]),u(null)},[h,s,m,t,d]),{loading:null!==g,action:g}]}},77:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(314);const o="getProduct",i=e=>(0,n.useSelect)(s=>{if(!e)return{product:null,hasFinishedResolution:!0};const t=s(a.PRODUCTS_STORE_NAME);return{product:t[o](e),hasFinishedResolution:t.hasFinishedResolution(o,[e])}},[e])},172:(e,s,t)=>{t.d(s,{A:()=>n});const n=e=>{const s=new Map;return e.forEach(e=>{const{countryCode:t,time:n,maxTime:a}=e,o=`${n}-${a}`,i=s.get(o)||{countries:[],time:n,maxTime:a};i.countries.push(t),s.set(o,i)}),Array.from(s.values())}},347:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6427),a=t(8846),o=t(6942),i=t.n(o),r=t(4848);const l=({tabId:e,href:s,children:t,selected:n,...o})=>(0,r.jsx)(a.Link,{role:"tab",tabIndex:n?null:-1,"aria-selected":n,id:e,href:s,...o,children:t}),c=e=>{const{selectedKey:s,tabs:t}=e;return(0,r.jsx)("div",{className:"app-tab-nav",children:(0,r.jsx)(n.NavigableMenu,{role:"tablist",orientation:"horizontal",className:"app-tab-nav__tabs",children:t.map(e=>(0,r.jsx)(l,{className:i()("components-button","app-tab-nav__tabs-item",{"is-active":e.key===s}),tabId:`${e.key}`,"aria-controls":`${e.key}-view`,selected:e.key===s,href:e.href,children:e.title},e.key))})})}},411:(e,s,t)=>{t.d(s,{A:()=>S});var n=t(6942),a=t.n(n),o=t(7723),i=t(6087),r=t(9491),l=t(6960),c=t(7143),d=t(6520),g=t(734);const u="getAdsBudgetMetrics";var h=t(7419),m=t(5588),p=t(6427),_=t(8846),x=t(4275);const f={container:"B9MszChLAAXOoqix9bht",header:"ZvGHF5W9K38lu3uYFB1R",metricsItem:"_hMjQtot63fcNWMwXi05",metricsGroup:"KGfrdzt78SVAfyM8E0vf",radioGroup:"ot2v4wVGTB7zbgqyhsF3",row:"ijG2JaomHxJYhlyrKl7g",customRow:"FsdizTxqLgWeZypPHIwd",hideRecommendations:"pv6iaNHzPGx215x7xyzm",radio:"W0Nvj_DCkOgNtwWsYQXa",rowSelected:"ba9vbnuKrWOggLSyXrhO",customInput:"p6AdFlu57UuhasQNg1To",option:"ENeJXDMoDgYQWC4hLtCH",customOption:"t7f2xBXInWNdtUmtEt5D",customHelp:"nnUmKVACt0iSJgyo18HY",customNotice:"W0ljklIxeJNn6t3dLCTM",tooltip:"ZkHjmsZ5b_kcZau1ifXM",dayUnit:"aTOs9c6eZIovLtvUueYk",helper:"N7wqiMChOg7YMz8Lw3x_",highlightRecommended:"Trmh8NH4oK5nkq68t0_i"};var j=t(4848);const v=(0,i.forwardRef)(function(e,s){return(0,j.jsx)("span",{...e,ref:s,children:(0,j.jsx)(x.A,{size:16})})});function A(){return(0,j.jsxs)("div",{className:a()(f.header,f.metricsGroup),children:[(0,j.jsxs)("span",{className:f.metricsItem,children:[(0,o.__)("Weekly conversions","google-listings-and-ads"),(0,j.jsx)(p.Tooltip,{className:f.tooltip,text:(0,j.jsxs)(j.Fragment,{children:[(0,o.__)("The estimated total value of all the conversions (sales volume) your campaign will generate in a week.","google-listings-and-ads"),(0,j.jsx)(_.Link,{type:"external",target:"_blank",href:"https://support.google.com/google-ads/answer/7197048",children:(0,o.__)("Learn more.","google-listings-and-ads")})]}),children:(0,j.jsx)(v,{})})]}),(0,j.jsxs)("span",{className:f.metricsItem,children:[(0,o.__)("Weekly conv. value","google-listings-and-ads"),(0,j.jsx)(p.Tooltip,{className:f.tooltip,text:(0,o.__)("The estimated number of conversions (unit sales) for a typical week. This number may vary based on change in your weekly spend.","google-listings-and-ads"),children:(0,j.jsx)(v,{})})]}),(0,j.jsxs)("span",{className:f.metricsItem,children:[(0,o.__)("Weekly cost","google-listings-and-ads"),(0,j.jsx)(p.Tooltip,{className:f.tooltip,text:(0,o.__)("This is the estimated average amount you'll spend weekly during the month. Some weeks you may spend less than this amount or up to 2 times this amount.","google-listings-and-ads"),children:(0,j.jsx)(v,{})})]})]})}function y({label:e,value:s,selected:t,className:n,...o}){return(0,j.jsxs)("label",{className:f.radioGroup,children:[(0,j.jsx)(p.RadioControl,{...o,className:a()(f.radio,n),checked:t===s,options:[{value:s}],hideLabelFromVision:!0,help:"","aria-label":s}),(0,j.jsx)("span",{className:a()(f.option,"custom"===s&&f.customOption),children:e})]})}var b=t(9031);function C({className:e,recommendedAmount:s}){return(0,j.jsxs)(p.Flex,{className:e,gap:3,children:[(0,j.jsx)(b.A,{size:24}),(0,j.jsx)(p.FlexBlock,{children:(0,i.createInterpolateElement)((0,o.__)("Your budget is lower than other advertisers' budgets, which may affect performance. For best results, we recommend at least <amount /> per day.","google-listings-and-ads"),{amount:(0,j.jsx)("strong",{children:s})})})]})}var w=t(5854);const k={low:(0,o.__)("Low","google-listings-and-ads"),high:(0,o.__)("High","google-listings-and-ads"),recommended:(0,o.__)("Recommended","google-listings-and-ads")};function N({formatAmount:e,metrics:s}){return(0,j.jsxs)("div",{className:f.metricsGroup,children:[(0,j.jsx)("span",{className:f.metricsItem,children:s?s.conversions:null}),(0,j.jsx)("span",{className:f.metricsItem,children:s?e(s.conversionsValue):null}),(0,j.jsx)("span",{className:f.metricsItem,children:s?e(s.cost):null})]})}function S({hideRecommendations:e=!1}){const s=(0,l.h5)(),{adapter:t,getInputProps:n,values:p}=s,{countryCodes:_,budgetRecommendation:x}=t,{amount:v}=p,{adsCurrencyConfig:b,formatAmount:S}=(0,h.A)(),[R,T]=(0,i.useState)(v),E=(0,r.useDebounce)(T,1e3),{data:I}=function(e,s){const t=(0,g.A)(e);return(0,c.useSelect)(e=>{if(0===t.length)return{data:null,hasResolved:!1};if(!Number.isFinite(s)||s<=0)return{data:null,hasResolved:!0};const n=e(d.Ui),a=[t,s];return{data:n[u](...a),hasResolved:n.hasFinishedResolution(u,a)}},[t,s])}(_,R);(0,i.useEffect)(()=>{E(v)},[E,v]);const F=["high","recommended","low"].reduce((s,t)=>{const a=e?null:x?.[t];if(a){const e=S(a.dailyBudget);s.push({level:t,metrics:a.metrics,radioProps:{...n("level"),value:t,label:(0,j.jsxs)(j.Fragment,{children:[e,(0,j.jsxs)("span",{className:f.dayUnit,children:["/",(0,o.__)("day","google-listings-and-ads")]})]})}})}return s},[]),{help:G,...M}=n("amount"),O=!G&&!e&&x?.recommended&&function(e,s,t){return!(!s?.low?.dailyBudget||!Number.isInteger(t))&&e<(0,w.A)(s.low.dailyBudget,t)}(v,x,b.precision),P=s=>{const t=s===p.level;return a()(f.row,"custom"===s&&f.customRow,e&&f.hideRecommendations,t&&f.rowSelected)};return(0,j.jsxs)("div",{className:f.container,children:[(0,j.jsx)(A,{}),F.map(({level:e,radioProps:s,metrics:t})=>{const n="recommended"===e?f.highlightRecommended:null;return(0,j.jsxs)("div",{className:P(e),children:[(0,j.jsx)(y,{...s}),(0,j.jsx)(N,{formatAmount:S,metrics:t}),(0,j.jsx)("div",{className:f.helper,children:(0,j.jsx)("span",{className:n,children:k[e]})})]},e)}),(0,j.jsxs)("div",{className:P("custom"),children:[(0,j.jsx)(y,{...n("level"),value:"custom",label:(0,o.__)("Set custom budget","google-listings-and-ads")}),"custom"===p.level&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.A,{suffix:I?.currency,...M,className:a()(M.className,f.customInput)}),(0,j.jsx)(N,{formatAmount:S,metrics:I?.metrics}),G&&(0,j.jsx)("div",{className:f.customHelp,role:"alert",children:G}),O&&(0,j.jsx)(C,{className:f.customNotice,recommendedAmount:S(x.recommended.dailyBudget)})]})]})]})}},458:(e,s,t)=>{t.d(s,{My:()=>w,AV:()=>G,Ez:()=>v,iZ:()=>j,Ay:()=>H});var n=t(6427),a=t(7723),o=t(3905),i=t(6028),r=t(8e3),l=t(1378),c=t(559),d=t(4566),g=t(8242),u=t(8468),h=t(6087),m=t(2434),p=t(7892),_=t(7541),x=t(6473),f=t(4848);const j=({onDisconnected:e=u.noop})=>{const{disconnectGoogleAdsAccount:s}=(0,m.j)(),[t,n]=(0,h.useState)(!1),o=(0,_.A)(x.T1);return(0,f.jsx)(p.A,{isTertiary:!0,loading:t,text:(0,a.__)("Or, connect to a different Google Ads account","google-listings-and-ads"),eventName:"gla_ads_account_disconnect_button_click",eventProps:o(),onClick:()=>{n(!0),s(!0).then(()=>e()).catch(()=>n(!1))}})};function v({googleAdsAccount:e,hideAccountSwitch:s=!1,children:t,...o}){return(0,f.jsxs)(c.A,{appearance:c.x.GOOGLE_ADS,description:(0,f.jsx)(n.ExternalLink,{href:"https://ads.google.com/aw/overview",children:(i=e.id,(0,a.sprintf)((0,a.__)("Account %s","google-listings-and-ads"),i))}),indicator:(0,f.jsx)(d.A,{}),...o,children:[t,!s&&(0,f.jsx)(g.A.Card.Footer,{children:(0,f.jsx)(j,{})})]});var i}var A=t(5559);const y=()=>{const{fetchGoogleAdsAccountStatus:e}=(0,m.j)();return(0,A.A)(e,30),(0,f.jsxs)(h.Fragment,{children:[(0,f.jsx)("p",{className:"gla-ads-claim-account-notice",children:(0,a.__)("Claim your new Google Ads account to complete this setup.","google-listings-and-ads")}),(0,f.jsx)(g.A.Card.Footer,{children:(0,f.jsx)(j,{})})]})};var b=t(4297),C=t(5992);const w=({onClick:e=u.noop,...s})=>{const{inviteLink:t}=(0,C.A)(),n=(0,_.A)(x.T1);return t?(0,f.jsx)(p.A,{...s,eventName:"gla_open_ads_account_claim_invitation_button_click",eventProps:n(),onClick:s=>{const{defaultView:n}=s.target.ownerDocument,a=(0,b.A)(n,600,800);n.open(t,"_blank",a),e(s)}}):null};var k=t(9457);const N=({onRequestClose:e})=>{const{hasAccess:s}=(0,C.A)();return(0,h.useEffect)(()=>{s&&e()},[e,s]),(0,f.jsxs)(k.A,{className:"gla-ads-invite-modal",title:(0,a.__)("Claim your Google Ads account","google-listings-and-ads"),buttons:[(0,f.jsx)(w,{isPrimary:!0,onClick:e,children:(0,a.__)("Claim account in Google Ads","google-listings-and-ads")},"1")],onRequestClose:e,children:[(0,f.jsx)("p",{children:(0,a.__)("Claiming your account lets you access Google Ads and sets up conversion measurement. You must claim your account in the next 20 days.","google-listings-and-ads")}),(0,f.jsx)("p",{children:(0,a.__)("When you claim your account, you’ll be asked to set up billing. This step is optional and you only need to complete it if you want to create Google Ads campaigns. If you don’t want to set up billing, close the window after you’ve clicked ‘Continue’ on the next page.","google-listings-and-ads")})]})};var S=t(1177);const R=({onCreateAccount:e=()=>{},onRequestClose:s=()=>{}})=>{const[t,o]=(0,h.useState)(!1),i=(0,_.A)(x.T1);return(0,f.jsxs)(k.A,{className:"gla-ads-terms-modal",title:(0,a.__)("Create Google Ads Account","google-listings-and-ads"),buttons:[(0,f.jsx)(p.A,{isPrimary:!0,disabled:!t,eventName:"gla_ads_account_create_button_click",eventProps:i(),onClick:()=>{e(),s()},children:(0,a.__)("Create account","google-listings-and-ads")},"1")],onRequestClose:s,children:[(0,f.jsx)("p",{className:"main",children:(0,a.__)("By creating a Google Ads account, you agree to the following terms and conditions:","google-listings-and-ads")}),(0,f.jsx)("p",{children:(0,h.createInterpolateElement)((0,a.__)("You agree to comply with Google’s terms and policies, including <policylink>Shopping ads policies</policylink> and <termslink>Google Ads Terms and Conditions</termslink>.","google-listings-and-ads"),{policylink:(0,f.jsx)(S.A,{context:"setup-ads",linkId:"shopping-ads-policies",href:"https://support.google.com/merchants/answer/6149970"}),termslink:(0,f.jsx)(S.A,{context:"setup-ads",linkId:"google-ads-terms-of-service",href:"https://support.google.com/adspolicy/answer/54818"})})}),(0,f.jsx)(n.CheckboxControl,{label:(0,a.__)("I have read and accept these terms","google-listings-and-ads"),checked:t,onChange:o})]})},T=({onCreateAccount:e})=>{const[s,t]=(0,h.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.A,{isSecondary:!0,text:(0,a.__)("Create account","google-listings-and-ads"),onClick:()=>{t(!0)}}),s&&(0,f.jsx)(R,{onCreateAccount:e,onRequestClose:()=>{t(!1)}})]})};var E=t(70);const I=e=>{const{allowShowExisting:s,onShowExisting:t}=e,[n,o]=(0,h.useState)(!1),{googleAdsAccount:i}=(0,l.A)(),{hasAccess:r,step:d}=(0,C.A)(),[u,{loading:m,action:_}]=(0,E.A)(),x=Boolean(i.id&&!1===r),j=async()=>{await u(),o(!0)};return(0,h.useEffect)(()=>{!0===r&&"conversion_action"===d&&u()},[r,u,d]),(0,f.jsxs)(c.A,{appearance:c.x.GOOGLE_ADS,alignIcon:"top",indicator:(()=>{if(m){const e="create"===_?(0,a.__)("Creating…","google-listings-and-ads"):(0,a.__)("Updating…","google-listings-and-ads");return(0,f.jsx)(p.A,{loading:!0,text:e})}return x?(0,f.jsx)(w,{isSecondary:!0,children:(0,a.__)("Claim Account","google-listings-and-ads")}):(0,f.jsx)(T,{onCreateAccount:j})})(),children:[s&&!x&&(0,f.jsx)(g.A.Card.Footer,{children:(0,f.jsx)(p.A,{isLink:!0,disabled:m,onClick:t,children:(0,a.__)("Or, use your existing Google Ads account","google-listings-and-ads")})}),x&&(0,f.jsxs)(h.Fragment,{children:[n&&(0,f.jsx)(N,{onRequestClose:()=>{o(!1)}}),(0,f.jsx)(y,{})]})]})};var F=t(5530);const G=({accountID:e,...s})=>{const t=(0,_.A)(x.T1);return(0,f.jsx)(p.A,{isSecondary:!0,disabled:!e,eventName:"gla_ads_account_connect_button_click",eventProps:t({id:Number(e)}),...s,children:(0,a.__)("Connect","google-listings-and-ads")})};var M=t(8463),O=t(8441),P=t(8771),L=t(6599),D=t(2661),q=t(6876);const U=e=>{const{accounts:s,onCreateNew:t=()=>{}}=e,[o,i]=(0,h.useState)(),[r,d]=(0,h.useState)(!1),[u]=(0,L.A)({path:"/wc/gla/ads/accounts",method:"POST",data:{id:o}}),{refetchGoogleAdsAccount:_}=(0,l.A)(),{fetchGoogleAdsAccountStatus:x}=(0,m.j)(),j=s.length>1;return(0,f.jsxs)(c.A,{className:"gla-connect-ads",alignIcon:"top",appearance:c.x.GOOGLE_ADS,children:[(0,f.jsx)(n.CardDivider,{}),(0,f.jsxs)(g.A.Card.Body,{children:[(0,f.jsx)(P.A.Title,{children:(0,a.__)("Connect to an existing account","google-listings-and-ads")}),j&&(0,f.jsx)(P.A.Body,{children:(0,h.createInterpolateElement)((0,a.__)("If you manage multiple sub-accounts in Google Ads, please connect the relevant sub-account, not a manager account. <link>Learn more</link>","google-listings-and-ads"),{link:(0,f.jsx)(S.A,{context:"setup-ads-connect-account",linkId:"connect-sub-account",href:"https://support.google.com/google-ads/answer/6139186"})})}),(0,f.jsxs)(M.A,{children:[(0,f.jsx)(D.A,{value:o,onChange:i}),r?(0,f.jsx)(O.A,{text:(0,a.__)("Connecting…","google-listings-and-ads")}):(0,f.jsx)(G,{accountID:o,onClick:async()=>{if(o){d(!0);try{await u(),await x(),await _()}catch(e){d(!1),(0,q.h)(e,null,(0,a.__)("Unable to connect your Google Ads account. Please try again later.","google-listings-and-ads"))}}}})]})]}),(0,f.jsx)(g.A.Card.Footer,{children:(0,f.jsx)(p.A,{isTertiary:!0,disabled:r,onClick:t,children:(0,a.__)("Or, create a new Google Ads account","google-listings-and-ads")})})]})},B=()=>{const{existingAccounts:e}=(0,F.A)(),[s,t]=(0,h.useState)(!1),{googleAdsAccount:n}=(0,l.A)(),{hasAccess:a,step:o}=(0,C.A)();return e?0===e.length||s||n.id&&!0!==a||!0===a&&"conversion_action"===o?(0,f.jsx)(I,{allowShowExisting:s,onShowExisting:()=>{t(!1)}}):(0,f.jsx)(U,{accounts:e,onCreateNew:()=>{t(!0)}}):(0,f.jsx)(i.A,{})};var V=t(5640),$=t(1830);const z=({additionalScopeEmail:e})=>{const s=o.Th.mcSetupComplete?"setup-ads":"setup-mc",{createNotice:t}=(0,V.A)(),[n,{loading:i,data:r}]=(0,$.A)(s,e);return(0,f.jsx)(c.A,{appearance:c.x.GOOGLE_ADS,alignIcon:"top",indicator:(0,f.jsx)(p.A,{isSecondary:!0,loading:i||r,onClick:()=>{n().then(({url:e})=>{window.location.href=e}).catch(()=>{t("error",(0,a.__)("Unable to get Google authorization page. Please try again later.","google-listings-and-ads"))})},text:(0,a.__)("Allow full access","google-listings-and-ads"),eventName:"gla_google_account_connect_button_click",eventProps:{context:"setup-ads",action:"scope"}})})},W=()=>(0,f.jsx)(c.A,{disabled:!0,appearance:c.x.GOOGLE_ADS});var Y=t(4391);function H(){const{google:e,scope:s,hasFinishedResolution:t}=(0,r.A)(),{googleAdsAccount:c,hasFinishedResolution:d}=(0,l.A)(),{hasAccess:g,step:u,hasFinishedResolution:h}=(0,C.A)();if(!t||!d||!h||null===c)return(0,f.jsx)(i.A,{});if(!e||"no"===e.active)return(0,f.jsx)(W,{});if(!s.adsRequired)return(0,f.jsx)(z,{additionalScopeEmail:e.email});if(c.status===o.Wn.DISCONNECTED||!0!==g||!0===g&&"conversion_action"===u)return(0,f.jsx)(B,{});const m=(0,Y.A)(c);return(0,f.jsx)(v,{googleAdsAccount:c,children:m?(0,f.jsx)(n.Notice,{status:"success",isDismissible:!1,children:(0,a.__)("Conversion measurement has been set up. You can create a campaign later.","google-listings-and-ads")}):null})}},559:(e,s,t)=>{t.d(s,{x:()=>_,A:()=>w});var n=t(7723),a=t(6942),o=t.n(a),i=t(7677),r=t(8690),l=t(8242),c=t(8771);const d=t.p+"images/js/src/images/logo/5585d65b9d8c575e5a1f.gogole-g-logo.svg",g=t.p+"images/js/src/images/logo/6daf36ba57db9c82b6e0.google-merchant-center-logo.svg",u=t.p+"images/js/src/images/logo/389bc604a859dff92f15.google-ads-logo.svg",h=t.p+"images/js/src/images/logo/25a37606f64ef10ff60e.wp-logo.svg",m=t.p+"images/js/src/images/829c5735b6338e133556.final-url-icon.svg";var p=t(4848);const _={EMPTY:"empty",WPCOM:"wpcom",GOOGLE:"google",GOOGLE_MERCHANT_CENTER:"google_merchant_center",GOOGLE_ADS:"google_ads",ADDRESS:"address",FINAL_URL:"final_url"},x=(0,p.jsx)("img",{src:d,alt:(0,n.__)("Google Logo","google-listings-and-ads"),width:"40",height:"40"}),f=(0,p.jsx)("img",{src:g,alt:(0,n.__)("Google Merchant Center Logo","google-listings-and-ads"),width:"40",height:"40"}),j=(0,p.jsx)("img",{src:u,alt:(0,n.__)("Google Ads Logo","google-listings-and-ads"),width:"40",height:"40"}),v=(0,p.jsx)("img",{src:h,alt:(0,n.__)("WordPress.com Logo","google-listings-and-ads"),width:"40",height:"40"}),A=(0,p.jsx)("img",{src:m,alt:(0,n.__)("Final URL icon","google-listings-and-ads"),width:"50"}),y={[_.EMPTY]:{},[_.WPCOM]:{icon:v,title:"WordPress.com"},[_.GOOGLE]:{icon:x,title:(0,n.__)("Google","google-listings-and-ads")},[_.GOOGLE_MERCHANT_CENTER]:{icon:f,title:(0,n.__)("Google Merchant Center","google-listings-and-ads"),description:(0,n.__)("Required to sync products and list on Google.","google-listings-and-ads")},[_.GOOGLE_ADS]:{icon:j,title:(0,n.__)("Google Ads","google-listings-and-ads"),description:(0,n.__)("Required to set up conversion measurement and create campaigns.","google-listings-and-ads")},[_.ADDRESS]:{icon:(0,p.jsx)(i.A,{icon:r.A,size:32}),title:(0,n.__)("Store address","google-listings-and-ads")},[_.FINAL_URL]:{icon:A,title:(0,n.__)("Final URL","google-listings-and-ads")}},b={center:!1,top:"gla-account-card__styled--align-top"},C={...b,toDetail:"gla-account-card__indicator--align-to-detail"};function w({className:e,disabled:s=!1,appearance:t=_.EMPTY,icon:n=y[t].icon,title:a=y[t].title,description:i=y[t].description,helper:r,alignIcon:d="center",indicator:g,alignIndicator:u="center",detail:h,expandedDetail:m=!1,actions:x,children:f,...j}){const v=o()("gla-account-card",!!s&&"gla-account-card--is-disabled",!!m&&"gla-account-card--is-expanded-detail",e),A=o()("gla-account-card__icon",b[d]),w=o()("gla-account-card__indicator",C[u]);return(0,p.jsxs)(l.A.Card,{className:v,...j,children:[(0,p.jsx)(l.A.Card.Body,{children:(0,p.jsxs)("div",{className:"gla-account-card__body-layout",children:[n&&(0,p.jsx)("div",{className:A,children:n}),(0,p.jsxs)("div",{className:"gla-account-card__subject",children:[a&&(0,p.jsx)(c.A.Title,{className:"gla-account-card__title",children:a}),i&&(0,p.jsx)("div",{className:"gla-account-card__description",children:i}),r&&(0,p.jsx)("div",{className:"gla-account-card__helper",children:r})]}),h&&(0,p.jsx)("div",{className:"gla-account-card__detail",children:h}),g&&(0,p.jsx)("div",{className:w,children:g}),x&&(0,p.jsx)("div",{className:"gla-account-card__actions",children:x})]})}),f]})}},614:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(6087),a=t(9415),o=t(7133),i=t(6599),r=t(2434);const l=()=>{const{second:e,callCount:s,startCountdown:t}=(0,o.A)(),{invalidateResolutionForStoreSelector:l}=(0,r.j)(),{data:c,hasFinishedResolution:d,invalidateResolution:g,...u}=(0,a.A)("getMCProductStatistics"),h=!(!d||!c?.loading),m=!(!d||!c?.statistics),[p]=(0,i.A)({path:"/wc/gla/mc/product-statistics/refresh",method:"GET"}),_=(0,n.useCallback)(async()=>{await p(),g()},[p,g]);return(0,n.useEffect)(()=>{h&&0===e&&(t(15),s>0&&g()),m&&s>0&&(t(0),l("getMCProductFeed"))},[e,s,h,m,g,l,t]),{data:c,invalidateResolution:g,hasFinishedResolution:d,refreshStats:_,...u}}},734:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6087),a=t(7337);function o(e){const{code:s}=(0,a.A)();return(0,n.useMemo)(()=>{if(!s||!e)return[];const t=e.indexOf(s);if(t>0){const s=e.slice();return s.splice(t,1).concat(s)}return e},[s,e])}},771:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=e=>(0,n.A)("getMappingSources",e)},782:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(6520);const o="getPriceBenchmarkSummary",i=()=>(0,n.useSelect)(e=>{const s=e(a.Ui);return{summary:s[o](),hasFinishedResolution:s.hasFinishedResolution(o,[])}},[])},850:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6942),a=t.n(n),o=t(4848);const i={normal:!1,medium:"gla-vertical-gap-layout__medium",large:"gla-vertical-gap-layout__large",overlap:"gla-vertical-gap-layout__overlap"},r=e=>{const{className:s,size:t="normal",...n}=e;return(0,o.jsx)("div",{className:a()("gla-vertical-gap-layout",i[t],s),...n})}},873:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(7143),a=t(2434);const o=()=>{const{saveSettings:e,syncSettings:s}=(0,a.j)();return{settings:(0,n.useSelect)(e=>e(a.U).getSettings(),[]),saveSettings:e,syncSettings:s}}},993:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=({page:e=1,perPage:s=10})=>(0,n.A)("getMappingRules",{page:e,perPage:s})},1016:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6087),a=t(6476),o=t(3905),i=t(2434),r=t(6520),l=t(6599);const c=()=>{const{google_wpcom_app_status:e,nonce:s}=(0,a.getQuery)(),{invalidateResolution:t}=(0,i.j)(),c=`${r.RV}/rest-api/authorize`,[d]=(0,l.A)({path:c,method:"PUT"}),g=(0,n.useCallback)(async()=>{try{await d({data:{status:e,nonce:s}}),t("getGoogleMCAccount",[])}catch(e){console.error(e.message)}const n=(0,a.getNewPath)({google_wpcom_app_status:void 0,nonce:void 0});(0,a.getHistory)().replace(n)},[d,e,t,s]);(0,n.useEffect)(()=>{Object.values(o.ac).includes(e)&&async function(){await g(e)}()},[e,g])}},1034:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/8c30e729542c33b94ef4.img-free-listings.svg"},1042:(e,s,t)=>{t.d(s,{A:()=>Y});var n=t(7723),a=t(6087),o=t(9370),i=t(3164),r=t(9826),l=t(3704),c=t(1177),d=t(6960),g=t(5955),u=t(6427),h=t(6893),m=t(6028),p=t(7108),_=t(3741),x=t(1378),f=t(8242),j=t(7892),v=t(7541),A=t(1455),y=t.n(A),b=t(8468),C=t(2434),w=t(5559),k=t(5640),N=t(3905);var S=t(4297),R=t(6473),T=t(4848);const E=({billingUrl:e,onSetupComplete:s})=>{const{googleAdsAccount:t}=(0,x.A)(),o=(0,v.A)(R.T1);if(((e=b.noop)=>{const{createNotice:s}=(0,k.A)(),{receiveGoogleAdsAccountBillingStatus:t}=(0,C.j)(),o=(0,a.useRef)(),i=(0,a.useRef)();i.current=e;const r=(0,a.useCallback)(async()=>{const e=o.current,a=await y()({path:"/wc/gla/ads/billing-status"});if(o.current=a.status,e!==a.status&&a.status===N.CX.APPROVED)try{await y()({path:"/wc/gla/ads/accounts",method:"POST"}),await i.current(),t(a)}catch(e){s("error",(0,n.__)("Unable to complete your Google Ads account setup. Please try again later.","google-listings-and-ads"))}},[s,t]);(0,w.A)(r,30)})(s),!t)return(0,T.jsx)(_.A,{});const i=s=>{const t=o({link_id:"set-up-billing",href:e});if((0,R.ce)("gla_ads_set_up_billing_click",t),"BUTTON"===s.currentTarget.nodeName){const{defaultView:t}=s.target.ownerDocument,n=(0,S.A)(t,600,800);t.open(e,"_blank",n)}};return(0,T.jsx)(f.A.Card,{className:"gla-google-ads-billing-setup-card",children:(0,T.jsxs)(f.A.Card.Body,{children:[(0,T.jsxs)("div",{className:"gla-google-ads-billing-setup-card__description",children:[(0,n.__)("You do not have billing information set up in your Google Ads account. Once you have set up billing, you can start running ads.","google-listings-and-ads"),(0,T.jsx)("div",{className:"gla-google-ads-billing-setup-card__description__helper",children:(0,a.createInterpolateElement)((0,n.__)("You will be directed to Google Ads for this step. In case your browser is unable to open the pop-up, <link>click here instead <icon /></link>.","google-listings-and-ads"),{link:(0,T.jsx)("a",{target:"_blank",rel:"external noreferrer noopener",href:e,onClick:i}),icon:(0,T.jsx)(u.Icon,{icon:p.A,size:12})})})]}),(0,T.jsx)(j.A,{isSecondary:!0,onClick:i,children:(0,n.__)("Set up billing","google-listings-and-ads")})]})})},I="https://support.google.com/google-ads/answer/2375375",{APPROVED:F}=N.CX;function G(){const{billingStatus:e,hasFinishedResolution:s}=(0,h.A)();return s?e.status===F?(0,T.jsxs)(u.Flex,{className:"gla-google-ads-billing-card__success-status",children:[(0,T.jsx)(g.A,{size:18}),(0,T.jsx)(u.FlexBlock,{children:(0,n.__)("Billing method for Google Ads added successfully","google-listings-and-ads")})]}):(0,T.jsx)(E,{billingUrl:e.billing_url||I}):(0,T.jsx)(m.A,{})}var M=t(8771),O=t(411);const P=({children:e})=>(0,T.jsx)("div",{className:"gla-budget-section",children:(0,T.jsxs)(f.A,{verticalGap:4,title:(0,n.__)("Set your budget","google-listings-and-ads"),description:(0,T.jsx)("p",{children:(0,n.__)("With Performance Max campaigns, you can set your own budget and Google’s Smart Bidding technology will serve the most appropriate ad, with the optimal bid, to maximize campaign performance. You only pay when people click on your ads, and you can start or stop your campaign whenever you want.","google-listings-and-ads")}),children:[(0,T.jsx)(f.A.Card,{children:(0,T.jsxs)(f.A.Card.Body,{className:"gla-budget-section__card-body",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(M.A.Title,{children:(0,n.__)("Average daily budget","google-listings-and-ads")}),(0,T.jsx)(M.A.Subtitle,{children:(0,n.__)("These values are based on your settings and the budgets of similar advertisers.","google-listings-and-ads")})]}),(0,T.jsx)(O.A,{}),(0,T.jsx)(u.Tip,{children:(0,n.__)("We recommend running campaigns at least 1 month so it can learn to optimize for your business.","google-listings-and-ads")})]})}),e]})});var L=t(1212),D=t(9452);const q=[{trackId:"how-does-google-ads-work",question:(0,n.__)("How does Google Ads work?","google-listings-and-ads"),answer:(0,n.__)("Google Ads works by displaying your ad when people search online for the products and services you offer. By leveraging smart technology, Google Ads helps get your ads in front of potential customers at just the moment they’re ready to take action.","google-listings-and-ads")},{trackId:"what-is-a-product-feed",question:(0,n.__)("What is a product feed?","google-listings-and-ads"),answer:(0,n.__)("Your product feed is the central data source that contains a list of products you want to advertise through Merchant Center. By default, Google syncs all active products from your WooCommerce inventory. You can choose to exclude products later after this setup.","google-listings-and-ads")},{trackId:"how-much-does-google-ads-cost",question:(0,n.__)("How much does Google Ads cost?","google-listings-and-ads"),answer:(0,n.__)("With Google Ads, you decide how much to spend. There’s no minimum spend, and no time commitment. Your costs may vary from day to day, but you won’t be charged more than your daily budget times the number of days in a month. You pay only for the actual clicks and calls that your ad receives.","google-listings-and-ads")},{trackId:"where-will-my-products-appear",question:(0,n.__)("Where will my products appear?","google-listings-and-ads"),answer:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{children:(0,n.__)("If you’re selling in the US, then eligible product feed can appear in search results across Google Search, Google Images, and the Google Shopping tab. If you’re selling outside the US, product feed will appear on the Shopping tab.","google-listings-and-ads")}),(0,T.jsx)("div",{children:(0,n.__)("If you’re running a Performance Max Campaign, your approved products can appear on Google Search, Google Maps, the Shopping tab, Gmail, Youtube, the Google Display Network, and Discover feed.","google-listings-and-ads")})]})},{trackId:"how-long-until-i-see-results-with-google-ads",question:(0,n.__)("How long until I see results with Google Ads?","google-listings-and-ads"),answer:(0,n.__)("Google’s Performance Max campaigns are powered by machine learning models. These models train and adapt based on the data you provide in your campaign. This means performance optimization can take time. Typically, this learning process takes 1—2 weeks.","google-listings-and-ads")}],U=()=>(0,T.jsx)(D.A,{trackName:"gla_setup_ads_faq",context:"setup-ads",faqItems:q});var B=t(8846),V=t(3632),$=t(850);function z(){const e=[{Icon:g.A,content:(0,n.__)("Set a daily budget, and only pay when people click on your ads.","google-listings-and-ads")}];return(0,T.jsx)("div",{className:"gla-paid-ads-features-section__feature-list",children:e.map(({Icon:e,content:s},t)=>(0,T.jsxs)(u.Flex,{align:"flex-start",children:[(0,T.jsx)(e,{size:"18"}),(0,T.jsx)(u.FlexBlock,{children:s})]},t))})}function W(){return(0,T.jsx)(f.A,{className:"gla-paid-ads-features-section",topContent:(0,T.jsx)(B.Pill,{children:(0,n.__)("Recommended","google-listings-and-ads")}),title:(0,n.__)("Performance Max campaign","google-listings-and-ads"),description:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("p",{children:(0,n.__)("Performance Max uses the best of Google’s AI to show the most impactful ads for your products at the right time and place. Google will use your product data to create ads for this campaign. ","google-listings-and-ads")}),(0,T.jsx)("p",{children:(0,T.jsx)(c.A,{context:"setup-paid-ads",linkId:"paid-ads-with-performance-max-campaigns-learn-more",href:"https://support.google.com/google-ads/answer/10724817",children:(0,n.__)("Learn more about Performance Max","google-listings-and-ads")})})]}),children:(0,T.jsx)(f.A.Card,{children:(0,T.jsx)(f.A.Card.Body,{children:(0,T.jsxs)($.A,{size:"medium",children:[(0,T.jsxs)(u.Flex,{className:"gla-paid-ads-features-section__content",align:"center",gap:9,children:[(0,T.jsxs)(u.FlexBlock,{children:[(0,T.jsx)(f.A.Card.Title,{children:(0,n.__)("Drive more sales with Performance Max","google-listings-and-ads")}),(0,T.jsx)("div",{className:"gla-paid-ads-features-section__subtitle",children:(0,n.__)("Reach more customers by advertising your products across Google Ads channels like Search, YouTube and Discover. Set up your campaign now so your products are included as soon as they’re approved.","google-listings-and-ads")}),(0,T.jsx)(z,{})]}),(0,T.jsx)(u.FlexItem,{children:(0,T.jsx)(L.A,{})})]}),(0,T.jsx)(V.A,{})]})})})})}function Y({headerTitle:e,context:s,skipButton:t,continueButton:g}){const u=(0,d.h5)(),h="setup-mc"===s,m="setup-ads"===s||"create-ads"===s||"edit-ads"===s,p="setup-mc"===s||"setup-ads"===s;let _=(0,a.createInterpolateElement)((0,n.__)("Performance Max campaigns are automatically optimized for you by Google. <link>See what your ads will look like.</link>","google-listings-and-ads"),{link:(0,T.jsx)(c.A,{context:s,linkId:"see-what-ads-look-like",href:"https://support.google.com/google-ads/answer/6275294"})});return h&&(_=(0,n.__)("You’re ready to set up a Performance Max campaign to drive more sales with ads. Your products will be included in the campaign after they’re approved.","google-listings-and-ads")),(0,T.jsxs)(o.A,{children:[(0,T.jsx)(i.A,{title:e,description:_}),h&&(0,T.jsx)(W,{}),(0,T.jsxs)(P,{children:[p&&(0,T.jsx)(G,{}),m&&(0,T.jsx)(L.B,{})]}),(0,T.jsxs)(r.A,{children:[(0,T.jsxs)(l.A,{children:["function"==typeof t?t(u):t,"function"==typeof g?g(u):g]}),(0,T.jsx)(U,{})]})]})}},1177:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(2848),a=t(4848);const o=e=>{const{context:s,linkId:t,href:o,...i}=e;return(0,a.jsx)(n.A,{eventProps:{context:s,link_id:t,href:o},type:"external",target:"_blank",href:o,...i,eventName:"gla_documentation_link_click"})}},1209:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(7143),a=t(2434),o=t(3905),i=t(2224);const r="getAdsCampaigns",l=(...e)=>{const s=(0,i.A)(e);return(0,n.useSelect)(e=>{const{adsSetupComplete:t}=o.Th;if(!t)return{loading:!1,loaded:!0,data:[]};const n=e(a.U),i=n[r](...s);return{loading:n.isResolving(r,s),loaded:n.hasFinishedResolution(r,s),data:i}},[s])}},1212:(e,s,t)=>{t.d(s,{B:()=>ae,A:()=>ee});var n=t(7723),a=t(6087),o=t(4038),i=t(6488),r=t(4111),l=t.n(r),c=t(5703),d=t(7133),g=t(9415),u=t(3741),h=t(6942),m=t.n(h),p=t(4848);const _={default:!1,thinnest:"gla-ads-mockup__placeholder--thinnest",thinner:"gla-ads-mockup__placeholder--thinner",thicker:"gla-ads-mockup__placeholder--thicker",blue:"gla-ads-mockup__placeholder--blue","gray-100":"gla-ads-mockup__placeholder--gray-100","gray-200":"gla-ads-mockup__placeholder--gray-200","gray-300":"gla-ads-mockup__placeholder--gray-300","gray-400":"gla-ads-mockup__placeholder--gray-400","gray-500":"gla-ads-mockup__placeholder--gray-500"};function x({width:e,color:s="gray-100",stroke:t="default"}){const n=m()("gla-ads-mockup__placeholder",_[s],_[t]);let a;return void 0!==e&&(a={width:/^\d+$/.test(e)?`${e}px`:e}),(0,p.jsx)("div",{className:n,style:a})}const f={default:!1,adBadge:"gla-ads-mockup__scaled-text--ad-badge",smaller:"gla-ads-mockup__scaled-text--smaller",larger:"gla-ads-mockup__scaled-text--larger",blue:"gla-ads-mockup__scaled-text--blue","gray-700":"gla-ads-mockup__scaled-text--gray-700","gray-800":"gla-ads-mockup__scaled-text--gray-800"};function j({adBadge:e=!1,size:s="default",color:t="gray-700",children:n}){const a=m()("gla-ads-mockup__scaled-text",f[t],f[s],e&&f.adBadge);return(0,p.jsx)("div",{className:a,children:n})}function v({product:e}){const s={backgroundImage:`url(${e.coverUrl})`};return(0,p.jsx)("div",{className:"gla-ads-mockup__product-cover",style:s})}const A=t.p+"images/js/src/images/campaign-preview/53f7ebba3e0e05545002.google-shopping-logo.svg";function y({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__tab-list",children:[(0,p.jsx)(x,{stroke:"thicker"}),(0,p.jsx)(x,{stroke:"thicker"}),(0,p.jsxs)("div",{className:"gla-ads-mockup__tab-item-with-logo",children:[(0,p.jsx)("img",{height:"30",src:A,alt:(0,n.__)("Google Shopping Logo","google-listings-and-ads")}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-500"})]}),(0,p.jsx)(x,{stroke:"thicker"})]}),(0,p.jsxs)("div",{className:"gla-ads-mockup__shopping-product",children:[(0,p.jsx)(v,{product:e}),(0,p.jsxs)("div",{className:"gla-ads-mockup__shopping-product-info",children:[(0,p.jsx)(j,{size:"larger",color:"gray-800",children:e.title}),(0,p.jsx)(j,{color:"gray-800",children:e.price}),(0,p.jsx)(j,{size:"smaller",children:e.shopName})]})]})]})}y.displayName="MockupShopping";const b=(0,a.forwardRef)(y);var C=t(6227);const w=t.p+"images/js/src/images/campaign-preview/6ad8e32cee58c14f05a5.youtube-logo.svg";function k({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup",children:[(0,p.jsx)("div",{className:"gla-ads-mockup__youtube-header",children:(0,p.jsx)("img",{height:"16",src:w,alt:(0,n.__)("YouTube Logo","google-listings-and-ads")})}),(0,p.jsxs)("div",{className:"gla-ads-mockup__youtube-product",children:[(0,p.jsx)(v,{product:e}),(0,p.jsxs)("div",{className:"gla-ads-mockup__youtube-learn-more-row",children:[(0,p.jsx)("div",{children:(0,p.jsx)(j,{size:"smaller",color:"blue",children:(0,n.__)("LEARN MORE","google-listings-and-ads")})}),(0,p.jsx)(C.A,{size:10})]}),(0,p.jsxs)("div",{className:"gla-ads-mockup__youtube-product-info",children:[(0,p.jsx)(j,{size:"larger",color:"gray-800",children:e.title}),(0,p.jsx)(x,{}),(0,p.jsx)(x,{width:"135"}),(0,p.jsx)(j,{size:"smaller",adBadge:!0,children:e.shopName})]})]})]})}k.displayName="MockupYouTube";const N=(0,a.forwardRef)(k);var S=t(6427),R=t(6740);function T({hideMenu:e=!1}){return(0,p.jsxs)("div",{className:"gla-ads-mockup__search-bar",children:[(0,p.jsx)(R.A,{size:13}),(0,p.jsxs)("div",{className:"gla-ads-mockup__search-bar-menu",hidden:e,children:[(0,p.jsx)(x,{stroke:"thinnest",color:"gray-400"}),(0,p.jsx)(x,{stroke:"thinnest",color:"gray-400"}),(0,p.jsx)(x,{stroke:"thinnest",color:"gray-400"})]})]})}function E({product:e}){const s={backgroundImage:`url(${e.shopLogoUrl})`};return(0,p.jsx)("div",{className:"gla-ads-mockup__shop-logo",style:s})}var I=t(9692);function F({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup gla-ads-mockup-search",children:[(0,p.jsx)("div",{className:"gla-ads-mockup__search-header",children:(0,p.jsx)("img",{height:"22",src:I,alt:(0,n.__)("Google Logo","google-listings-and-ads")})}),(0,p.jsx)(T,{hideMenu:!0}),(0,p.jsxs)("div",{className:"gla-ads-mockup__search-keywords",children:[(0,p.jsx)(x,{width:"30",stroke:"thicker",color:"gray-500"}),(0,p.jsx)(x,{width:"42",stroke:"thicker"}),(0,p.jsx)(x,{width:"32",stroke:"thicker"}),(0,p.jsx)(x,{width:"45",stroke:"thicker"}),(0,p.jsx)(x,{width:"30",stroke:"thinner",color:"gray-500"})]}),(0,p.jsxs)("div",{className:"gla-ads-mockup__search-card",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__search-card-header",children:[(0,p.jsx)(j,{size:"smaller",adBadge:!0,children:e.shopUrl}),(0,p.jsx)(x,{stroke:"thinner",width:"79",color:"blue"})]}),(0,p.jsxs)(S.Flex,{align:"stretch",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__search-card-placeholders",children:[(0,p.jsx)(x,{width:"100"}),(0,p.jsx)(x,{width:"97"}),(0,p.jsx)(x,{width:"95"}),(0,p.jsx)(x,{width:"99"}),(0,p.jsx)(x,{width:"90"}),(0,p.jsx)(x,{width:"78"})]}),(0,p.jsx)(E,{product:e})]})]}),(0,p.jsx)("div",{className:"gla-ads-mockup__search-card",children:(0,p.jsxs)("div",{className:"gla-ads-mockup__search-card-placeholders",children:[(0,p.jsx)(x,{stroke:"thinner",width:"79",color:"gray-400"}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-300"}),(0,p.jsx)(x,{width:"122"}),(0,p.jsx)(x,{width:"108"}),(0,p.jsx)(x,{width:"100"}),(0,p.jsx)(x,{width:"55"})]})}),(0,p.jsx)("div",{className:"gla-ads-mockup__search-card",children:(0,p.jsx)("div",{className:"gla-ads-mockup__search-card-placeholders",children:(0,p.jsx)(x,{stroke:"thinner",width:"79",color:"gray-400"})})})]})}F.displayName="MockupSearch";const G=(0,a.forwardRef)(F);function M({product:e}){return(0,p.jsxs)("div",{className:"gla-ads-mockup__product-banner",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__product-banner-info",children:[(0,p.jsx)(j,{size:"smaller",adBadge:!0,children:e.shopName}),(0,p.jsx)(x,{stroke:"thinner",width:"85",color:"gray-300"}),(0,p.jsx)(x,{stroke:"thinner",width:"65",color:"gray-300"}),(0,p.jsx)(x,{stroke:"thinner",width:"27",color:"blue"})]}),(0,p.jsx)(E,{product:e})]})}const O=t.p+"images/js/src/images/campaign-preview/ccb636afd5f179a2a92c.gmail-logo.svg";function P(){return(0,p.jsxs)("div",{className:"gla-ads-mockup__mail-item",children:[(0,p.jsx)(x,{stroke:"thinner",color:"gray-200",width:"65"}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-200"}),(0,p.jsx)(x,{stroke:"thinner",width:"122"})]})}function L({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup gla-ads-mockup-gmail",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__gmail-header",children:[(0,p.jsx)("img",{height:"15",src:O,alt:(0,n.__)("Gmail Logo","google-listings-and-ads")}),(0,p.jsx)(T,{hideMenu:!0})]}),(0,p.jsx)(M,{product:e}),(0,p.jsx)(P,{}),(0,p.jsx)(P,{}),(0,p.jsx)(P,{}),(0,p.jsx)(P,{}),(0,p.jsx)(P,{})]})}L.displayName="MockupGmail";const D=(0,a.forwardRef)(L);var q=t(3230);const U=t.p+"images/js/src/images/campaign-preview/e398c276792a4a469b92.ad-corner-buttons-image.svg";function B({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup gla-ads-mockup-display",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__display-placeholders",children:[(0,p.jsx)(x,{stroke:"thinner",color:"gray-300"}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-300",width:"146"}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-300",width:"149"}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-300",width:"135"})]}),(0,p.jsxs)("div",{className:"gla-ads-mockup__display-product",children:[(0,p.jsxs)("div",{className:"gla-ads-mockup__display-product-locator",children:[(0,p.jsx)(v,{product:e}),(0,p.jsx)("img",{className:"gla-ads-mockup__display-corner-buttons",src:U,alt:(0,n.__)("Simulated the info and close buttons at the corner of a Google ad","google-listings-and-ads")}),(0,p.jsx)("div",{className:"gla-ads-mockup__display-chevron-button",children:(0,p.jsx)(q.A,{size:16})})]}),(0,p.jsx)(x,{stroke:"thinner",color:"gray-500"})]}),(0,p.jsxs)("div",{className:"gla-ads-mockup__display-placeholders",children:[(0,p.jsx)(x,{}),(0,p.jsx)(x,{width:"151"}),(0,p.jsx)(x,{width:"135"}),(0,p.jsx)(x,{}),(0,p.jsx)(x,{}),(0,p.jsx)(x,{width:"151"})]})]})}B.displayName="MockupDisplay";const V=(0,a.forwardRef)(B);var $=t(3423);const z=t.p+"images/js/src/images/campaign-preview/093d4a30c2447b174c17.map-background.png";function W({product:e},s){return(0,p.jsxs)("div",{ref:s,className:"gla-ads-mockup gla-ads-mockup-map",style:{backgroundImage:`url(${z})`},children:[(0,p.jsx)(T,{}),(0,p.jsx)($.A,{size:45}),(0,p.jsx)(M,{product:e})]})}W.displayName="MockupMap";const Y=(0,a.forwardRef)(W),H=t.p+"images/js/src/images/campaign-preview/8955ab13b4b35353af90.product-sample-image.jpg",Q=t.p+"images/js/src/images/campaign-preview/26a3f83547ba2af2f541.shop-sample-logo.png";var K=t(3905);const J={title:(0,n._x)("White tee","A sample product title for demonstrating the paid ads shown on Google services.","google-listings-and-ads"),price:(0,n._x)("$10.00","A sample product price for demonstrating the paid ads shown on Google services.","google-listings-and-ads"),shopName:(0,n._x)("Colleen's Tee Store","A sample name of an online shop for demonstrating the paid ads shown on Google services.","google-listings-and-ads"),coverUrl:H,shopLogoUrl:Q,shopUrl:"colleensteestore.com"},X={page:1,per_page:1,orderby:"total_sales",order:"desc"},Z=[b,N,G,Y,V,D].map(e=>[(0,a.createRef)(),e]),ee=(0,a.forwardRef)(function({autoplay:e=!0},s){const[t,n]=(0,a.useState)(0),{second:r,callCount:h,startCountdown:m}=(0,d.A)(),{hasFinishedResolution:_,data:x}=(0,g.A)("getMCProductFeed",X),f=e&&_,j=(0,a.useCallback)(e=>{n(s=>{const t=Z.length;return(s+e+t)%t})},[]);if((0,a.useEffect)(()=>{f&&0===r&&(h>0&&j(1),m(5))},[f,r,h,m,j]),(0,a.useImperativeHandle)(s,()=>({moveBy:j})),!_)return(0,p.jsx)("div",{className:"gla-ads-mockup",children:(0,p.jsx)(u.A,{})});const[v,A]=Z[t],y=function(e=[]){const s=l()((0,c.getSetting)("currency")),[t={}]=e,{title:n,price:a,image_url:o}=t,i={title:n,coverUrl:o,price:s.formatAmount(a),shopName:(0,c.getSetting)("siteTitle"),shopUrl:new URL((0,c.getSetting)("homeUrl")).host,shopLogoUrl:K.Th.siteLogoUrl};return Object.entries(i).forEach(([e,s])=>{s||(i[e]=J[e])}),i}(x?.products);return(0,p.jsx)(o.A,{className:"gla-campaign-preview",children:(0,p.jsx)(i.A,{nodeRef:v,classNames:"gla-campaign-preview__transition-blur",timeout:500,children:(0,p.jsx)(A,{ref:v,product:y})},t)})});var se=t(8687),te=t(8242),ne=t(7892);function ae(){const e=(0,a.useRef)(),s=s=>{const t=Number(s.currentTarget.dataset.step);e.current.moveBy(t)};return(0,p.jsx)(te.A.Card,{className:"gla-campaign-preview-card",children:(0,p.jsx)(te.A.Card.Body,{children:(0,p.jsxs)(S.Flex,{align:"start",gap:9,direction:["column","row"],children:[(0,p.jsxs)(S.FlexBlock,{children:[(0,p.jsx)(te.A.Card.Title,{children:(0,n.__)("Preview product ad","google-listings-and-ads")}),(0,p.jsx)("div",{children:(0,n.__)("Each of your product variants will have its own ad. Previews shown here are examples and don't include all possible formats.","google-listings-and-ads")})]}),(0,p.jsx)(S.FlexItem,{children:(0,p.jsxs)(S.Flex,{align:"center",gap:5,children:[(0,p.jsx)(ne.A,{className:"gla-campaign-preview-card__moving-button",icon:(0,p.jsx)(se.A,{}),iconSize:16,onClick:s,"data-step":"-1"}),(0,p.jsx)(ee,{ref:e,autoplay:!1}),(0,p.jsx)(ne.A,{className:"gla-campaign-preview-card__moving-button",icon:(0,p.jsx)(q.A,{}),iconSize:16,onClick:s,"data-step":"1"})]})})]})})})}},1244:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6942),a=t.n(n),o=t(4848);const i=({amount:e=0,suffix:s=""})=>{let t=e;isNaN(e)&&(t=0);const n=t>0;let i=`${parseInt(t,10)}${String(s)}`;n&&(i=`+${i}`);const r=t<0;return(0,o.jsx)("span",{className:a()("gla-delta-value",{"gla-delta-value--negative":r,"gla-delta-value--positive":n}),children:i})}},1274:(e,s,t)=>{t.d(s,{A:()=>K});var n=t(8e3),a=t(3741),o=t(559),i=t(8678),r=t(7723),l=t(6087),c=t(6427),d=t(7892),g=t(1177),u=t(4848);const h=({disabled:e})=>{const s="setup-mc",[t,{loading:n,data:a}]=(0,i.TQ)(s),[h,m]=(0,l.useState)(!1);return(0,u.jsx)(o.A,{appearance:o.x.GOOGLE,disabled:e,alignIcon:"top",className:"gla-google-combo-service-account-card--google",description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:(0,r.__)("Required to sync with Google Merchant Center and Google Ads.","google-listings-and-ads")}),(0,u.jsx)(c.CheckboxControl,{label:(0,l.createInterpolateElement)((0,r.__)("I accept the terms and conditions of <linkMerchant>Merchant Center</linkMerchant> and <linkAds>Google Ads</linkAds>","google-listings-and-ads"),{linkMerchant:(0,u.jsx)(g.A,{context:"setup-mc-accounts",linkId:"google-mc-terms-of-service",href:"https://support.google.com/merchants/answer/160173"}),linkAds:(0,u.jsx)(g.A,{context:"setup-ads",linkId:"google-ads-terms-of-service",href:"https://support.google.com/adspolicy/answer/54818"})}),checked:h,onChange:m,disabled:e})]}),helper:(0,l.createInterpolateElement)((0,r.__)("You will be prompted to give WooCommerce access to your Google account. Please check all the checkboxes to give WooCommerce all required permissions. <link>Read more</link>","google-listings-and-ads"),{link:i.mU}),alignIndicator:"top",indicator:(0,u.jsx)(d.A,{isSecondary:!0,disabled:e||!h,loading:n||a,eventName:"gla_google_account_connect_button_click",eventProps:{context:s,action:"authorization"},text:(0,r.__)("Connect","google-listings-and-ads"),onClick:t})})};var m=t(2434),p=t(9457),_=t(7792);const x=({onContinue:e,onRequestClose:s})=>(0,u.jsxs)(p.A,{className:"gla-ads-warning-modal",title:(0,r.__)("Create Google Ads Account","google-listings-and-ads"),buttons:[(0,u.jsx)(d.A,{isSecondary:!0,onClick:e,children:(0,r.__)("Yes, I want a new account","google-listings-and-ads")},"confirm"),(0,u.jsx)(d.A,{isPrimary:!0,onClick:s,children:(0,r.__)("Cancel","google-listings-and-ads")},"cancel")],onRequestClose:s,children:[(0,u.jsxs)("p",{className:"gla-ads-warning-modal__warning-text",children:[(0,u.jsx)(_.A,{}),(0,u.jsx)("span",{children:(0,r.__)("Are you sure you want to create a new Google Ads account?","google-listings-and-ads")})]}),(0,u.jsx)("p",{children:(0,r.__)("You already have another Ads account associated with this Google account.","google-listings-and-ads")}),(0,u.jsx)("p",{children:(0,r.__)("If you create a new Google Ads account, you will need to accept an invite to the account before it can be used.","google-listings-and-ads")})]});var f=t(458),j=t(5530),v=t(5992),A=t(1378);const y=({isConnected:e,onCreateNewClick:s,onDisconnected:t,disabled:n,...a})=>{const{existingAccounts:o}=(0,j.A)(),{googleAdsAccount:i}=(0,A.A)(),{hasAccess:l}=(0,v.A)(),c=Boolean(i?.id&&!1===l);if(e&&o.length>0)return(0,u.jsx)(f.iZ,{onDisconnected:t});const g=n||c&&!o.length;return(0,u.jsx)(d.A,{isTertiary:!0,onClick:s,disabled:g,...a,children:(0,r.__)("Or, create a new Google Ads account","google-listings-and-ads")})};var b=t(8441),C=t(6599),w=t(1351),k=t(2661),N=t(4566),S=t(6876);const R=({onCreateClick:e})=>{const[s,t]=(0,l.useState)(),[n,a]=(0,l.useState)(!1),{fetchGoogleAdsAccountStatus:i}=(0,m.j)(),{isGoogleAdsReady:c}=(0,w.A)(),{googleAdsAccount:d,hasFinishedResolution:g,hasGoogleAdsConnection:h,refetchGoogleAdsAccount:p}=(0,A.A)(),[_]=(0,C.A)({path:"/wc/gla/ads/accounts",method:"POST",data:{id:s}});(0,l.useEffect)(()=>{h&&t(d.id)},[d,h]);return(0,u.jsx)(o.A,{className:"gla-google-combo-account-card gla-google-combo-service-account-card--ads",title:(0,r.__)("Connect to existing Google Ads account","google-listings-and-ads"),helper:(0,r.__)("Required to set up conversion measurement for your store.","google-listings-and-ads"),alignIndicator:"toDetail",indicator:g?n?(0,u.jsx)(b.A,{text:(0,r.__)("Connecting…","google-listings-and-ads")}):c?(0,u.jsx)(N.A,{}):(0,u.jsx)(f.AV,{disabled:h,accountID:s,onClick:async()=>{if(s){a(!0);try{await _(),await i(),await p()}catch(e){(0,S.h)(e,null,(0,r.__)("Unable to connect your Google Ads account. Please try again later.","google-listings-and-ads"))}finally{a(!1)}}}}):(0,u.jsx)(b.A,{}),detail:(0,u.jsx)(k.A,{value:s,onChange:t,autoSelectFirstOption:!0,nonInteractive:h},Boolean(s)),actions:(0,u.jsx)(y,{disabled:n,isConnected:h,onCreateNewClick:e,onDisconnected:()=>{t(void 0)}})})},T=({upsertingAction:e})=>{const s="update"===e;let t=(0,r.__)("Creating a new Google Ads account","google-listings-and-ads"),n=(0,r.__)("Creating…","google-listings-and-ads");return s&&(t=(0,r.__)("Connecting your Google Ads account","google-listings-and-ads"),n=(0,r.__)("Connecting…","google-listings-and-ads")),(0,u.jsx)(o.A,{className:"gla-google-combo-service-account-card--ads",title:t,helper:(0,r.__)("This may take a few moments, please wait…","google-listings-and-ads"),indicator:(0,u.jsx)(b.A,{text:n})})},E=({onRequestCreate:e,upsertingAction:s})=>{const[t,n]=(0,l.useState)(!1);if(s)return(0,u.jsx)(T,{upsertingAction:s});const a=()=>{n(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(R,{onCreateClick:()=>{n(!0)}}),t&&(0,u.jsx)(x,{onContinue:()=>{e(),a()},onRequestClose:a})]})};var I=t(7916);const F=()=>{const{google:e}=(0,n.A)(),{googleAdsAccount:s}=(0,A.A)(),{googleMCAccount:t,isReady:a}=(0,I.A)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{children:e.email}),(0,u.jsx)("p",{children:a&&(0,r.sprintf)(
// Translators: %s is the Merchant Center ID
// Translators: %s is the Merchant Center ID
(0,r.__)("Merchant Center ID: %s","google-listings-and-ads"),t.id)}),(0,u.jsx)("p",{children:s?.id>0&&(0,r.sprintf)(
// Translators: %s is the Google Ads ID
// Translators: %s is the Google Ads ID
(0,r.__)("Google Ads ID: %s","google-listings-and-ads"),s.id)})]})};var G=t(7108),M=t(5559);const O=()=>{const{fetchGoogleAdsAccountStatus:e}=(0,m.j)();return(0,M.A)(e,30),(0,u.jsxs)("div",{className:"gla-claim-ads-account-box",children:[(0,u.jsx)("h4",{children:(0,r.__)("Claim your Google Ads account","google-listings-and-ads")}),(0,u.jsx)("p",{children:(0,r.__)("You need to accept the invitation to the Google Ads account we created for you. This gives you access to Google Ads and sets up conversion measurement. You must claim your account in the next 20 days.","google-listings-and-ads")}),(0,u.jsx)("p",{className:"gla-ads-post-claim-instructions",children:(0,r.__)("After accepting the invitation, you’ll be prompted to set up billing. We highly recommend doing this to avoid having to do it later on.","google-listings-and-ads")}),(0,u.jsxs)(f.My,{isPrimary:!0,children:[(0,r.__)("Claim account in Google Ads","google-listings-and-ads"),(0,u.jsx)(c.Icon,{icon:G.A,size:20})]})]})},P=({claimGoogleAdsAccount:e,showConversionMeasurementNotice:s})=>e||s?(0,u.jsxs)("div",{className:"gla-connected-ads-account-detail",children:[e&&(0,u.jsx)(O,{}),s&&(0,u.jsx)(c.Notice,{status:"success",isDismissible:!1,children:(0,r.__)("Google Ads conversion measurement has been set up for your store.","google-listings-and-ads")})]}):null,L=({showSpinner:e})=>{const{isGoogleAdsReady:s}=(0,w.A)(),{isReady:t}=(0,I.A)();return e?(0,u.jsx)(b.A,{text:(0,r.__)("Creating…","google-listings-and-ads")}):s&&t?(0,u.jsx)(N.A,{}):null},D="both",q="ads",U="mc";var B=t(6028),V=t(3354),$=t(2722),z=t(70);var W=t(5640);var Y=t(7807),H=t(4391);const Q=()=>{const[e,s]=(0,l.useState)(!1),[t,n]=(()=>{const{createNotice:e}=(0,W.A)(),{invalidateResolution:s}=(0,m.j)(),[t,n]=(0,C.A)({path:"/wc/gla/mc/accounts",method:"POST"});return[async()=>{try{await t({data:n.error?.id&&{id:n.error.id},parse:!1}),s("getGoogleMCAccount",[])}catch(s){if(![403,503].includes(s.status)){const t=(await s.json()).message||(0,r.__)("Unable to create Merchant Center account. Please try again later.","google-listings-and-ads");e("error",t)}}},n]})(),{data:a}=(0,$.A)(),{hasDetermined:c,creatingWhich:g}=(e=>{const s=(0,l.useRef)(!1),[t,n]=(0,l.useState)(null),[a,o]=(0,l.useState)(!1),i=(()=>{const{hasFinishedResolution:e,hasGoogleAdsConnection:s}=(0,A.A)(),{hasFinishedResolution:t,existingAccounts:n}=(0,j.A)();return e&&t?!s&&0===n?.length:null})(),r=(()=>{const{hasFinishedResolution:e,hasGoogleMCConnection:s}=(0,I.A)(),{hasFinishedResolution:t,data:n}=(0,$.A)();return e&&t?!s&&0===n?.length:null})(),[c]=(0,z.A)();return(0,l.useEffect)(()=>{if(null===r||null===i||s.current)return;let t=null;s.current=!0,r&&i?t=D:r?t=U:i&&(t=q),n(t),o(!0),t&&(async()=>{t===D?(await e(),await c()):t===U?await e():t===q&&await c(),n(null)})()},[e,i,r,c]),{hasDetermined:a,creatingWhich:t}})(t),{text:h,subText:p}=(e=>{let s=null,t=null;switch(e){case D:s=(0,r.__)("You don’t have Merchant Center nor Google Ads accounts, so we’re creating them for you.","google-listings-and-ads"),t=(0,r.__)("Merchant Center is required to sync products so they show on Google. Google Ads is required to set up conversion measurement for your store.","google-listings-and-ads");break;case q:s=(0,r.__)("You don’t have Google Ads account, so we’re creating one for you.","google-listings-and-ads"),t=(0,r.__)("Required to set up conversion measurement for your store.","google-listings-and-ads");break;case U:s=(0,r.__)("You don’t have Merchant Center account, so we’re creating one for you.","google-listings-and-ads"),t=(0,r.__)("Required to sync products so they show on Google.","google-listings-and-ads")}return{text:s,subText:t}})(g),{existingAccounts:_}=(0,j.A)(),{isReady:x,hasGoogleMCConnection:f,hasFinishedResolution:y}=(0,I.A)(),{invalidateResolution:b}=(0,m.j)(),{googleAdsAccount:w,hasGoogleAdsConnection:k}=(0,A.A)(),{hasAccess:N,step:S}=(0,v.A)(),[R,{action:T,loading:G}]=(0,z.A)(),M=a?.length>0,O=_?.length>0,Q=Boolean(!G&&w?.id&&!1===N),K=!0===N&&"conversion_action"===S;(0,l.useEffect)(()=>{(async()=>{K&&(await R(),b("getExistingGoogleAdsAccounts",[]))})()},[K,R,b]);const J=[409,403].includes(n.response?.status)||M||f,X=J&&(e||!x),Z=k||O,ee=Z&&(e||!k);if((0,l.useEffect)(()=>{!e||f||k||s(!1)},[e,k,f]),!c)return(0,u.jsx)(B.A,{});const se=(0,u.jsx)(i.w5,{isTertiary:!0,text:(0,r.__)("Or, connect to a different Google account","google-listings-and-ads")}),te=Boolean(g)&&!Q||!ee&&K,ne=(0,H.A)(w),ae=y&&x;return(0,u.jsxs)("div",{className:"gla-google-combo-account-card-wrapper",children:[(0,u.jsx)(o.A,{appearance:o.x.GOOGLE,alignIcon:"top",className:"gla-google-combo-account-card gla-google-combo-account-card--connected gla-google-combo-service-account-card--google",description:h||(0,u.jsx)(F,{}),actions:e?(0,u.jsxs)("div",{className:"gla-google-combo-account-card__description-actions",children:[se,(0,u.jsx)(d.A,{isTertiary:!0,onClick:()=>{s(!1)},children:(0,r.__)("Cancel","google-listings-and-ads")})]}):(0,u.jsx)("div",{className:"gla-google-combo-account-card__description-actions",children:!ee&&Z||!X&&J?(0,u.jsx)(d.A,{isTertiary:!0,text:(0,r.__)("Edit","google-listings-and-ads"),onClick:()=>{s(!0)}}):se}),helper:p,indicator:(0,u.jsx)(L,{showSpinner:te}),detail:(0,u.jsx)(P,{showConversionMeasurementNotice:ne,claimGoogleAdsAccount:Q}),expandedDetail:!0}),ee&&(0,u.jsx)(E,{onRequestCreate:R,upsertingAction:T}),X&&(0,u.jsx)(Y.b,{createAccount:t,resultCreateAccount:n,className:"gla-google-combo-account-card gla-google-combo-service-account-card--mc"}),ae&&(0,u.jsx)(V.S,{})]})};function K({disabled:e=!1}){const{google:s,scope:t,hasFinishedResolution:r}=(0,n.A)();if(!r)return(0,u.jsx)(o.A,{description:(0,u.jsx)(a.A,{})});const l="yes"===s?.active;return l&&t.onboardingRequired?(0,u.jsx)(Q,{}):l&&!t.onboardingRequired?(0,u.jsx)(i.dR,{additionalScopeEmail:s.email}):(0,u.jsx)(h,{disabled:e})}},1340:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(7723),a=t(9415),o=t(3905);const i=(0,n._x)(", ","the separator for concatenating the categories where the Attribute mapping rule is applied.","google-listings-and-ads"),r=e=>({key:e.id,label:e.name,value:e.id}),l=(e=[])=>e.map(r),c=e=>e.slice(0,o.vL).map(e=>e.label).join(i),d=(e=[])=>{const{data:s,hasFinishedResolution:t}=(0,a.A)("getStoreCategories");if(!t)return{hasFinishedResolution:t,categories:[],selected:[],names:""};const o=e.filter(e=>!s.find(s=>s.id.toString()===e)).map(e=>{return{id:e,name:(s=e,(0,n.sprintf)(
// translators: %d: number of categories.
// translators: %d: number of categories.
(0,n.__)("Category ID %s (deleted)","google-listings-and-ads"),[s])),parent:0};var s}),i=[...s,...o],d=((e,s)=>e.map(e=>{const t=s.find(s=>s.id.toString()===e);return r(t)}))(e,i);return{hasFinishedResolution:t,selected:d,categories:l(i),names:c(d)}}},1351:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(1378),a=t(5992);const o={isGoogleAdsReady:null,isLinkedToMerchantCenter:null},i=()=>{const{hasGoogleAdsConnection:e,hasFinishedResolution:s}=(0,n.A)(),{hasAccess:t,step:i,hasFinishedResolution:r}=(0,a.A)();if(!s||!r)return o;const l=t&&["","billing"].includes(i);return{isGoogleAdsReady:e&&t&&["","billing","link_merchant"].includes(i),isLinkedToMerchantCenter:l}}},1378:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(7143),a=t(6087),o=t(6520),i=t(2434),r=t(3905),l=t(8e3);const c="getGoogleAdsAccount",d=()=>{const{google:e,isResolving:s,hasFinishedResolution:t}=(0,l.A)(),d=(0,i.j)(),g=(0,a.useCallback)(()=>{d.invalidateResolution(c,[])},[d]);return(0,n.useSelect)(n=>{if(!e||"no"===e.active)return{googleAdsAccount:void 0,isResolving:s,hasFinishedResolution:t};const a=n(o.Ui),i=a[c](),l=a.isResolving(c),d=[r.Wn.CONNECTED,r.Wn.INCOMPLETE].includes(i?.status);return{googleAdsAccount:i,isResolving:l,refetchGoogleAdsAccount:g,hasFinishedResolution:a.hasFinishedResolution(c),hasGoogleAdsConnection:d}},[e,s,t,g])}},1394:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/1ad852c48821e91bfd6e.img-quote.svg"},1396:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(6087);const a=(e,s=1)=>{var t;const[a,o]=(0,n.useState)({}),i=(0,n.useCallback)(s=>{o(t=>({...t,[e]:s}))},[e]);return{page:null!==(t=a[e])&&void 0!==t?t:s,setPage:i}}},1456:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(7916),o=t(6520);function i(){const{hasGoogleMCConnection:e}=(0,a.A)();return(0,n.useSelect)(s=>{if(!e)return!1;const t=s(o.Ui).getGoogleMCContactInformation();return!!t&&!t.wc_address_errors.length},[e])}},1650:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6087),a=t(6476),o=t(8468);const i=()=>!0;function r(e,s,t=i){const{key:r}=(0,a.getHistory)().location;(0,n.useEffect)(()=>{let n=o.noop;return s&&(n=(0,a.getHistory)().block(s=>{const{location:a,retry:o}=s;let i=!0;t(function(e){return{...e,pathname:e.pathname.replace(/^(\/wp-admin)?\//,"")}}(a))&&(i=window.confirm(e)),i&&(n(),o())})),()=>{n()}},[r,e,s,t])}},1670:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6087),a=t(6427),o=t(8846),i=t(6942),r=t.n(i),l=t(4848);const c=e=>{const{selectedKey:s,tabs:t}=e;return(0,l.jsx)(a.NavigableMenu,{role:"tablist",orientation:"horizontal",className:"subsubsub gla-sub-nav",children:t.map((e,a)=>{const i=e.key===s;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(o.Link,{className:r()({current:i}),tabIndex:i?null:-1,id:`${e.key}`,href:e.href,role:"tab","aria-selected":i,"aria-controls":`${e.key}-view`,"aria-current":!!i&&"page",children:e.title+" "}),a<t.length-1?" | ":" "]},e.key)})})}},1787:(e,s,t)=>{t.d(s,{A:()=>h});var n=t(7723),a=t(7752),o=t(3905),i=t(5744),r=t(6087),l=t(7143),c=t(6520);const d=(e,s=c.mY)=>{const t=((e=c.mY)=>(0,l.useSelect)(s=>s(e).getNotices(),[e]))(s).find(s=>s.content===e);return(0,r.useEffect)(()=>{const{removeNotice:e}=(0,l.dispatch)(s);return()=>{t&&e(t.id)}},[t,s]),t||null};var g=t(6473),u=t(4848);const h=({eventContext:e,label:s,secondLabel:t})=>(d(s,"core/notices2"),(0,u.jsx)(a.CustomerEffortScore,{label:s,title:s,firstQuestion:s,secondQuestion:t,recordScoreCallback:(s,t,n)=>{(0,g.ce)("gla_ces_feedback",{context:e,score:s,comments:n||""})},onNoticeShownCallback:()=>{i.A.remove(o.rS.CAN_ONBOARDING_SETUP_CES_PROMPT_OPEN),(0,g.ce)("gla_ces_snackbar_open",{context:e})},onNoticeDismissedCallback:()=>{(0,g.ce)("gla_ces_snackbar_closed",{context:e})},onModalShownCallback:()=>{(0,g.ce)("gla_ces_modal_open",{context:e})},icon:(0,u.jsx)("span",{style:{height:21,width:21},role:"img","aria-label":(0,n.__)("Pencil icon","google-listings-and-ads"),children:"✏️"})}))},1830:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6087),a=t(3832),o=t(6520),i=t(6599);function r(e,s){const t=(0,n.useMemo)(()=>{const t={next_page_name:e,login_hint:s};return{path:(0,a.addQueryArgs)(`${o.RV}/google/connect`,t)}},[e,s]);return(0,i.A)(t)}},1948:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/d7e2d04ea7d6535fecf8.motivation.svg"},1968:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(5703);const a=()=>(0,n.getSetting)("adminUrl")},2047:(e,s,t)=>{t.d(s,{A:()=>g});var n=t(7723),a=t(6427),o=t(6087),i=t(1378),r=t(3772),l=t(1177),c=t(3905),d=t(4848);const g=({context:e})=>{const{googleAdsAccount:s}=(0,i.A)(),{code:t}=(0,r.A)();return s&&s.status===c.Wn.CONNECTED&&s.currency!==t?(0,d.jsx)(a.Notice,{className:"gla-different-currency-notice",status:"warning",isDismissible:!1,children:(0,o.createInterpolateElement)((0,n.__)("Note: The currency set in your Google Ads account is <adsCurrency />, which is different from your store currency, <storeCurrency />. <readMoreLink>Read more</readMoreLink>","google-listings-and-ads"),{adsCurrency:(0,d.jsx)("strong",{children:s.currency}),storeCurrency:(0,d.jsx)("strong",{children:t}),readMoreLink:(0,d.jsx)(l.A,{className:"gla-different-currency-notice__link",href:"https://support.google.com/google-ads/answer/9841530",context:e,linkId:"setting-up-currency"})})}):null}},2118:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6427),a=t(4848);const o=e=>(0,a.jsx)("div",{className:"app-standalone-toggle-control",children:(0,a.jsx)(n.ToggleControl,{...e})})},2159:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6942),a=t.n(n),o=t(4848);const i=e=>{const{className:s,...t}=e;return(0,o.jsx)("div",{className:a()("app-table-card-div",s),...t})}},2178:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(3207),a=t(4848);const o=({size:e=18})=>(0,a.jsx)(n.A,{className:"gla-error-icon",size:e})},2224:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(8468),a=t(6087);const o=e=>{const s=(0,a.useRef)(e);return(0,n.isEqual)(s.current,e)||(s.current=e),s.current}},2391:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(7723),a=t(6476),o=t(7892),i=t(3905),r=t(3666),l=t(6473),c=t(4848);const d=e=>{const{eventName:s="gla_add_paid_campaign_clicked",eventProps:t,children:d,onClick:g=()=>{},...u}=e,{adsSetupComplete:h}=i.Th,m=h?(0,r.uB)():(0,a.getNewPath)({},"/google/setup-ads",{}),p={context:"",href:m};return(0,c.jsx)(o.A,{isSmall:!0,isSecondary:!0,onClick:(...e)=>{(0,l.ce)(s,{...p,...t}),(0,a.getHistory)().push(m),g(...e)},...u,children:d||(0,n.__)("Add campaign","google-listings-and-ads")})}},2448:(e,s,t)=>{t.d(s,{A:()=>k});var n=t(7723),a=t(6087),o=t(8468),i=t(5556),r=t.n(i),l=t(6476),c=t(7374),d=t(4111),g=t.n(d),u=t(8846),h=t(6427),m=t(6459),p=t(4848);class _ extends a.Component{constructor({getLabels:e,param:s,query:t}){super(...arguments),this.state={selected:[]},this.clearQuery=this.clearQuery.bind(this),this.updateQuery=this.updateQuery.bind(this),this.updateLabels=this.updateLabels.bind(this),this.onButtonClicked=this.onButtonClicked.bind(this),t[s]&&e(t[s],t).then(this.updateLabels)}componentDidUpdate({param:e,query:s},{selected:t}){const{getLabels:n,param:a,query:i}=this.props,{selected:r}=this.state;if(e!==a||t.length>0&&0===r.length)return void this.clearQuery();const c=(0,l.getIdsFromQuery)(s[a]),d=(0,l.getIdsFromQuery)(i[a]);(0,o.isEqual)(c.sort(),d.sort())||n(i[a],i).then(this.updateLabels)}clearQuery(){const{param:e,path:s,query:t}=this.props;this.setState({selected:[]}),(0,l.updateQueryString)({[e]:void 0},s,t)}updateLabels(e){this.setState({selected:e})}updateQuery(){const{param:e,path:s,query:t}=this.props,{selected:n}=this.state,a=n.map(e=>e.key);(0,l.updateQueryString)({[e]:a.join(",")},s,t)}onButtonClicked(e){this.updateQuery(e),(0,o.isFunction)(this.props.onClick)&&this.props.onClick(e)}render(){const{labels:e,type:s,autocompleter:t}=this.props,{selected:a}=this.state;return(0,p.jsxs)(h.Card,{className:"woocommerce-filters__compare",children:[(0,p.jsx)(h.CardHeader,{children:(0,p.jsx)(m.A,{variant:"subtitle-small",children:e.title})}),(0,p.jsx)(h.CardBody,{children:(0,p.jsx)(u.Search,{autocompleter:t,type:s,selected:a,placeholder:e.placeholder,onChange:e=>{this.setState({selected:e})}})}),(0,p.jsxs)(h.CardFooter,{justify:"flex-start",children:[(0,p.jsx)(u.CompareButton,{count:a.length,helpText:e.helpText,onClick:this.onButtonClicked,children:e.update}),a.length>0&&(0,p.jsx)(h.Button,{isLink:!0,onClick:this.clearQuery,children:(0,n.__)("Clear all","woocommerce")})]})]})}}_.propTypes={getLabels:r().func.isRequired,labels:r().shape({placeholder:r().string,title:r().string,update:r().string}),param:r().string.isRequired,path:r().string.isRequired,query:r().object,type:r().string.isRequired,autocompleter:r().object},_.defaultProps={labels:{},query:{}};var x=t(8107),f=t(6942),j=t.n(f),v=t(7677),A=t(3988);const y="all";class b extends a.Component{constructor(e){super(e);const s=this.getFilter();if(this.state={nav:s.path||[],animate:null,selectedTag:null},this.selectSubFilter=this.selectSubFilter.bind(this),this.getVisibleFilters=this.getVisibleFilters.bind(this),this.updateSelectedTag=this.updateSelectedTag.bind(this),this.onTagChange=this.onTagChange.bind(this),this.onContentMount=this.onContentMount.bind(this),this.goBack=this.goBack.bind(this),s.settings&&s.settings.getLabels){const{query:e}=this.props,{param:t,getLabels:n}=s.settings;n(e[t],e).then(this.updateSelectedTag)}}componentDidUpdate({query:e}){const{query:s,config:t}=this.props;if(e[t.param]!==s[[t.param]]){const e=this.getFilter();if(e&&"Search"===e.component){this.setState({nav:e.path||[]});const{param:t,getLabels:n}=e.settings;n(s[t],s).then(this.updateSelectedTag)}}}updateSelectedTag(e){this.setState({selectedTag:e[0]})}getFilter(e){const{config:s,query:t}=this.props,n=(0,l.flattenFilters)(s.filters);return e=e||t[s.param]||s.defaultValue||y,(0,o.find)(n,{value:e})||{}}getButtonLabel(e){if("Search"===e.component){const{selectedTag:s}=this.state;return[s&&s.label,(0,o.get)(e,"settings.labels.button")]}return e?[e.label]:[]}getVisibleFilters(e,s){if(0===s.length)return e;const t=s[0],n=(0,o.find)(e,{value:t});return this.getVisibleFilters(n&&n.subFilters,s.slice(1))}selectSubFilter(e){this.setState(s=>({nav:[...s.nav,e],animate:"left"}))}goBack(){this.setState(e=>({nav:e.nav.slice(0,-1),animate:"right"}))}update(e,s={}){const{path:t,query:n,config:a,onFilterSelect:o}=this.props,i=(0,l.getPersistedQuery)(n),r={[a.param]:(a.defaultValue||y)===e?void 0:e,...s};a.staticParams.forEach(e=>{r[e]=n[e]}),(0,l.updateQueryString)(r,t,i),o(r)}onTagChange(e,s,t,n){const a=(0,o.last)(n),{value:i,settings:r}=e,{param:l}=r;a?(this.update(i,{[l]:a.key}),s()):this.update(t.defaultValue||y),this.updateSelectedTag([a])}renderButton(e,s,t){if(e.component){const{type:n,labels:a,autocompleter:i}=e.settings,r=this.getFilter().value===e.value?this.state.selectedTag:null;return(0,p.jsx)(u.Search,{autocompleter:i,className:"woocommerce-filters-filter__search",type:n,placeholder:a.placeholder,selected:r?[r]:[],onChange:(0,o.partial)(this.onTagChange,e,s,t),inlineTags:!0,staticResults:!0})}const n=t=>{s(t),this.update(e.value,e.query||{}),this.setState({selectedTag:null})},a=(0,o.partial)(this.selectSubFilter,e.value),i=this.getFilter(),r=i.value===e.value||i.path&&(0,o.includes)(i.path,e.value);return(0,p.jsx)(h.Button,{className:"woocommerce-filters-filter__button",onClick:t=>{r?s(t):e.subFilters?a(t):n(t)},children:e.label})}onContentMount(e){const{nav:s}=this.state,t=s.length&&this.getFilter(s[s.length-1])?1:0,n=x.focus.tabbable.find(e)[t];setTimeout(()=>{n.focus()},0)}render(){const{config:e}=this.props,{nav:s,animate:t}=this.state,a=this.getVisibleFilters(e.filters,s),i=!!s.length&&this.getFilter(s[s.length-1]),r=this.getFilter();return(0,p.jsxs)("div",{className:"woocommerce-filters-filter",children:[e.label&&(0,p.jsxs)("span",{className:"woocommerce-filters-label",children:[e.label,":"]}),(0,p.jsx)(h.Dropdown,{contentClassName:"woocommerce-filters-filter__content",position:"bottom",expandOnMobile:!0,headerTitle:(0,n.__)("filter report to show:","woocommerce"),renderToggle:({isOpen:e,onToggle:s})=>(0,p.jsx)(u.DropdownButton,{onClick:s,isOpen:e,labels:this.getButtonLabel(r)}),renderContent:({onClose:n})=>(0,p.jsx)(u.AnimationSlider,{animationKey:s,animate:t,onExited:this.onContentMount,children:()=>(0,p.jsxs)("ul",{className:"woocommerce-filters-filter__content-list",children:[i&&(0,p.jsx)("li",{className:"woocommerce-filters-filter__content-list-item",children:(0,p.jsxs)(h.Button,{className:"woocommerce-filters-filter__button",onClick:this.goBack,children:[(0,p.jsx)(v.A,{icon:A.A}),i.label]})}),a.map(s=>(0,p.jsx)("li",{className:j()("woocommerce-filters-filter__content-list-item",{"is-selected":r.value===s.value||r.path&&(0,o.includes)(r.path,s.value)}),children:this.renderButton(s,n,e)},s.value))]})})})]})}}b.propTypes={config:r().shape({label:r().string,staticParams:r().array.isRequired,param:r().string.isRequired,defaultValue:r().string,showFilters:r().func.isRequired,filters:r().arrayOf(r().shape({chartMode:r().oneOf(["item-comparison","time-comparison"]),component:r().string,label:r().string,path:r().string,subFilters:r().array,value:r().string.isRequired}))}).isRequired,path:r().string.isRequired,query:r().object,onFilterSelect:r().func},b.defaultProps={query:{},onFilterSelect:()=>{}};const C=b;class w extends a.Component{constructor(){super(),this.renderCard=this.renderCard.bind(this),this.onRangeSelect=this.onRangeSelect.bind(this)}renderCard(e){const{siteLocale:s,advancedFilters:t,query:n,path:a,onAdvancedFilterAction:i,currency:r}=this.props,{filters:l,param:c}=e;if(!n[c])return null;if(0===n[c].indexOf("compare")){const e=(0,o.find)(l,{value:n[c]});if(!e)return null;const{settings:s={}}=e;return(0,p.jsx)("div",{className:"woocommerce-filters__advanced-filters",children:(0,p.jsx)(_,{path:a,query:n,...s})},c)}return"advanced"===n[c]?(0,p.jsx)("div",{className:"woocommerce-filters__advanced-filters",children:(0,p.jsx)(u.AdvancedFilters,{siteLocale:s,currency:r,config:t,path:a,query:n,onAdvancedFilterAction:i})},c):void 0}onRangeSelect(e){const{query:s,path:t,onDateSelect:n}=this.props;(0,l.updateQueryString)(e,t,s),n(e)}getDateQuery(e){const{period:s,compare:t,before:n,after:a}=(0,c.getDateParamsFromQuery)(e),{primary:o,secondary:i}=(0,c.getCurrentDates)(e);return{period:s,compare:t,before:n,after:a,primaryDate:o,secondaryDate:i}}render(){const{dateQuery:e,filters:s,query:t,path:o,showDatePicker:i,onFilterSelect:r,isoDateFormat:l}=this.props;return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(u.H,{className:"screen-reader-text",children:(0,n.__)("Filters","woocommerce")}),(0,p.jsxs)(u.Section,{component:"div",className:"woocommerce-filters",children:[(0,p.jsxs)("div",{className:"woocommerce-filters__basic-filters",children:[i&&(0,p.jsx)(u.DateRangeFilterPicker,{dateQuery:e||this.getDateQuery(t),onRangeSelect:this.onRangeSelect,isoDateFormat:l},JSON.stringify(t)),s.map(e=>e.showFilters(t)?(0,p.jsx)(C,{config:e,query:t,path:o,onFilterSelect:r},e.param):null)]}),s.map(this.renderCard)]})]})}}w.propTypes={siteLocale:r().string,advancedFilters:r().object,filters:r().array,path:r().string.isRequired,query:r().object,showDatePicker:r().bool,onDateSelect:r().func,onFilterSelect:r().func,onAdvancedFilterAction:r().func,currency:r().object,dateQuery:r().shape({period:r().string.isRequired,compare:r().string.isRequired,before:r().object,after:r().object,primaryDate:r().shape({label:r().string.isRequired,range:r().string.isRequired}).isRequired,secondaryDate:r().shape({label:r().string.isRequired,range:r().string.isRequired})}),isoDateFormat:r().string},w.defaultProps={siteLocale:"en_US",advancedFilters:{},filters:[],query:{},showDatePicker:!0,onDateSelect:()=>{},currency:g()().getCurrencyConfig()};const k=w},2455:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(7723),a=t(4236),o=t(7892);var i=t(4848);const r=({eventContext:e})=>(0,i.jsxs)(o.A,{className:"AnC9WXFuKgCBURYIRcRY",href:"https://woocommerce.com/document/google-for-woocommerce/",target:"_blank",eventName:"gla_help_click",eventProps:{context:e},children:[(0,i.jsx)(a.A,{}),(0,n.__)("Help","google-listings-and-ads")]})},2635:(e,s,t)=>{t.d(s,{A:()=>y});var n=t(7723),a=t(7143),o=t(6427),i=t(7108),r=t(6087),l=t(1233),c=t(6473);const d="experience-rating-banner-dismissed";var g=t(3905),u=t(7892),h=t(614),m=t(521),p=t(9457),_=t(4848);const x=({onRequestClose:e,onRateUsClick:s})=>{const t=e=>{(0,c.ce)(e,{context:g.mQ})};return(0,_.jsx)(p.A,{title:(0,n.__)("Thanks for letting us know!","google-listings-and-ads"),className:"gla-experience-rating-banner__feedback-modal",buttons:[(0,_.jsx)(u.A,{onClick:()=>{t("gla_app_ratings_maybe_later_clicked"),e()},isSecondary:!0,children:(0,n.__)("Maybe later","google-listings-and-ads")},"maybe-later"),(0,_.jsx)(u.A,{onClick:()=>{t("gla_app_ratings_rate_clicked"),e(),s()},isPrimary:!0,target:"_blank",href:"https://wordpress.org/support/plugin/google-listings-and-ads/reviews/#new-post",icon:(0,_.jsx)(o.Icon,{icon:i.A}),iconPosition:"right",iconSize:16,children:(0,n.__)("Rate us","google-listings-and-ads")},"rate-us")],onRequestClose:e,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,children:(0,_.jsx)("p",{children:(0,n.__)("If you have a minute, we'd appreciate it if you could leave us a rating. Your review will help other store owners find this extension.","google-listings-and-ads")})})},f=()=>{const{data:e}=(0,h.A)(),{data:s}=(0,m.A)(g.Mx),[t,p]=(0,r.useState)(!1),{set:f}=(0,a.useDispatch)(l.store)||{},j=(0,r.useMemo)(()=>{const t=e?.statistics||{};if(0===Object.keys(t).length)return!1;const n=Object.values(t).reduce((e,s)=>e+s,0);if(!n)return!1;const a=t.not_synced,o=t.active;return o/n*100>=70&&0===a&&o>0&&(s?.totals?.conversions?.value||0)>0},[e,s]);if((0,r.useEffect)(()=>{j&&(0,c.ce)("gla_app_ratings_shown",{context:g.mQ})},[j]),!j)return null;const v=()=>{f(g.Z7,d,!0)};return(0,_.jsxs)("div",{className:"gla-experience-rating-banner__container",children:[t&&(0,_.jsx)(x,{onRequestClose:()=>{(0,c.ce)("gla_app_ratings_close",{context:g.mQ}),p(!1)},onRateUsClick:v}),(0,_.jsxs)(o.Notice,{className:"gla-experience-rating-banner",status:"info",isDismissible:!0,onRemove:v,children:[(0,_.jsx)("p",{className:"gla-experience-rating-banner__text",children:(0,n.__)("How was your experience with Google for WooCommerce?","google-listings-and-ads")}),(0,_.jsxs)("div",{className:"gla-experience-rating-banner__actions",children:[(0,_.jsx)(u.A,{onClick:()=>{(0,c.ce)("gla_app_ratings_good_clicked",{context:g.mQ}),p(!0)},isSecondary:!0,children:(0,n.__)("Good","google-listings-and-ads")}),(0,_.jsx)(u.A,{isSecondary:!0,href:"https://woocommerce.com/my-account/contact-support/",target:"_blank",onClick:()=>{(0,c.ce)("gla_app_ratings_need_help_clicked",{context:g.mQ})},icon:(0,_.jsx)(o.Icon,{icon:i.A}),iconPosition:"right",iconSize:16,children:(0,n.__)("Need help","google-listings-and-ads")})]})]})]})};var j=t(6361),v=t(1351),A=t(7916);const y=()=>{const{isGoogleAdsReady:e}=(0,v.A)(),{isReady:s}=(0,A.A)(),t=(0,j.A)(d);return e&&s&&!t?(0,_.jsx)(f,{}):null}},2661:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(7723),a=t(5703),o=t(7568),i=t(5530),r=t(1378),l=t(4848);const c=e=>{const{existingAccounts:s}=(0,i.A)(),{googleAdsAccount:t,hasGoogleAdsConnection:c}=(0,r.A)(),d=s?.some(e=>e.id===t?.id);if(!d&&c){const e=new URL((0,a.getSetting)("homeUrl")).host;return(0,l.jsx)(o.A,{autoSelectFirstOption:!0,nonInteractive:!0,value:t.id,options:[{value:t.id,label:(0,n.sprintf)(
// translators: 1: account domain, 2: account ID.
// translators: 1: account domain, 2: account ID.
(0,n.__)("%1$s (%2$s)","google-listings-and-ads"),e,t.id)}]})}const g=s?.map(e=>({value:e.id,label:`${e.name} (${e.id})`}));return(0,l.jsx)(o.A,{options:g,autoSelectFirstOption:!0,...e})}},2722:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getExistingGoogleMCAccounts")},2775:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6476),a=t(2224);function o(){const e=(0,n.getQuery)();return(0,a.A)(e)}},2780:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(6942),a=t.n(n),o=t(4848);const i=({segments:e})=>(0,o.jsx)("ul",{children:e.map(e=>(0,o.jsxs)("li",{className:"gla-horizontal-stacked-bar__legend-item",children:[(0,o.jsx)("span",{className:"gla-horizontal-stacked-bar__legend-color",style:{backgroundColor:e.color}}),`${e.percentage}% ${e.label}`]},e.id))}),r=({segments:e})=>(0,o.jsx)(o.Fragment,{children:e.map(e=>{const s=`${e.percentage}% ${e.label}`;return(0,o.jsx)("span",{style:{width:`${e.percentage}%`,backgroundColor:e.color},"aria-label":s,title:s},e.id)})}),l=({title:e,segments:s,className:t,isLoading:n=!1})=>{if(n)return(0,o.jsxs)("div",{className:a()("gla-horizontal-stacked-bar","gla-horizontal-stacked-bar--loading",t),children:[(0,o.jsx)("span",{className:"gla-horizontal-stacked-bar__title"}),(0,o.jsx)("span",{className:"gla-horizontal-stacked-bar__legend"}),(0,o.jsx)("span",{className:"gla-horizontal-stacked-bar__chart"})]});if(!s||0===s.length)return null;const l=s.filter(e=>!isNaN(Number(e.value))),c=l.reduce((e,s)=>e+Number(s.value),0),d=l.map(e=>({...e,percentage:Math.round(e.value/c*100)}));return(0,o.jsxs)("div",{className:a()("gla-horizontal-stacked-bar",t),children:[(0,o.jsx)("p",{className:"gla-horizontal-stacked-bar__title",children:e}),(0,o.jsx)("div",{className:"gla-horizontal-stacked-bar__legend",children:(0,o.jsx)(i,{segments:d})}),(0,o.jsx)("div",{className:"gla-horizontal-stacked-bar__chart",children:(0,o.jsx)(r,{segments:d})})]})}},2848:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(8846),a=t(6473),o=t(4848);const i=e=>{const{eventName:s,eventProps:t,onClick:i=()=>{},...r}=e;return(0,o.jsx)(n.Link,{...r,onClick:e=>{s&&(0,a.ce)(s,t),i(e)}})}},3027:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getMCSetup")},3164:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);const a=e=>{const{className:s="",title:t,description:a}=e;return(0,n.jsxs)("header",{className:`gla-step-content-header ${s}`,children:[(0,n.jsx)("h1",{children:t}),(0,n.jsx)("div",{className:"gla-step-content-header__description",children:a})]})}},3323:(e,s,t)=>{t.d(s,{A:()=>b});var n=t(6087),a=t(8468),o=t(3905),i=t(6960),r=t(3741),l=t(7723);const c=(e,s)=>{const t={};if("custom"!==e.level)return t;if(Number.isFinite(e.amount)&&Number.isFinite(s.dailyBudget)&&s.dailyBudget>0){const{amount:t}=e,{dailyBudget:n,formatAmount:a}=s,o=Math.ceil(.3*n);if(t<o)return{amount:(0,l.sprintf)(/* translators: %1$s: minimum daily budget */ /* translators: %1$s: minimum daily budget */
(0,l.__)("Please make sure daily average cost is at least %s","google-listings-and-ads"),a(o))}}return!Number.isFinite(e.amount)||e.amount<=0?{amount:(0,l.__)("Please make sure daily average cost is greater than 0.","google-listings-and-ads")}:t};var d=t(399),g=t(6023),u=t(7419),h=t(7143),m=t(6520),p=t(734);const _=e=>{const s=(0,p.A)(e);return(0,h.useSelect)(e=>{const{getAdsBudgetRecommendations:t,hasFinishedResolution:n}=e(m.Ui);return{data:t(s),hasResolved:!!s.length&&n("getAdsBudgetRecommendations",[s])}},[s])};var x=t(7541),f=t(6473),j=t(4848);const v={[o.Ms.FINAL_URL]:null,[o.Ms.BUSINESS_NAME]:"",[o.Ms.MARKETING_IMAGE]:[],[o.Ms.SQUARE_MARKETING_IMAGE]:[],[o.Ms.PORTRAIT_MARKETING_IMAGE]:[],[o.Ms.LOGO]:[],[o.Ms.HEADLINE]:[],[o.Ms.LONG_HEADLINE]:[],[o.Ms.DESCRIPTION]:[],[o.Ms.CALL_TO_ACTION_SELECTION]:null,[o.Ms.DISPLAY_URL_PATH]:[],[o.Ms.YOUTUBE_VIDEO]:[]};function A(e,s){return Object.defineProperty(e,"dailyBudget",{enumerable:!0,get(){return"custom"===this.level?this.amount:s[this.level].dailyBudget}})}function y(e,s,t){const n={...s,...e};return"custom"===n.level||t[n.level]||(n.level=t.recommended?"recommended":"custom"),A(n,t)}function b({initialCampaign:e,assetEntityGroup:s,countryCodes:t,...h}){const m=(0,n.useMemo)(()=>function(e={}){const{assets:s={}}=e,t={...v};return Object.keys(v).forEach(n=>{if(e.hasOwnProperty(n))t[n]=e[n];else if(s.hasOwnProperty(n)){const e=s[n];Array.isArray(e)?t[n]=e.map(({content:e})=>e):t[n]=e.content}}),t}(s),[s]),[p,b]=(0,n.useState)(m),[C,w]=(0,n.useState)(!1),{formatAmount:k}=(0,u.A)(),{data:N,hasResolved:S}=_(t),R=N||{};return(0,x.A)(f.eB,R?.eventProps),S?(0,j.jsx)(i.Ay,{initialValues:{...y(e,{level:"recommended",amount:R.recommendedDailyBudget},R),...m},validate:e=>c(e,{dailyBudget:R.dailyBudgetBaseline,formatAmount:k}),extendAdapter:e=>{const n=function(e){const s={};g.om.forEach(t=>{e[t.key].length<t.min&&(s[t.key]=(0,l.sprintf)(
// translators: 1: The minimal number of this item. 2: Asset field name.
// translators: 1: The minimal number of this item. 2: Asset field name.
(0,l._n)("Add at least %1$d %2$s image","Add at least %1$d %2$s images",t.min,"google-listings-and-ads"),t.min,t.lowercaseName))});const t=(0,d.A)("google-ads");g.E1.forEach(n=>{const a=[],o=[e[n.key]].flat(),i=o.filter(Boolean);if(n.min>=2&&Array.isArray(n.maxCharacterCounts)){const[e,s]=n.maxCharacterCounts;if(e<s&&""===o[0]){const e=(0,l.sprintf)(
// translators: Asset field name.
// translators: Asset field name.
(0,l.__)("The %s in the first field is required","google-listings-and-ads"),n.lowercaseSingularName);a.push(e)}}if(i.length<n.min){const e=1===n.min?n.lowercaseSingularName:n.lowercasePluralName,s=n.requiredSingleValue?
// translators: 1: Asset field name.
// translators: 1: Asset field name.
(0,l.__)("The %1$s is required","google-listings-and-ads"):
// translators: 1: Asset field name. 2: The minimal number of this item.
// translators: 1: Asset field name. 2: The minimal number of this item.
(0,l.__)("Add at least %2$d %1$s","google-listings-and-ads"),t=(0,l.sprintf)(s,e,n.min);a.push(t)}if(new Set(i).size!==i.length){const e=(0,l.sprintf)(
// translators: Asset field name.
// translators: Asset field name.
(0,l.__)("%s are identical","google-listings-and-ads"),n.heading);a.push(e)}const r=[n.maxCharacterCounts].flat();o.forEach((e,s)=>{var o;const i=null!==(o=r[s])&&void 0!==o?o:r[0];if(t(e)>i){const e=n.requiredSingleValue?(0,l.__)("Character limit exceeded","google-listings-and-ads"):
// translators: 1: Asset field name. 2: The sequential number of the asset field.
// translators: 1: Asset field name. 2: The sequential number of the asset field.
(0,l.__)("%1$s %2$d: Character limit exceeded","google-listings-and-ads"),t=(0,l.sprintf)(e,n.capitalizedName,s+1);a.push(t)}}),a.length&&(s[n.key]=a)});const n=e[o.Ms.DISPLAY_URL_PATH];if(n.length){const e=[],[a,i]=n;if(!a&&i){const s=(0,l.sprintf)(
// translators: Asset field name.
// translators: Asset field name.
(0,l.__)("%s is incomplete","google-listings-and-ads"),g.tY[0].capitalizedName);e.push(s)}g.tY.forEach((s,a)=>{const o=n[a]||"";if(t(o)>s.maxCharacterCount){const t=(0,l.sprintf)(
// translators: Asset field name.
// translators: Asset field name.
(0,l.__)("%s: Character limit exceeded","google-listings-and-ads"),s.capitalizedName);e.push(t)}}),e.length&&(s[o.Ms.DISPLAY_URL_PATH]=e)}return s}(e.values),i=s?.[o.ll.FINAL_URL];return{countryCodes:t,budgetRecommendation:R,isEmptyAssetEntityGroup:!i,baseAssetGroup:p,assetGroupErrors:n,hasImportedAssets:C,isValidAssetGroup:0===Object.keys(n).length,resetAssetGroup(s){const t=(0,a.isPlainObject)(s)?s:m;let n=!1;const o=Object.fromEntries(Object.keys(v).map(e=>(s?.[e]?.length&&(n=!0),[e,t[e]])));Object.keys(o).length&&e.setValues(o),w(n),b(t),e.adapter.hideValidation()}}},...h,onChange:function(...e){if(A(e[1],R),h.onChange)return h.onChange.apply(this,e)}}):(0,j.jsx)(r.A,{})}},3354:(e,s,t)=>{t.d(s,{h:()=>S,S:()=>j});var n=t(7723),a=t(6087),o=t(8846),i=t(4818),r=t(6476),l=t(5595),c=t(559),d=t(7892),g=t(6319),u=t(7677),h=t(5603),m=t(4848);function p({editHref:e,editEventName:s,loading:t,content:a,appearance:o,warning:i}){const{subpath:l}=(0,r.getQuery)(),g=(0,m.jsx)(d.A,{isSecondary:!0,href:e,text:(0,n.__)("Edit","google-listings-and-ads"),eventName:s,eventProps:{path:(0,r.getPath)(),subpath:l}});let p,_;return t?p=(0,m.jsx)("span",{className:"gla-contact-info-preview-card__placeholder","aria-busy":"true",title:(0,n.__)("Loading…","google-listings-and-ads")}):i?(_=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.A,{icon:h.A,size:24,className:"gla-contact-info-preview-card__notice-icon"}),i]}),p=(0,m.jsx)("span",{className:"gla-contact-info-preview-card__notice-details",children:a})):p=a,(0,m.jsx)(c.A,{appearance:o,className:"gla-contact-info-preview-card",icon:null,title:_,description:p,indicator:g})}var _=t(2848);function x(e){const s={address_1:(0,n._x)("address line","The field name of the address line in store address","google-listings-and-ads"),city:(0,n._x)("city","The field name of the city in store address","google-listings-and-ads"),country:(0,n._x)("country/state","The field name of the country in store address","google-listings-and-ads"),postcode:(0,n._x)("postcode/zip","The field name of the postcode in store address","google-listings-and-ads")};return e.missingRequiredFields.map(e=>{const t=s[e]||e;return(0,n.sprintf)(
// translators: %s: The missing field name of store address.
// translators: %s: The missing field name of store address.
(0,n.__)("The %s of store address is required.","google-listings-and-ads"),t)})}var f=t(6473);const j=()=>{const{loaded:e,data:s,refetch:t}=(0,l.A)(),{isAddressFilled:u}=s,h=(0,r.getPath)(),{subpath:p}=(0,r.getQuery)(),j=(0,a.useRef)(null);e&&j.current&&(j.current(s),j.current=null);const v=(0,m.jsx)(d.A,{isSecondary:!0,icon:i.A,iconSize:20,iconPosition:"right",text:(0,n.__)("Update store address","google-listings-and-ads"),onClick:()=>{t(),j.current=e=>{const s={path:h,subpath:p,country_code:e.countryCode,missing_fields:e.missingRequiredFields.join(",")};(0,f.ce)("gla_wc_store_address_validation",s)}},disabled:!e}),A=(0,m.jsx)(_.A,{target:"_blank",type:"external",href:"admin.php?page=wc-settings",eventName:"gla_edit_wc_store_address",eventProps:{path:h,subpath:p}});let y=(0,m.jsx)(o.Spinner,{});if(e){const{address:e,address2:t,city:n,state:a,country:o,postcode:i}=s,r=[n,a?`${a} - ${o}`:o,i].filter(Boolean).join(", ");y=(0,m.jsxs)(m.Fragment,{children:[e&&(0,m.jsx)("div",{children:e}),t&&(0,m.jsx)("div",{children:t}),(0,m.jsx)("div",{children:r})]})}const b=(0,m.jsx)("p",{children:u?(0,a.createInterpolateElement)((0,n.__)("We’re using your store address for Google verification. This information won’t be public. Edit in <link>WooCommerce settings</link> if needed and update to review the changes.","google-listings-and-ads"),{link:A}):(0,a.createInterpolateElement)((0,n.__)("Your store address is required by Google for verification. This information won’t be public. Complete that in <link>WooCommerce settings</link> and update to review the changes.","google-listings-and-ads"),{link:A})}),C=(0,m.jsxs)(m.Fragment,{children:[y,!u&&(0,m.jsx)(g.A,{messages:x(s)})]});return(0,m.jsx)(c.A,{className:"gla-store-address-card",appearance:c.x.ADDRESS,alignIcon:"top",alignIndicator:"top",description:b,detail:C,indicator:v})};function v({editHref:e,learnMore:s}){const{loaded:t,data:a}=(0,l.A)("mc");let o,i;if(t){const{isAddressFilled:e,isMCAddressDifferent:t,address:r,address2:l,city:c,state:d,country:g,postcode:u}=a;e&&!t?o=[r,l,c,d?`${d} - ${g}`:g,u].filter(Boolean).join(", "):(i=(0,n.__)("Please add your store address","google-listings-and-ads"),o=(0,m.jsxs)(m.Fragment,{children:[(0,n.__)("Google requires the store address for all stores using Google Merchant Center. ","google-listings-and-ads"),s]}))}return(0,m.jsx)(p,{appearance:c.x.ADDRESS,editHref:e,editEventName:"gla_edit_mc_store_address",loading:!t,warning:i,content:o})}var A=t(3666),y=t(8242),b=t(1177);const C="contact-information-read-more",w="https://woocommerce.com/document/google-for-woocommerce/get-started/requirements/#contact-information",k=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:(0,n.__)("Your contact information is required for verification by Google.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)("It would be shared with Google Merchant Center for store verification and would not be displayed to customers.","google-listings-and-ads")})]}),N=(0,n.__)("Contact information","google-listings-and-ads");function S(){return(0,m.jsx)(y.A,{title:N,description:k,children:(0,m.jsx)(v,{editHref:(0,A.Xb)(),learnMore:(0,m.jsx)(b.A,{context:"settings-no-store-address-notice",linkId:C,href:w,children:(0,n.__)("Learn more","google-listings-and-ads")})})})}},3376:(e,s,t)=>{t.d(s,{Z:()=>a});var n=t(3905);const a=n.Th.dateFormat+(n.Th.dateFormat.trim()&&n.Th.timeFormat.trim()?", ":"")+n.Th.timeFormat},3632:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(7723),a=t(6087),o=t(5170),i=t(1177),r=t(4848);const l=()=>(0,r.jsxs)("div",{className:"gla-free-ad-credit",children:[(0,r.jsx)(o.A,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"gla-free-ad-credit__title",children:(0,n.__)("Spend $500 to get $500 in Google Ads credits!","google-listings-and-ads")}),(0,r.jsx)("div",{className:"gla-free-ad-credit__description",children:(0,a.createInterpolateElement)((0,n.__)("New to Google Ads? Get $500 in ad credit when you spend $500 within your first 60 days. <termLink>Terms and conditions apply</termLink>.","google-listings-and-ads"),{termLink:(0,r.jsx)(i.A,{context:"setup-ads",linkId:"free-ad-credit-terms",href:"https://www.google.com/ads/coupons/terms/"})})})]})]})},3704:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);const a=e=>{const{className:s="",...t}=e;return(0,n.jsx)("div",{className:`gla-step-content-actions ${s}`,...t})}},3741:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(8846),a=t(7723),o=t(4848);const i=()=>(0,o.jsx)("div",{className:"app-spinner",role:"status","aria-label":(0,a.__)("Loading…","google-listings-and-ads"),children:(0,o.jsx)(n.Spinner,{})})},3772:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6087),a=t(3577),o=t(5703);const i=()=>{const e=(0,o.getSetting)("currency");return(0,n.useMemo)(()=>({...e,formatNumber:(s,t=e.precision)=>{const n={...e,precision:t};return(0,a.numberFormat)(n,s)}}),[e])}},3921:(e,s,t)=>{t.d(s,{A:()=>n});const n=()=>!!window.wcTracks?.isEnabled},4270:(e,s,t)=>{t.d(s,{A:()=>r,i:()=>l});var n=t(6942),a=t.n(n),o=t(2848),i=t(4848);function r({title:e,children:s}){return(0,i.jsxs)("div",{className:"gla-guide__page-content",children:[(0,i.jsx)("h2",{className:"gla-guide__page-content__header",children:e}),(0,i.jsx)("div",{className:"gla-guide__page-content__body",children:s})]})}function l(e){const{context:s,href:t,className:n,...r}=e;return(0,i.jsx)(o.A,{className:a()("gla-guide__page-content__link",n),eventName:"gla_modal_content_link_click",eventProps:{context:s,href:t},type:"external",target:"_blank",href:t,...r})}},4297:(e,s,t)=>{t.d(s,{A:()=>n});const n=(e,s,t)=>{const{innerWidth:n,innerHeight:a,screenX:o,screenY:i,screen:r}=e,l=Math.min(s,r.availWidth),c=Math.min(t,r.availHeight);return`popup=1,left=${(n-l)/2+o},top=${(a-c)/2+i},width=${l},height=${c}`}},4301:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(8846),a=t(6942),o=t.n(a),i=t(4848);const r=e=>{const{label:s,helperText:t,className:a,...r}=e;return(0,i.jsxs)("div",{className:o()("gla-searchable-select-control",a),children:[s&&(0,i.jsx)("div",{className:"gla-searchable-select-control__label",children:s}),(0,i.jsx)("div",{className:"gla-searchable-select-control__input",children:(0,i.jsx)(n.SelectControl,{...r,help:""})}),t&&(0,i.jsx)("div",{className:"gla-searchable-select-control__helper-text",children:t})]})}},4307:(e,s,t)=>{t.d(s,{A:()=>o,m:()=>a});var n=t(3905);function a(e,s){const t=[],a=e.assets;function o(e,...s){const n=s.map(s=>({...s,content:null,field_type:e}));t.push(...n)}return Object.values(n.ZD).forEach(e=>{const n=[s[e]].flat().filter(Boolean),i=[a[e]].flat().filter(Boolean);let r=0;n.forEach(s=>{do{const t=i[r];if(s===t?.content)break;t&&o(e,t),r+=1}while(r<i.length);r>=i.length&&t.push({id:null,content:s,field_type:e}),r+=1}),o(e,...i.slice(r))}),t}function o(e,s){const[t,o]=s[n.Ms.DISPLAY_URL_PATH],i=a(e,s);return{final_url:s[n.Ms.FINAL_URL],path1:t,path2:o,assets:i}}},4327:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(6520);const o="getPriceBenchmarkSuggestions",i=e=>(0,n.useSelect)(s=>{const t=s(a.Ui),{product_id:n}=e;if(n){const e=t.getPriceBenchmarkSuggestion(n);return e?{data:e,hasFinishedResolution:!0}:{data:null,hasFinishedResolution:!0}}return{data:t[o](e),hasFinishedResolution:t.hasFinishedResolution(o,[e])}},[e])},4391:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(3905);function a(e){return e?.status===n.Wn.CONNECTED||["link_merchant","billing"].includes(e?.step)}},4473:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(4015),a=t(6942),o=t.n(a),i=t(4848);const r=({size:e=18,className:s})=>(0,i.jsx)(n.A,{className:o()("gla-sync-icon",s),size:e})},4566:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6942),a=t.n(n),o=t(7723),i=t(6427),r=t(2467),l=t(4848);const c=e=>{const{className:s}=e;return(0,l.jsxs)(i.Flex,{className:a()("gla-connected-icon-label",s),align:"center",gap:1,children:[(0,l.jsx)(i.FlexItem,{children:(0,l.jsx)(r.A,{})}),(0,l.jsx)(i.FlexItem,{children:(0,o.__)("Connected","google-listings-and-ads")})]})}},4716:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(8468);const a=(e,s)=>{const t=["country","currency","rate","options.free_shipping_threshold"];return(0,n.isEqual)((0,n.at)(e,t),(0,n.at)(s,t))},o=(e,s)=>(0,n.differenceWith)(e,s,a)},4790:(e,s,t)=>{t.d(s,{s9:()=>p,LJ:()=>l,Ay:()=>_});var n=t(7723);function a(e){return"yes"!==e.active?"":"yes"===e.owner?e.email:(0,n.__)("Successfully connected through Jetpack","google-listings-and-ads")}var o=t(559),i=t(4566),r=t(4848);const l=({jetpack:e})=>(0,r.jsx)(o.A,{appearance:o.x.WPCOM,description:a(e),indicator:(0,r.jsx)(i.A,{})});var c=t(3832),d=t(3905),g=t(6520),u=t(7892),h=t(5640),m=t(6599);const p=()=>{const{createNotice:e}=(0,h.A)(),s=d.Th.mcSetupComplete?"reconnect":"setup-mc",t={next_page_name:s},a=(0,c.addQueryArgs)(`${g.RV}/jetpack/connect`,t),[i,{loading:l,data:p}]=(0,m.A)({path:a});return(0,r.jsx)(o.A,{appearance:o.x.WPCOM,description:(0,n.__)("Required to connect with Google","google-listings-and-ads"),indicator:(0,r.jsx)(u.A,{isSecondary:!0,loading:l||p,eventName:"gla_wordpress_account_connect_button_click",eventProps:{context:s},onClick:async()=>{try{const e=await i();window.location.href=e.url}catch(s){e("error",(0,n.__)("Unable to connect your WordPress.com account. Please try again later.","google-listings-and-ads"))}},children:(0,n.__)("Connect","google-listings-and-ads")})})},_=({jetpack:e})=>"yes"===e.active?(0,r.jsx)(l,{jetpack:e}):(0,r.jsx)(p,{})},4831:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7723),a=t(7892),o=t(4848);const i=({formProps:e,onClick:s})=>(0,o.jsx)(a.A,{isPrimary:!0,text:(0,n.__)("Continue","google-listings-and-ads"),disabled:!e.isValidForm,onClick:s})},4902:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/3905a197de7922d5b82a.img-dashboard.svg"},4932:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6942),a=t.n(n),o=t(6427),i=t(4848);const r=e=>{const{className:s,...t}=e,n=["app-notice",s];return(0,i.jsx)(o.Notice,{className:a()(...n),...t})}},5092:(e,s,t)=>{t.d(s,{A:()=>g});var n=t(6942),a=t.n(n),o=t(7723),i=t(6087),r=t(6427),l=t(399),c=t(4848);const d="app-input-control",g=(0,i.forwardRef)(({className:e,maxCharacterCount:s=0,kindCharacterCount:t,...n},i)=>{const g=[d,e];let u;if(s>0&&t){const e=(0,l.A)(t)(n.value?.trim()||"");u=(0,o.sprintf)(
// translators: 1: number of character count. 2: the maximum number of character count.
// translators: 1: number of character count. 2: the maximum number of character count.
(0,o.__)("%1$d/%2$d characters","google-listings-and-ads"),e,s),e>s&&g.push(`${d}--error-character-count`)}return(0,c.jsxs)("div",{className:a()(g),children:[(0,c.jsx)(r.__experimentalInputControl,{ref:i,...n}),u&&(0,c.jsx)("div",{className:"app-input-control__character-count",children:u})]})})},5128:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6087),a=t(3577),o=t(3772);const i=e=>{const s=(0,o.A)();return(0,n.useMemo)(()=>{const t={...s,...e};return e=>(0,a.numberFormat)(t,e)},[s,e])}},5246:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(7723),a=t(6087),o=t(8846),i=t(8146),r=t(4848);const l="rebranding-tour";function c(){const{tourChecked:e,setTourChecked:s}=(0,i.A)(l);if(e)return null;const t={steps:[{referenceElements:{desktop:'.toplevel_page_woocommerce-marketing a[href*="google"]',mobile:"#wp-admin-bar-menu-toggle"},meta:{heading:(0,r.jsx)("div",{className:"gla-rebranding-tour__heading",children:(0,n.__)("New name, same great solution","google-listings-and-ads")}),descriptions:{desktop:(0,r.jsx)(r.Fragment,{children:(0,a.createInterpolateElement)((0,n.__)("Google Listings & Ads is now <strong>Google for WooCommerce</strong>.","google-listings-and-ads"),{strong:(0,r.jsx)("strong",{})})})}}}],options:{classNames:"gla-admin-page,gla-rebranding-tour",effects:{overlay:!1}},closeHandler:()=>s(!0)};return(0,r.jsx)(o.TourKit,{config:t})}},5455:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6087),a=t(2434),o=t(4716),i=t(8468);const r=(e,s)=>void 0!==e.id&&e.id===s.id||e.country===s.country;var l=t(6523);const c=()=>{const{data:e}=(0,l.A)(),{deleteShippingRates:s,upsertShippingRates:t}=(0,a.j)();return{saveShippingRates:(0,n.useCallback)(async n=>{const a=((e,s)=>((e,s)=>(0,i.differenceWith)(s,e,r))(e,s).map(e=>e.id))(n,e);a.length&&await s(a);const l=(0,o.A)(n,e);l.length&&await t(l)},[s,e,t])}}},5530:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(7143),a=t(6520);const o=()=>(0,n.useSelect)(e=>{const s=e(a.Ui).getExistingGoogleAdsAccounts(),t=e(a.Ui).isResolving("getExistingGoogleAdsAccounts");return{existingAccounts:s,hasFinishedResolution:e(a.Ui).hasFinishedResolution("getExistingGoogleAdsAccounts"),isResolving:t}},[])},5559:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(6087);const a=(e,s)=>{const t=(()=>{const[e,s]=(0,n.useState)(document.hasFocus());return(0,n.useEffect)(()=>{const e=()=>{s(!0)},t=()=>{s(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}},[]),e})();(0,n.useEffect)(()=>{if(!t)return;e();const n=setInterval(e,1e3*s);return()=>clearInterval(n)},[e,s,t])}},5588:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(3772),a=t(6499),o=t(4848);const i=e=>{const s=(0,n.A)();return(0,o.jsx)(a.A,{suffix:s.code,numberSettings:s,...e})}},5595:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(9415),a=t(6734);const o={address:"",address2:"",city:"",state:"",country:"",postcode:"",isMCAddressDifferent:null,isAddressFilled:null,missingRequiredFields:[]};function i(e="wc"){const{data:s,hasFinishedResolution:t,invalidateResolution:i}=(0,n.A)("getGoogleMCContactInformation"),r=(0,a.A)();let l=o;if(t&&s){const{is_mc_address_different:t,wc_address_errors:n}=s,a="wc"===e?s.wc_address:s.mc_address,o=a?.street_address||"",i=a?.locality||"",c=a?.region||"",d=a?.postal_code||"",[g,u=""]=o.split("\n"),h=r[a?.country]||"";l={countryCode:a?.country||"",address:g,address2:u,city:i,state:c,country:h,postcode:d,isAddressFilled:!n.length,isMCAddressDifferent:t,missingRequiredFields:n}}return{refetch:i,loaded:t,data:l}}},5622:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getShippingTimes")},5640:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(7143);const a=()=>(0,n.useDispatch)("core/notices")},5744:(e,s,t)=>{t.d(s,{A:()=>a});const n="undefined"!=typeof window&&"localStorage"in window,a={get:e=>n?window.localStorage.getItem(e):null,set:(e,s)=>n?window.localStorage.setItem(e,s):null,remove:e=>n?window.localStorage.removeItem(e):null}},5807:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(6087),a=t(2434),o=t(5622),i=t(8468);var r=t(172);const l=()=>{const{data:e}=(0,o.A)(),{deleteShippingTimes:s,upsertShippingTimes:t}=(0,a.j)();return{saveShippingTimes:(0,n.useCallback)(async n=>{const a=((e,s)=>((e,s)=>(0,i.differenceBy)(s,e,"countryCode"))(e,s).map(e=>e.countryCode))(n,e);a.length&&await s(a);const o=(l=n,c=e,(0,i.differenceWith)(l,c,i.isEqual));var l,c;if(o.length){const e=(0,r.A)(o).map(e=>t(e));await Promise.all(e)}},[s,e,t])}}},5834:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6087),a=t(6476);function o(){const[e,s]=(0,n.useState)(a.getQuery);return(0,n.useEffect)(()=>(0,a.addHistoryListener)(()=>{setTimeout(()=>s((0,a.getQuery)()))}),[]),e}},5847:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(2434),o=t(7240);const i=()=>{const{data:e,isResolving:s}=(0,o.A)();return(0,n.useSelect)(function(t){const{getTargetAudience:n,isResolving:o}=t(a.U),i=n(),r=o("getTargetAudience")||s,l=e&&Object.keys(e);function c(e){return"all"===e?.location?l:e?.countries}return{loading:r,data:c(i),targetAudience:i,getFinalCountries:c}},[e,s])}},5992:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(6520);const o="getGoogleAdsAccountStatus",i=()=>(0,n.useSelect)(e=>{const s=e(a.Ui),{hasAccess:t,inviteLink:n,step:i}=s[o]();return{hasAccess:t,inviteLink:n,step:i,hasFinishedResolution:s.hasFinishedResolution(o)}},[])},5995:(e,s,t)=>{e.exports=t.p+"images/js/src/images/price-benchmark/99c37499821eea09ff76.price-benchmark-banner-icon.svg"},6028:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(3741),a=t(8242),o=t(4848);const i=()=>(0,o.jsx)(a.A.Card,{children:(0,o.jsx)(a.A.Card.Body,{children:(0,o.jsx)(n.A,{})})})},6257:(e,s,t)=>{t.d(s,{A:()=>g});var n=t(6942),a=t.n(n),o=t(7723),i=t(6427),r=t(6087),l=t(4236),c=t(6473),d=t(4848);const g=({className:e,id:s,disabled:t=!1,iconSize:n=16,children:g,...u})=>{const[h,m]=(0,r.useState)(!1);return(0,d.jsxs)("span",{className:a()("help-popover",e),children:[(0,d.jsx)("button",{"aria-label":(0,o.__)("Open popover","google-listings-and-ads"),disabled:t,onClick:()=>{m(!0),s&&(0,c.ce)("gla_tooltip_viewed",{id:s})},children:(0,d.jsx)(l.A,{size:n})}),h&&!t&&(0,d.jsx)(i.Popover,{focusOnMount:"container",inline:!0,onClose:()=>{m(!1)},...u,children:g})]})}},6319:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);function a({messages:e}){let s=e;return e?.length?(Array.isArray(e)||(s=[e]),(0,n.jsx)("ul",{className:"gla-validation-errors",children:s.map(e=>(0,n.jsx)("li",{children:e},e))})):null}},6361:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(1233),o=t(3905);const i=e=>(0,n.useSelect)(s=>s(a.store).get(o.Z7,e),[e])},6397:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(2467),a=t(4848);const o=({size:e=18})=>(0,a.jsx)(n.A,{className:"gla-success-icon",size:e})},6425:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(3905),a=t(9415);const o=n.X4,i=(e=n.Tj,s=1,t=o)=>(0,a.A)("getMCIssues",{page:s,issue_type:e,per_page:t})},6453:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6087),a=t(6599),o=t(2224);const i=e=>{const s=(0,o.A)(e),[t,i]=(0,a.A)(s,{loading:!0});return(0,n.useEffect)(()=>{s&&t()},[t,s]),i}},6459:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6942),a=t.n(n),o=t(4848);const i=({variant:e,className:s="",children:t,as:n="p",...i})=>{const r=n;return(0,o.jsx)(r,{...i,className:a()("gla-app-text",s,{[`gla-app-text--${e}`]:e}),children:t})}},6474:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6087);const a={"full-page":["woocommerce-admin-full-screen","is-wp-toolbar-disabled","gla-full-page"],"full-content":["gla-full-content"]};function o(e){(0,n.useEffect)(()=>{if(!a.hasOwnProperty(e))return;const s=document.body.classList,t=a[e].filter(e=>!s.contains(e));return s.add(...t),()=>{s.remove(...t)}},[e])}},6494:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(6087),a=t(4848);const o=e=>{const{button:s,modal:t}=e,{onClick:o=()=>{}}=s.props,{onRequestClose:i=()=>{}}=t.props,[r,l]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,n.cloneElement)(s,{onClick:(...e)=>{l(!0),o(...e)}}),r&&(0,n.cloneElement)(t,{onRequestClose:(...e)=>{l(!1),i(...e)}})]})}},6499:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(6087),a=t(5092);const o=(e,s)=>{const{decimalSeparator:t}=s,n=new RegExp("[^0-9-"+t+"]",["g"]),a=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(a)?0:a};var i=t(3772);const r=e=>({...(0,i.A)(),precision:0,...e});var l=t(5128);var c=t(4848);const d=e=>{const{value:s,numberSettings:t,onChange:i=()=>{},onBlur:d=()=>{},...g}=e,u=r(t),h=(e=>{const s=r(e);return(0,l.A)(s)})(t),[,m]=(0,n.useReducer)(e=>e+1,0),p=h(s),_=e=>{const s=o(e,u),t=h(s);return o(t,u)};return(0,c.jsx)(a.A,{value:p,onChange:e=>{const s=_(e);i(s),m()},onBlur:e=>{const s=_(e.target.value);d(e,s)},...g})}},6523:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getShippingRates")},6599:(e,s,t)=>{t.d(s,{A:()=>m});var n=t(6087),a=t(1455),o=t.n(a),i=t(2224);const r="START",l="FINISH",c="ERROR",d="RESET",g={loading:!1,error:void 0,data:void 0,response:void 0,options:void 0},u=(e,s)=>{switch(s.type){case r:return{...e,loading:!0,options:s.options};case l:return{...e,loading:!1,data:s.data,response:s.response,options:s.options};case c:return{...e,loading:!1,error:s.error,response:s.response,options:s.options};case d:return s.state}},h=e=>{const{parse:s=!0}=e;return s},m=(e,s=g)=>{const t=(0,i.A)(e),a={...g,...s},[m,p]=(0,n.useReducer)(u,a);return[(0,n.useCallback)(async e=>{const s={...t,...e};p({type:r,options:s});try{const e=await o()({...s,parse:!1}),t=e.clone(),n=t.json&&await t.json();return p({type:l,data:n,response:e,options:s}),h(s)?n:e}catch(e){if("fetch_error"===e.code)throw p({type:c,error:e,response:void 0,options:s}),e;const t=e;let n;try{const e=t.clone();n=e.json?await e.json():new Error("No content body in fetch response.")}catch(e){n=new Error("Error parsing response.")}throw p({type:c,error:n,response:t,options:s}),h(s)?n:t}},[t]),{...m,reset:e=>{p({type:d,state:{...a,...e}})}}]}},6727:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6476),a=t(3905),o=t(7951);const i=()=>{const e=(0,o.A)()[a.Tj]?a.Tj:a.ds;return(0,n.getQuery)()?.issueType||e}},6734:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(8537),a=t(5703);const o=()=>{const e={...(0,a.getSetting)("countries")};return Object.keys(e).forEach(s=>{e[s]=(0,n.decodeEntities)(e[s])}),e}},6785:(e,s,t)=>{t.d(s,{zK:()=>pe,Ay:()=>xe});var n=t(7723),a=t(3905),o=t(6960),i=t(9370),r=t(3164),l=t(9826),c=t(3704),d=t(7892),g=t(6087),u=t(9452),h=t(1177),m=t(4848);const p=[{trackId:"what-will-my-ads-look-like",question:(0,n.__)("What will my ads look like?","google-listings-and-ads"),answer:(0,m.jsx)("div",{children:(0,g.createInterpolateElement)((0,n.__)("Google will generate text ads and responsive display ads in various combinations and formats from the headlines, images, and descriptions you add. Your ads will automatically adjust their size, appearance, and format to fit available ad spaces. <link>See common ad formats</link>","google-listings-and-ads"),{link:(0,m.jsx)(h.A,{context:"assets-faq",linkId:"assets-faq-about-ad-formats-available-in-different-campaign-types",href:"https://support.google.com/google-ads/answer/1722124"})})})},{trackId:"what-makes-these-ads-different-from-product-ads",question:(0,n.__)("What makes these ads different from product ads?","google-listings-and-ads"),answer:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,n.__)("Text and image assets can elevate your campaign by offering a variety of ad combinations that capture your audience's attention and generate maximum engagement. By leveraging Google's asset-mixing technology, your ads can be optimized to deliver the right message, to the right people, at the right time.","google-listings-and-ads")}),(0,m.jsx)("div",{children:(0,n.__)("Compared to product ads—which showcase individual products and are designed to drive direct sales and revenue— ads with creative assets are typically used to highlight your business, generate interest, and attract new customers. While both types of ads can drive conversions, using them together can generate even greater results.","google-listings-and-ads")})]})}],_=()=>(0,m.jsx)(u.A,{context:"campaign-management",faqItems:p});var x=t(6473),f=t(5847),j=t(6427),v=t(8242),A=t(6942),y=t.n(A),b=t(559),C=t(1455),w=t.n(C),k=t(3832),N=t(8846),S=t(5640),R=t(4301),T=t(6520);function E(){return"."}function I({onAssetsLoaded:e}){const s=(0,g.useRef)({}),t=(0,g.useRef)(),[a,o]=(0,g.useState)([]),[i,r]=(0,g.useState)(!1),[l,c]=(0,g.useState)(!1),{createNotice:u}=(0,S.A)(),{finalUrl:h}=a[0]||{};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(R.A,{className:"gla-assets-loader",label:(0,m.jsxs)(m.Fragment,{children:[(0,n.__)("Select final URL","google-listings-and-ads"),i&&(0,m.jsx)(N.Spinner,{})]}),placeholder:(0,n.__)("Search page","google-listings-and-ads"),isSearchable:!0,hideBeforeSearch:!0,excludeSelectedOptions:!1,disabled:l,options:[],selected:a,onSearch:async(e,l)=>{var c;i||r(!0),l!==a[0]?.label&&o([{label:l}]);const d=new Promise(e=>setTimeout(e,300));if(t.current=d,await d,t.current!==d)return e;const g=s.current,u=l.trim().toLowerCase();return null!==(c=g[u])&&void 0!==c||(g[u]=function(e){const s=`${T.RV}/assets/final-url/suggestions`,t={search:e};return w()({path:(0,k.addQueryArgs)(s,t)})}(u).then(e=>function(e,s){const t=e.map(e=>({finalUrl:e,key:`${e.type}-${e.id}`,keywords:[e.title],label:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"gla-assets-loader__option-title",children:e.title}),(0,m.jsx)("div",{className:"gla-assets-loader__option-url",children:e.url})]})}));return""===s&&e.length&&t.unshift({key:"disabled-option-suggestion",label:(0,n.__)("SUGGESTIONS","google-listings-and-ads"),isDisabled:!0}),0===e.length&&t.unshift({key:"disabled-option-no-results",label:(0,n.__)("No matching results","google-listings-and-ads"),keywords:[s],isDisabled:!0}),t}(e,u))),g[u].finally(()=>{r(!1)}),g[u]},onChange:([e])=>{if(e){const s={...e,label:e.finalUrl.title};o([s])}else o([])},getSearchExpression:E}),(0,m.jsx)(d.A,{isSecondary:!0,text:l?"":(0,n.__)("Select","google-listings-and-ads"),eventName:"gla_import_assets_by_final_url_button_click",eventProps:{type:h?.type},disabled:!h,loading:l,onClick:async()=>{const{finalUrl:s}=a[0];c(!0),function(e,s){const t=`${T.RV}/assets/suggestions`,n={id:e,type:s};return w()({path:(0,k.addQueryArgs)(t,n)})}(s.id,s.type).then(e).catch(()=>{c(!1),u("error",(0,n.__)("Unable to load assets data from the selected page.","google-listings-and-ads"))})}})]})}function F({onAssetsChange:e,initialFinalUrl:s,hideFooter:t=!1}){const[o,i]=(0,g.useState)(s||null),r=o?(0,m.jsx)(j.ExternalLink,{href:o,children:o}):(0,n.__)("Choose a page that you want people to reach after clicking your ad. This might be your homepage, or a more specific page.","google-listings-and-ads"),l=y()({"gla-final-url-card":!0,"gla-final-url-card--has-selected-url":o});return(0,m.jsx)(b.A,{className:l,appearance:b.x.FINAL_URL,alignIcon:"top",description:r,children:(0,m.jsx)(v.A.Card.Footer,{align:"end",gap:4,hidden:t,children:o?(0,m.jsx)(d.A,{isTertiary:!0,text:(0,n.__)("Or, select a different Final URL","google-listings-and-ads"),eventName:"gla_reselect_another_final_url_button_click",onClick:()=>{i(null),e(null)}}):(0,m.jsx)(I,{onAssetsLoaded:s=>{i(s[a.ll.FINAL_URL]),e(s)}})})})}var G=t(7108),M=t(8493),O=t(1378);const P=t.p+"images/js/src/images/pmax-assets-improvements/0260e9207238c9a78ba8.gen-ai.svg",{CONNECTED:L,INCOMPLETE:D}=a.Wn,q=()=>{const{googleAdsAccount:e}=(0,O.A)(),s=[L,D].includes(e?.status),t={};e?.ocid?t.ocid=e.ocid:e?.id&&(t.ecid=e.id);const a=(0,k.addQueryArgs)("https://ads.google.com/aw/recommendations",t);return(0,m.jsx)(v.A.Card,{className:"gla-gen-ai-card",children:(0,m.jsx)(j.CardBody,{size:"large",children:(0,m.jsxs)(j.Flex,{align:"center",gap:6,direction:["column","row"],className:"gla-gen-ai-card__wrapper",children:[(0,m.jsx)(j.FlexBlock,{children:(0,m.jsxs)(j.Flex,{direction:"column",gap:4,align:"start",children:[(0,m.jsx)(M.A,{children:(0,n.__)("Now available","google-listings-and-ads")}),(0,m.jsxs)("div",{children:[(0,m.jsx)(v.A.Card.Title,{children:(0,n.__)("You can use Google AI to help build Performance Max assets with a few clicks.","google-listings-and-ads")}),(0,m.jsx)("div",{children:(0,g.createInterpolateElement)((0,n.__)("Starting with your website, Google AI will understand what you’re advertising and can generate or suggest text, image, logo, and video assets for you. <link>Learn more</link>","google-listings-and-ads"),{link:(0,m.jsx)(h.A,{href:"https://support.google.com/google-ads/answer/14150602",context:"pmax-assets-improvements",linkId:"pmax-gen-ai-card"})})})]}),(0,m.jsx)(d.A,{icon:(0,m.jsx)(j.Icon,{icon:G.A}),iconPosition:"right",href:a,disabled:!s,target:"_blank",isSecondary:!0,children:(0,n.__)("Generate assets with GenAI","google-listings-and-ads")})]})}),(0,m.jsx)(j.FlexBlock,{children:(0,m.jsx)("img",{src:P,alt:(0,n.__)("Drawing of a person who successfully launched a campaign","google-listings-and-ads"),width:"212",height:"212"})})]})})})};function U(){const{adapter:e}=(0,o.h5)(),s=e.hasImportedAssets;return(0,m.jsx)(v.A,{className:"gla-asset-group-section",title:(0,g.createInterpolateElement)((0,n.__)("Add additional assets <optional>(Optional)</optional>","google-listings-and-ads"),{optional:(0,m.jsx)("span",{className:"gla-asset-group-section__optional-label"})}),description:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:"gla-asset-group-section__primary-description",children:(0,n.__)("Upload text and image assets to effectively reach and engage your target shoppers. Google will mix and match your assets, continually testing combinations to create personalized and optimal shopping experiences.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,m.jsx)(h.A,{context:"asset-group",linkId:"asset-group-learn-more",href:"https://support.google.com/google-ads/answer/10729160",children:(0,n.__)("Learn more","google-listings-and-ads")})})]}),children:(0,m.jsx)("div",{className:"gla-asset-group-section__content",children:(0,m.jsxs)(j.Flex,{direction:"column",gap:4,children:[(0,m.jsx)(j.FlexItem,{children:(0,m.jsxs)(j.Flex,{direction:"column",gap:4,children:[(0,m.jsx)(j.FlexItem,{children:(0,m.jsx)(F,{initialFinalUrl:e.baseAssetGroup[a.Ms.FINAL_URL],onAssetsChange:e.resetAssetGroup,hideFooter:!e.isEmptyAssetEntityGroup})}),s&&(0,m.jsx)(j.FlexItem,{children:(0,m.jsx)(j.Tip,{children:(0,n.__)("We've used your final URL to auto-populate some assets for you. For the best results, we recommend that you add more assets.","google-listings-and-ads")})})]})}),(0,m.jsx)(j.FlexItem,{children:(0,m.jsx)(q,{})})]})})})}var B=t(6319),V=t(5092),$=t(8468),z=t(4788),W=t(4978);function Y(e){return(0,m.jsx)(d.A,{className:"gla-add-asset-item-button",isLink:!0,icon:(0,m.jsx)(W.A,{}),iconSize:16,...e})}function H({initialTexts:e=[],minNumberOfTexts:s=0,maxNumberOfTexts:t=0,maxCharacterCounts:a,addButtonText:o,placeholder:i,children:r,onChange:l=$.noop}){const c=(0,g.useRef)(),[u,h]=(0,g.useState)(e),p=e=>{h(e),l(e)};c.current=p,(0,g.useEffect)(()=>{(t>0&&u.length>t||s>0&&u.length<s)&&c.current(function(e,s,t){const n=Math.max(s-e.length,0),a=Array.from({length:n},()=>""),o=[0];return t>0&&o.push(t),e.concat(a).slice(...o)}(u,s,t))},[u,t,s]);const _=(e,{event:s})=>{const{index:t}=s.target.dataset,n=[...u];n[t]=e.trim(),p(n)},x=e=>{const{index:s}=e.currentTarget.dataset,t=[...u];t.splice(s,1),p(t)},f=[a].flat();return(0,m.jsxs)("div",{className:"gla-texts-editor",children:[(0,m.jsx)("div",{className:"gla-texts-editor__text-list",children:u.map((e,t)=>{var a;const o=null!==(a=f[t])&&void 0!==a?a:f[0];return(0,m.jsxs)("div",{className:"gla-texts-editor__text-item",children:[(0,m.jsx)(V.A,{className:"gla-texts-editor__text-input",value:e,kindCharacterCount:"google-ads",maxCharacterCount:o,placeholder:i,"data-index":t,onChange:_}),(0,m.jsx)("div",{className:"gla-texts-editor__remove-text-button-anchor",children:t+1>s&&(0,m.jsx)(d.A,{className:"gla-texts-editor__remove-text-button","aria-label":(0,n.__)("Remove text","google-listings-and-ads"),icon:(0,m.jsx)(z.A,{}),iconSize:20,"data-index":t,onClick:x})})]},t)})}),r,(0,m.jsx)(Y,{hidden:s>0&&s===t,"aria-label":(0,n.__)("Add text","google-listings-and-ads"),disabled:t>0&&u.length>=t,text:o,onClick:()=>{p(u.concat(""))}})]})}var Q=t(9491),K=t(3756),J=t(2485),X=t(6257);const Z=(0,g.forwardRef)(function({className:e,heading:s,subheading:t,help:a,numOfIssues:o=0,initialExpanded:i=!1,markOptional:r=!1,disabled:l=!1,children:c},u){const h=(0,g.useRef)(),[p,_]=(0,g.useState)(i),x=(0,Q.useReducedMotion)();(0,g.useImperativeHandle)(u,()=>({scrollIntoComponent(){h.current.scrollIntoView({behavior:x?"auto":"smooth",inline:"nearest",block:"nearest"})}}));const f=(0,n.sprintf)(
// translators: %d: number of issues in an asset field.
// translators: %d: number of issues in an asset field.
(0,n._n)("%d issue","%d issues",o,"google-listings-and-ads"),o),j=y()("gla-asset-field",e,!!l&&"gla-asset-field--is-disabled"),v=p&&!l;return(0,m.jsxs)("div",{className:j,ref:h,children:[(0,m.jsxs)("header",{className:"gla-asset-field__header",children:[(0,m.jsxs)("div",{className:"gla-asset-field__heading-part",children:[(0,m.jsxs)("h2",{className:"gla-asset-field__heading",children:[s,r&&(0,m.jsx)("span",{className:"gla-asset-field__optional-label",children:(0,n._x)("(Optional)","A label behind the heading to indicate a field is optional","google-listings-and-ads")}),(0,m.jsx)(X.A,{className:"gla-asset-field__help-popover",position:"top",iconSize:20,disabled:l,children:(0,m.jsx)("div",{className:"gla-asset-field__help-popover__content",children:a})})]}),t&&(0,m.jsx)("h3",{className:"gla-asset-field__subheading",children:t})]}),o>0&&(0,m.jsx)(N.Pill,{className:"gla-asset-field__issue-pill",children:f}),(0,m.jsx)("div",{className:"gla-asset-field__toggle-button-anchor",children:(0,m.jsx)(d.A,{className:"gla-asset-field__toggle-button",icon:v?K.A:J.A,"aria-expanded":v,"aria-label":(0,n.__)("Toggle asset","google-listings-and-ads"),disabled:l,onClick:()=>{_(!p)}})})]}),(0,m.jsx)("div",{className:"gla-asset-field__content",hidden:!v,children:c})]})});var ee=t(6023);const se=[{label:"Automated",value:""},{label:"Learn more",value:"learn_more"},{label:"Get quote",value:"get_quote"},{label:"Apply now",value:"apply_now"},{label:"Sign up",value:"sign_up"},{label:"Contact us",value:"contact_us"},{label:"Subscribe",value:"subscribe"},{label:"Download",value:"download"},{label:"Book now",value:"book_now"},{label:"Shop now",value:"shop_now"}],te=({initialValues:e,refFirstErrorField:s,isSelectedFinalUrl:t,getNumOfIssues:i,renderErrors:r,finalUrl:l})=>{const{values:c,setValue:d,getInputProps:u}=(0,o.h5)(),p=l?new URL(l).hostname:"",_=u(a.Ms.CALL_TO_ACTION_SELECTION);return(0,m.jsx)(v.A,{title:(0,n.__)("Text","google-listings-and-ads"),className:"gla-asset-group-section",description:(0,m.jsxs)("div",{className:"gla-asset-group-section__primary-description",children:[(0,m.jsx)("p",{children:(0,n.__)("The minimum requirements:","google-listings-and-ads")}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,n.__)("3x Headlines ","google-listings-and-ads")}),(0,m.jsx)("li",{children:(0,n.__)("1x Long headline","google-listings-and-ads")}),(0,m.jsx)("li",{children:(0,n.__)("2x Descriptions","google-listings-and-ads")})]}),(0,m.jsx)("p",{children:(0,m.jsx)(h.A,{context:"asset-group",linkId:"asset-group-images-learn-more",href:"https://support.google.com/google-ads/answer/14528373",children:(0,n.__)("Learn more","google-listings-and-ads")})})]}),children:(0,m.jsxs)("div",{className:"gla-asset-group-section__content",children:[ee.E1.map(n=>{const a=[e[n.key]].flat(),o=u(n.key);return(0,m.jsx)(Z,{ref:s.bind(n.key),heading:n.heading,subheading:(0,m.jsxs)(m.Fragment,{children:[n.subheading,t&&n.extraSubheading]}),help:n.help,numOfIssues:i(n.key),disabled:!t,initialExpanded:t,children:(0,m.jsx)(H,{initialTexts:a,minNumberOfTexts:n.min,maxNumberOfTexts:n.max,maxCharacterCounts:n.maxCharacterCounts,placeholder:n.capitalizedName,addButtonText:n.addButtonText,onChange:e=>{n.requiredSingleValue?o.onChange(e[0]):o.onChange(e)},children:r(n.key)})},n.key)}),(0,m.jsx)(Z,{className:"gla-asset-field-call-to-action",heading:(0,n.__)("Call to action","google-listings-and-ads"),help:(0,n.__)("Select a call to action that aligns with your goals, or use automated call to action which allows Google to automatically choose the most relevant call to action for you.","google-listings-and-ads"),disabled:!t,initialExpanded:t,children:(0,m.jsx)(j.SelectControl,{options:se,value:_.value||se[0].value,onChange:_.onChange})}),(0,m.jsxs)(Z,{ref:s.bind(a.Ms.DISPLAY_URL_PATH),className:"gla-asset-field-display-url-path",heading:(0,n.__)("Display URL path","google-listings-and-ads"),subheading:p,help:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,n.__)("The display URL gives potential customers a clear idea of what webpage they'll reach once they click your ad, so your path text should describe your ad's landing page.","google-listings-and-ads")}),(0,m.jsx)("div",{children:(0,n.__)('To create your display URL, Google Ads will combine the domain (for example, "www.google.com" in www.google.com/nonprofits) from your final URL and the path text (for example, "nonprofits" in www.google.com/nonprofits).',"google-listings-and-ads")})]}),numOfIssues:i(a.Ms.DISPLAY_URL_PATH),markOptional:!0,disabled:!t,initialExpanded:t,children:[ee.tY.map((e,s)=>{const t=c[a.Ms.DISPLAY_URL_PATH];return(0,m.jsxs)(g.Fragment,{children:[(0,m.jsx)("span",{className:"gla-asset-field-display-url-path__slash",children:"/"}),(0,m.jsx)(V.A,{className:"gla-asset-field-display-url-path__text-input",kindCharacterCount:"google-ads",maxCharacterCount:e.maxCharacterCount,value:t[s]||"",onChange:e=>{const n=t.slice();n[s]=e,d(a.Ms.DISPLAY_URL_PATH,n)}})]},s)}),r(a.Ms.DISPLAY_URL_PATH)]})]})})};function ne({minWidth:e,minHeight:s,suggestedWidth:t,suggestedHeight:a,onSelect:o,onDelete:i,ratioPercentError:r=1}){const l=(0,g.useRef)({});return l.current.onSelect=o,l.current.onDelete=i,{openSelector:(0,g.useCallback)(o=>{const{media:i}=wp,c=(0,n.sprintf)(
// translators: 1: Minimum width, 2: Minimum height.
// translators: 1: Minimum width, 2: Minimum height.
(0,n.__)("Image size needs to be at least %1$d x %2$d","google-listings-and-ads"),e,s),d=i({button:{text:(0,n.__)("Select","google-listings-and-ads"),close:!1},states:[new i.controller.Library({title:(0,n.__)("Select or upload image","google-listings-and-ads"),library:i.query({type:"image"}),date:!1,suggestedWidth:t,suggestedHeight:a}),new i.controller.CustomizeImageCropper({imgSelectOptions:(t,n)=>{const a=[t.get("width"),t.get("height"),e,s],o=function(e,s,t,n){const[a,o]=function(e,s,t,n){const a=t/n;return e/s>a?e=Math.round(s*a):s=Math.round(e/a),[e,s]}(...arguments),i=(e-a)/2,r=(s-o)/2;return{handles:!0,instance:!0,persistent:!0,imageWidth:e,imageHeight:s,minWidth:t,minHeight:n,x1:i,y1:r,x2:i+a,y2:r+o,aspectRatio:`${t}:${n}`}}(...a);if(function(e,s,t,n){const a=e/s,o=t/n;return 100*((a>o?a/o:o/a)-1)}(...a)<r){n.set("canSkipCrop",!0);const e=e=>{n.frame.toolbar.get().get("insert").model.set("disabled",e)};n.cropperView.once("image-loaded",()=>{e(!0)}),o.onSelectEnd=(s,t)=>{e(t.width===o.imageWidth&&t.height===o.imageHeight)}}return o.onSelectChange=(e,s)=>{Number.isNaN(s.width)&&setTimeout(()=>function(e,s,t){const n=getComputedStyle(t),{style:a}=t,o=new Map;["width","height"].forEach(e=>{const s=parseFloat(n[e]);if(Number.isInteger(s)||!Number.isFinite(s))return;o.set(e,[a.getPropertyValue(e),a.getPropertyPriority(e)]);const t=`${Math.ceil(s)}px`;a.setProperty(e,t)});const{x1:i,y1:r,x2:l,y2:c}=s;e.imgSelect.setSelection(i,r,l,c),e.imgSelect.update(),o.forEach(([e,s],t)=>{a.setProperty(t,e,s)})}(n,o,e))},o},control:{params:{}}})]});function g(){if(this===d)return void setTimeout(g);const t=d.state().get("selection"),n=d.toolbar.get();let a;if(t.length){const{width:n,height:o}=t.first().toJSON();a=n<e||o<s}const o=n.primary.el;a?(o.dataset.errorMessage=c,o.classList.add("gla-decorated-error-message"),n.get("select").model.set("disabled",!0)):delete o.dataset.errorMessage}d.on("select",function(){d.setState("cropper")},d).on("cropped skippedcrop",function(e){e instanceof i.model.Attachment&&(e=e.toJSON()),l.current.onSelect(e)},d).on("close",function(){const e=d.state("library");e.get("library").off(null,null,d),e.get("selection").off(null,null,d),d.off(null,null,d),d.remove()},d),d.state("library").get("selection").on("selection:single selection:unsingle",g,d),d.state("library").get("library").once("attachments:received",function(e){if(!o)return;const s=e.get(o);s&&d.state().get("selection").reset([s])},d).on("reset",g,d).on("destroy",function(e){l.current.onDelete(e)},d),d.open()},[e,s,t,a,r])}}var ae=t(9039),oe=t(9387);const ie=t.p+"images/js/src/images/pmax-assets-improvements/3a2334f8c990c109d5e6.youtube-icon.svg",re={image:(0,n.__)("Replace image","google-listings-and-ads"),video:(0,n.__)("View video","google-listings-and-ads")},le=({media:e=[],onMediumClick:s,onRemoveMedia:t,mediaType:a="image"})=>e.length?(0,m.jsx)("div",{className:`gla-media-selector gla-media-selector--has-${a}-media-type`,children:(0,m.jsx)("div",{className:"gla-media-selector__medium-list",children:e.map(e=>(0,m.jsxs)("div",{className:"gla-media-selector__item",children:[(0,m.jsxs)(d.A,{className:"gla-media-selector__medium-button","aria-label":re[a],onClick:()=>s(null,e),children:[(0,m.jsx)("img",{className:"gla-media-selector__medium",alt:e.alt,src:e.thumbnail||e.url}),"video"===a&&(0,m.jsx)("img",{className:"gla-media-selector__youtube-icon",src:ie,alt:(0,n.__)("YouTube icon","google-listings-and-ads"),width:32,height:24})]}),(0,m.jsx)(d.A,{className:"gla-media-selector__remove-medium-button","aria-label":(0,n.__)("Remove media","google-listings-and-ads"),icon:(0,m.jsx)(oe.A,{}),iconSize:20,onClick:()=>t(e)})]},e.url))})}):null;function ce({imageConfig:e,initialImageUrls:s=[],maxNumberOfImages:t=-1,reachedMaxNumberTip:a,children:o,onChange:i=$.noop}){const r=(0,g.useRef)(),[l,c]=(0,g.useState)(null),[d,u]=(0,g.useState)(()=>s.map(e=>({url:e,id:e,alt:""}))),h=e=>{u(e),i(e.map(e=>e.url))};r.current=h;const p=e=>{e.id===l?.id&&c(null),h(d.filter(({id:s})=>s!==e.id))};(0,g.useEffect)(()=>{t>-1&&d.length>t&&r.current(d.slice(0,t))},[d,t]);const _=ne({...e,onDelete:p,onSelect(e){const s=[...d];let t=s.findIndex(({id:s})=>s===e.id);l&&(-1!==t&&e.id!==l.id&&s.splice(t,1,{...l}),t=s.indexOf(l)),-1===t?s.push(e):s.splice(t,1,e),c(null),h(s)}}),x=(e,s=null)=>{c(s),_.openSelector(s?.id)};return(0,m.jsxs)("div",{className:"gla-images-selector",children:[(0,m.jsx)(le,{media:d,onMediumClick:x,onRemoveMedia:p}),o,(()=>{const e=-1!==t&&d.length>=t,s=(0,m.jsx)(Y,{disabled:e,text:(0,n.__)("Add image","google-listings-and-ads"),onClick:x});return e&&a?(0,m.jsx)(ae.A,{placement:"top",text:a,children:s}):s})()]})}const de=({initialValues:e,refFirstErrorField:s,isSelectedFinalUrl:t,getNumOfIssues:a,renderErrors:i})=>{const{values:r,getInputProps:l}=(0,o.h5)();return(0,m.jsx)(v.A,{title:(0,n.__)("Images","google-listings-and-ads"),className:"gla-asset-group-section",description:(0,m.jsxs)("div",{className:"gla-asset-group-section__primary-description",children:[(0,m.jsx)("p",{children:(0,n.__)("The minimum requirements:","google-listings-and-ads")}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,n.__)("1x marketing image","google-listings-and-ads")}),(0,m.jsx)("li",{children:(0,n.__)("1x square marketing image","google-listings-and-ads")}),(0,m.jsx)("li",{children:(0,n.__)("1x logo","google-listings-and-ads")})]}),(0,m.jsx)("p",{children:(0,m.jsx)(h.A,{context:"asset-group",linkId:"asset-group-images-learn-more",href:"https://support.google.com/google-ads/answer/14530211",children:(0,n.__)("Learn more","google-listings-and-ads")})})]}),children:(0,m.jsx)("div",{className:"gla-asset-group-section__content",children:ee.om.map(n=>{const o=e[n.key],c=l(n.key);return(0,m.jsx)(Z,{ref:s.bind(n.key),heading:n.heading,subheading:n.subheading,help:n.help,numOfIssues:a(n.key),markOptional:0===n.min,disabled:!t,initialExpanded:t,children:(0,m.jsx)(ce,{initialImageUrls:o,maxNumberOfImages:n.getMax(r),reachedMaxNumberTip:n.getMaxNumberTip(r),imageConfig:n.imageConfig,onChange:c.onChange,children:i(n.key)})},n.key)})})})},ge=({onVideoAdded:e})=>{const[s,t]=(0,g.useState)(""),[a,o]=(0,g.useState)(null);return(0,g.useEffect)(()=>{""===s&&o(null)},[s]),(0,m.jsxs)("div",{className:"gla-youtube-video-input-control",children:[(0,m.jsx)("p",{className:"gla-youtube-video-input-control__label",children:(0,n.__)("Select YouTube video URL","google-listings-and-ads")}),(0,m.jsxs)(j.Flex,{align:"flex-start",children:[(0,m.jsx)(j.FlexBlock,{children:(0,m.jsx)(V.A,{value:s,onChange:t,help:a,className:y()({"has-error":a})})}),(0,m.jsx)(j.FlexItem,{children:(0,m.jsx)(d.A,{onClick:async()=>{if(o(null),!(e=>!!/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]{11}(&.*)?$/.test(e.trim()))(s))return void o((0,n.__)("Invalid YouTube URL","google-listings-and-ads"));const a=(e=>{try{const s=new URL(e);if(s.hostname.includes("youtube.com"))return s.searchParams.get("v");if("youtu.be"===s.hostname)return s.pathname.slice(1)}catch{const s=e.match(/(?:youtube\.com.*[?&]v=|youtu\.be\/)([\w-]{11})/);return s?s[1]:null}return null})(s);a?(e(a),t("")):o((0,n.__)("Failed to get the video ID from the URL.","google-listings-and-ads"))},variant:"secondary",disabled:!s,children:(0,n.__)("Add Video","google-listings-and-ads")})})]})]})};function ue({initialVideos:e=[],maxNumberOfVideos:s=5,reachedMaxNumberTip:t,onChange:a}){const[o,i]=(0,g.useState)([...e]),[r,l]=(0,g.useState)(!0),c=()=>{l(!0)},d=o.map(e=>({id:e,url:`https://youtube.com/v/${e}`,thumbnail:`https://img.youtube.com/vi/${e}/mqdefault.jpg`}));return(0,m.jsxs)("div",{className:"gla-youtube-video-selector",children:[(0,m.jsx)(le,{media:d,onRemoveMedia:e=>{i(s=>{const t=s.filter(s=>s!==e.id);return a(t),t})},onMediumClick:(e,s)=>{s?.url&&window.open(s.url,"_blank","noopener,noreferrer")},mediaAspectRatio:"landscape",mediaType:"video"}),r&&(0,m.jsx)(ge,{onVideoAdded:e=>{e&&(o.includes(e)||i(s=>{const t=[...s,e];return a(t),t}),l(!1))}}),!r&&(()=>{const e=o.length>=s,a=(0,m.jsx)(Y,{disabled:e,text:(0,n.__)("Add YouTube video","google-listings-and-ads"),onClick:c});return e?t?(0,m.jsx)(ae.A,{placement:"top",text:t,children:a}):null:a})()]})}const he=({initialValues:e,isSelectedFinalUrl:s})=>{const{getInputProps:t}=(0,o.h5)(),{onChange:i}=t(a.Ms.YOUTUBE_VIDEO);return(0,m.jsx)(v.A,{title:(0,n.__)("Videos","google-listings-and-ads"),className:"gla-asset-group-section",description:(0,m.jsxs)("div",{className:"gla-asset-group-section__primary-description",children:[(0,m.jsx)("p",{children:(0,n.__)("Recommended but optional","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,m.jsx)(h.A,{context:"asset-group",linkId:"asset-group-videos-learn-more",href:"https://support.google.com/google-ads/answer/14528532",children:(0,n.__)("Learn more","google-listings-and-ads")})})]}),children:(0,m.jsx)("div",{className:"gla-asset-group-section__content",children:(0,m.jsx)(Z,{className:"gla-asset-field-videos",heading:(0,n.__)("Videos","google-listings-and-ads"),subheading:(0,n.__)("For best results, we recommend adding 1 video.","google-listings-and-ads"),disabled:!s,initialExpanded:s,markOptional:!0,help:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:(0,n.__)("You can add up to a maximum of 5 YouTube video assets.","google-listings-and-ads")}),(0,m.jsxs)("div",{className:"gla-asset-field__help-popover__content-group",children:[(0,m.jsx)("p",{children:(0,n.__)("Only valid YouTube URLs are accepted, such as:","google-listings-and-ads")}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:"https://www.youtube.com/watch?v=VIDEO_ID"}),(0,m.jsx)("li",{children:"https://youtu.be/VIDEO_ID"})]})]}),(0,m.jsx)("p",{children:(0,n.__)("Clicking a video thumbnail will open a preview in a new browser tab.","google-listings-and-ads")}),(0,m.jsx)("p",{children:(0,n.__)('To remove a video, hover over the thumbnail and click the "X" icon.',"google-listings-and-ads")})]}),children:(0,m.jsx)(ue,{onChange:i,initialVideos:e[a.Ms.YOUTUBE_VIDEO]})})})})};function me(){const e=(0,g.useRef)(),{values:s,adapter:{baseAssetGroup:t,validationRequestCount:n,assetGroupErrors:i}}=(0,o.h5)(),r=t[a.Ms.FINAL_URL],l=Boolean(r);function c(e){if(!l||0===n)return 0;const s=i[e];return Array.isArray(s)?s.length:s?1:0}function d(e){return 0===c(e)?null:(0,m.jsx)(B.A,{messages:i[e]})}function u(s){e.current||0===c(this)||(e.current=s)}e.current=null,(0,g.useEffect)(()=>{n>0&&e.current&&e.current.scrollIntoComponent()},[n]);const h=(0,g.useRef)(l);l||(h.current=l);const p=h.current?s:t;return(0,m.jsxs)("div",{className:"gla-asset-group-editor",children:[(0,m.jsx)(te,{finalUrl:r,getNumOfIssues:c,initialValues:p,isSelectedFinalUrl:l,refFirstErrorField:u,renderErrors:d}),(0,m.jsx)(de,{getNumOfIssues:c,initialValues:p,isSelectedFinalUrl:l,refFirstErrorField:u,renderErrors:d}),(0,m.jsx)(he,{initialValues:p,isSelectedFinalUrl:l})]},r)}const pe="submit-campaign-and-assets",_e="submit-campaign-only";function xe({campaign:e}){const s=!e,{isValidForm:t,handleSubmit:g,adapter:u,values:h}=(0,o.h5)(),{data:p}=(0,f.A)(),{isValidAssetGroup:j,isSubmitting:v,isSubmitted:A,submitter:y}=u,b=y?.dataset.action;function C(t){const n=s?p:e.displayCountries,o=h[a.Ms.FINAL_URL],i={context:s?"campaign-creation":"campaign-editing",action:t.target.dataset.action,audiences:n.join(","),budget:h.dailyBudget.toString(),assets_validation:j?"valid":"invalid",campaign_id:s?"new":e.id};o||(i.assets_validation="unknown"),Object.values(a.Ms).forEach(e=>{const s=`number_of_${e}`,t=[h[e]].flat().filter(Boolean).length;i[s]=o?t.toString():"unknown"}),(0,x.ce)("gla_submit_campaign_button_click",i)}return(0,m.jsxs)(i.A,{children:[(0,m.jsx)(r.A,{title:(0,n.__)("Optimize your campaign","google-listings-and-ads"),description:(0,n.__)("Drive greater performance by adding text, image, and video assets to create more personalized and engaging ads.","google-listings-and-ads")}),(0,m.jsx)(U,{}),(0,m.jsx)(me,{}),(0,m.jsxs)(l.A,{children:[(0,m.jsxs)(c.A,{children:[(s||u.isEmptyAssetEntityGroup)&&(0,m.jsx)(d.A,{isTertiary:!0,"data-action":_e,disabled:!t||A||b===pe,loading:v&&b===_e,onClick:e=>{g(e),C(e)},children:(0,n.__)("Skip this step","google-listings-and-ads")}),(0,m.jsx)(d.A,{isPrimary:!0,"data-action":pe,disabled:!u.baseAssetGroup[a.Ms.FINAL_URL]||A||b===_e,loading:v&&b===pe,onClick:e=>{j?g(e):u.showValidation(),C(e)},children:s?(0,n.__)("Create campaign","google-listings-and-ads"):(0,n.__)("Save changes","google-listings-and-ads")})]}),(0,m.jsx)(_,{})]})]})}},6893:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(6520);const o="getGoogleAdsAccountBillingStatus",i=()=>(0,n.useSelect)(e=>{const s=e(a.Ui);return{billingStatus:s[o](),hasFinishedResolution:s.hasFinishedResolution(o,[])}},[])},6960:(e,s,t)=>{t.d(s,{Ay:()=>u,h5:()=>r,Gl:()=>l});var n=t(6087),a=t(8846),o=t(8468);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(null===e)throw new Error("useAdaptiveFormContext was used outside of its context provider AdaptiveForm.");return e}function l(e,s=e){const{getInputProps:t,adapter:n}=r();return{...t(e),helper:n.renderRequestedValidation(s)}}var c=t(4848);const d="submitting",g="submitted",u=(0,n.forwardRef)(function({onSubmit:e,extendAdapter:s,children:t,...r},l){const u=(0,n.useRef)(),h=(0,n.useRef)({submitter:null}),[m,p]=(0,n.useState)([]),[_,x]=(0,n.useState)(),f=(0,n.useCallback)((...e)=>{p(s=>[...s,e])},[]);(0,n.useEffect)(()=>{_&&h.current.setValueCompatibly(..._)},[_]),(0,n.useImperativeHandle)(l,()=>({setValue:f,...u.current}));const j=function(){const e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,n.useCallback)(()=>e.current,[])}(),[v,A]=(0,n.useState)(0),y=(0,n.useCallback)(()=>{A(e=>e+1)},[]),b=(0,n.useCallback)(()=>{A(0)},[]),[C,w]=(0,n.useState)(null),k=C===d,N=C===g;return e&&(r.onSubmit=async function(s){w(d);let t=!1;const n={submitter:h.current.submitter,signalFailedSubmission(){t=!0}};await e.call(this,s,n),j()&&(h.current.submitter=null,w(t?null:g))}),(0,c.jsx)(a.Form,{...r,ref:u,children:({setValue:e,getInputProps:n,handleSubmit:a,...r})=>{if(h.current.setValueCompatibly=(s,t)=>{r.setValues?r.setValues({[s]:t}):e(s,t)},r.setValue=f,r.getInputProps=e=>{const s=n(e);return{...s,onChange:function(t){(function(e){return(e?.nativeEvent||e)instanceof Event})(t)&&(t="checkbox"===t.target.type?!(0,o.get)(s.values,e):t.target.value),h.current.setValueCompatibly(e,t)}}},m.length&&setTimeout(()=>x(m.shift())),r.handleSubmit=function(e){return h.current.submitter=e?.currentTarget||null,a.call(this,e)},r.adapter={isSubmitting:k,isSubmitted:N,submitter:h.current.submitter,validationRequestCount:v,requestedShowValidation:v>0,showValidation:y,hideValidation:b},"function"==typeof s){const e=s(r);Object.assign(r.adapter,e)}return(0,c.jsx)(i.Provider,{value:r,children:"function"==typeof t?t(r):t})}})})},7043:(e,s,t)=>{e.exports=t.p+"images/js/src/images/c4325f35cdc65f85a7c1.success-guide-header.svg"},7133:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(6087);function a(e="single"){const s=(0,n.useRef)({}),[t,a]=(0,n.useState)(0);s.current.usingHandle=e,s.current[e]=s.current[e]||{callCount:0};const o=(0,n.useCallback)(t=>{a(t);const n=s.current[e],o=(new Date).getTime()+1e3*t;n.id&&clearInterval(n.id),n.updateSecond=()=>{let t=(o-(new Date).getTime())/1e3;t=Math.max(Math.round(t),0),s.current.usingHandle===e&&a(t),0===t&&clearInterval(n.id)},n.id=setInterval(n.updateSecond,1e3),n.callCount+=1},[e]);(0,n.useEffect)(()=>{const{updateSecond:t}=s.current[e];t&&t()},[e]),(0,n.useEffect)(()=>{const e=s.current;return()=>{Object.values(e).forEach(e=>clearInterval(e.id))}},[]);const{callCount:i}=s.current[e];return{second:t,callCount:i,startCountdown:o}}},7240:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>{const e=(0,n.A)("getMCCountriesAndContinents");return{...e,data:e.data.countries}}},7337:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(7143),a=t(314),o=t(5703);function i(){return(0,n.useSelect)(e=>{const s=e(a.OPTIONS_STORE_NAME),t="getOption",n=["woocommerce_default_country"],i=s[t](...n);let r=null,l=null;if(s.hasFinishedResolution(t,n)){const e=(0,o.getSetting)("countries");[r]=i.split(":"),l=e[r]}return{code:r,name:l}},[])}},7343:(e,s,t)=>{t.d(s,{A:()=>We});var n=t(6087),a=t(6427),o=t(8846),i=t(8468),r=t(3741),l=t(7892),c=t(6960),d=t(6319),g=t(7723);const u=new Set(["all","selected"]),h=new Set(["automatic","flat","manual"]),m=new Set(["flat","manual"]),p=e=>e.rate>0,_=e=>!!e.some(p)&&e.some(e=>e.options.free_shipping_threshold>0);var x=t(8683),f=t(8242),j=t(8771),v=t(8864),A=t(9491),y=t(6942),b=t.n(y),C=t(8107),w=t(2224),k=t(4848);const N=({tags:e=[],disabled:s,maxVisibleTags:t=0,onChange:a=()=>{}})=>{const[i,r]=(0,n.useState)(!1),c=Math.max(0,t),d=i||!c?e:e.slice(0,c);if(!e.length)return null;const u=t=>()=>{s||a(e.filter(e=>e.id!==t))};return(0,k.jsxs)("div",{className:"woocommerce-tree-select-control__tags",children:[d.map((s,t)=>{if(!s.label)return null;const n=(0,g.sprintf)(
// translators: 1: Tag Label, 2: Current Tag index, 3: Total amount of tags.
// translators: 1: Tag Label, 2: Current Tag index, 3: Total amount of tags.
(0,g.__)("%1$s (%2$d of %3$d)","google-listings-and-ads"),s.label,t+1,e.length);return(0,k.jsx)(o.Tag,{id:s.id,label:s.label,screenReaderLabel:n,remove:u},s.id)}),c>0&&e.length>c&&(0,k.jsx)(l.A,{isTertiary:!0,className:"woocommerce-tree-select-control__show-more",onClick:()=>{r(!i)},children:i?(0,g.__)("Show less","google-listings-and-ads"):(0,g.sprintf)(
// translators: %d: The number of extra tags to show
// translators: %d: The number of extra tags to show
(0,g.__)("+ %d more","google-listings-and-ads"),e.length-c)})]})},S="__WC_TREE_SELECT_COMPONENT_ROOT__",R="ArrowUp",T="ArrowDown",E=(0,n.forwardRef)(({tags:e=[],instanceId:s,placeholder:t,isExpanded:n,disabled:a,maxVisibleTags:o,value:r="",onFocus:l=()=>{},onTagsChange:c=()=>{},onInputChange:d=()=>{},onControlClick:g=i.noop},u)=>{const h=e.length>0,m=!h&&!n;return(0,k.jsxs)("div",{className:b()("components-base-control","woocommerce-tree-select-control__control",{"is-disabled":a,"has-tags":h}),onClick:e=>{u.current.focus(),g(e)},children:[h&&(0,k.jsx)(N,{disabled:a,tags:e,maxVisibleTags:o,onChange:c}),(0,k.jsx)("div",{className:"components-base-control__field",children:(0,k.jsx)("input",{ref:u,id:`woocommerce-tree-select-control-${s}__control-input`,type:"search",placeholder:m?t:"",autoComplete:"off",className:"woocommerce-tree-select-control__control-input",role:"combobox","aria-autocomplete":"list",value:r,"aria-expanded":n,disabled:a,onFocus:l,onChange:d,onKeyDown:s=>{if("Backspace"===s.key){if(r)return;c(e.slice(0,-1)),s.preventDefault()}}})})]})});var I=t(7677),F=t(3756),G=t(2485),M=t(8351);const O=({option:e,checked:s,className:t,...n})=>{var a,o;return e?(0,k.jsx)("div",{className:t,children:(0,k.jsxs)("div",{className:"components-base-control__field",children:[(0,k.jsxs)("span",{className:"components-checkbox-control__input-container",children:[(0,k.jsx)("input",{id:`inspector-checkbox-control-${null!==(a=e.key)&&void 0!==a?a:e.value}`,className:"components-checkbox-control__input",type:"checkbox",tabIndex:"-1",value:e.value,checked:s,...n}),s&&(0,k.jsx)(I.A,{icon:M.A,role:"presentation",className:"components-checkbox-control__checked"})]}),(0,k.jsx)("label",{className:"components-checkbox-control__label",htmlFor:`inspector-checkbox-control-${null!==(o=e.key)&&void 0!==o?o:e.value}`,children:e.label})]})}):null},P=({options:e=[],onChange:s=()=>{},onExpanderClick:t=i.noop,onToggleExpanded:n=i.noop})=>e.map(e=>{var o;const i=e.value===S,{hasChildren:r,checked:l,partialChecked:c,expanded:d}=e;return(0,k.jsxs)("div",{role:r?"treegroup":"treeitem","aria-expanded":r?d:void 0,className:b()("woocommerce-tree-select-control__node",r&&"has-children"),children:[(0,k.jsxs)(a.Flex,{justify:"flex-start",children:[!i&&(0,k.jsx)("button",{className:b()("woocommerce-tree-select-control__expander",!r&&"is-hidden"),tabIndex:"-1",onClick:s=>{t(s),n(e)},children:(0,k.jsx)(I.A,{icon:d?F.A:G.A})}),(0,k.jsx)(O,{className:b()("components-base-control","woocommerce-tree-select-control__option",c&&"is-partially-checked"),option:e,checked:l,onChange:t=>{s(t.target.checked,e)},onKeyDown:s=>{((e,s)=>{s.hasChildren&&("ArrowRight"!==e.key||s.expanded?"ArrowLeft"===e.key&&s.expanded&&n(s):n(s))})(s,e)}})]}),r&&d&&(0,k.jsx)("div",{className:b()("woocommerce-tree-select-control__children",i&&"woocommerce-tree-select-control__main"),children:(0,k.jsx)(P,{options:e.children,onChange:s,onExpanderClick:t,onToggleExpanded:n})})]},`${null!==(o=e.key)&&void 0!==o?o:e.value}`)}),L=P,D=({id:e,label:s,selectAllLabel:t=(0,g.__)("All","google-listings-and-ads"),help:a,placeholder:o,className:r,disabled:l,options:c=[],value:d=[],maxVisibleTags:u,onChange:h=()=>{},onDropdownVisibilityChange:m=i.noop})=>{let p=(0,A.useInstanceId)(D);p=null!=e?e:p;const[_,x]=(0,n.useState)(!1),[f,j]=(0,n.useState)([]),[v,y]=(0,n.useState)(""),N=(0,n.useRef)(),I=(0,n.useRef)(),F=(0,n.useRef)();F.current=m;const G=(0,n.useRef)({filteredOptionsMap:new Map});G.current.expandedValues=f,G.current.selectedValues=d;const M=!l&&_,O=!1!==t?{label:t,value:S,children:c}:null,P=(0,w.A)(O?[O]:c),q=(0,A.__experimentalUseFocusOutside)(()=>{x(!1)}),U=v.trim().toLowerCase(),B=U.length>=3?U:"",V=(0,n.useMemo)(()=>{const e={};return G.current.filteredOptionsMap.clear(),P.forEach(function s(t,n){const{children:a=[]}=t;var o;t.parent=n,a.forEach(e=>s(e,t.value)),a.length||(e[null!==(o=t.key)&&void 0!==o?o:t.value]=t)}),e},[P]),$=(0,n.useMemo)(()=>{const{current:e}=G,s=e.filteredOptionsMap.get(B);if(s)return s;const t=Boolean(B),n={hasChildren:{get(){return this.children?.length>0}},leaves:{get(){return this.hasChildren?this.children.flatMap(e=>e.hasChildren?e.leaves:e):[]}},checked:{get(){return this.hasChildren?this.leaves.every(e=>e.checked):e.selectedValues.includes(this.value)}},partialChecked:{get(){return!!this.hasChildren&&!this.checked&&this.leaves.some(e=>e.checked||e.partialChecked)}},expanded:{get(){return t||this.value===S||e.expandedValues.includes(this.value)}}},a=(e,{children:s=[],...o})=>{if(s.length){if(o.children=s.reduce(a,[]),!o.children.length)return e}else if(t){const s=o.label.toLowerCase().indexOf(B);if(-1===s)return e;o.label=((e,s)=>{const n=s+B.length;return t?(0,k.jsxs)("span",{children:[(0,k.jsx)("span",{children:e.substring(0,s)}),(0,k.jsx)("strong",{children:e.substring(s,n)}),(0,k.jsx)("span",{children:e.substring(n)})]}):e})(o.label,s)}return Object.defineProperties(o,n),e.push(o),e},o=P.reduce(a,[]);return e.filteredOptionsMap.set(B,o),o},[P,B]);(0,n.useEffect)(()=>{F.current(M)},[M]);const z=e=>{j(e.expanded?f.filter(s=>e.value!==s):[...f,e.value])};return(0,k.jsxs)("div",{...q,onKeyDown:e=>{if(l)return;"Escape"===e.key&&x(!1),"Enter"===e.key&&(x(!0),e.preventDefault());const s={[R]:-1,[T]:1}[e.key];if(s&&I.current&&$.length){const t=C.focus.focusable.find(I.current).filter(e=>"checkbox"===e.type),n=t.indexOf(e.target),a=Math.max(n+s,-1)%t.length;t.at(a).focus(),e.preventDefault()}},className:b()("woocommerce-tree-select-control",r),children:[!!s&&(0,k.jsx)("label",{htmlFor:`woocommerce-tree-select-control-${p}__control-input`,className:"woocommerce-tree-select-control__label",children:s}),(0,k.jsx)(E,{ref:N,disabled:l,tags:c.length?d.map(e=>{const s=V[e];return{id:e,label:s?.label}}):[],isExpanded:M,onFocus:()=>{x(!0)},onControlClick:()=>{l||x(!0)},instanceId:p,placeholder:o,label:s,maxVisibleTags:u,value:v,onTagsChange:e=>{h([...e.map(e=>e.id)])},onInputChange:e=>{y(e.target.value)}}),M&&(0,k.jsx)("div",{ref:I,className:"woocommerce-tree-select-control__tree",role:"tree",tabIndex:"-1",children:(0,k.jsx)(L,{options:$,onChange:(e,s)=>{s.hasChildren?((e,s)=>{let t;const n=s.leaves.filter(s=>s.checked!==e).map(e=>e.value);e?(s.expanded||z(s),t=d.concat(n)):t=d.filter(e=>!n.includes(e)),h(t)})(e,s):((e,s)=>{const t=e?[...d,s.value]:d.filter(e=>e!==s.value);h(t)})(e,s),y(""),s.hasChildren||!s.parent||f.includes(s.parent)||N.current.focus()},onExpanderClick:e=>{const s=C.focus.focusable.find(I.current),t=s.indexOf(e.currentTarget)+1;s.at(t).focus()},onToggleExpanded:z})}),a&&(0,k.jsx)("div",{className:"woocommerce-tree-select-control__help",children:a})]})},q=D;var U=t(9415);const B=[];function V({countryCodes:e,className:s,...t}){const a=(0,A.useViewportMatch)("medium","<")?5:10,o=function(e){const{data:{countries:s,continents:t},hasFinishedResolution:a}=(0,U.A)("getMCCountriesAndContinents");return(0,n.useMemo)(()=>{if(!a)return B;const n=e||Object.keys(s);return Object.entries(t).reduce((e,[t,a])=>{const o=a.countries.reduce((e,t)=>(n.includes(t)&&e.push({value:t,label:s[t].name}),e),[]);return o.length&&e.push({value:t,label:a.name,children:o}),e},[])},[e,s,t,a])}(e);return(0,k.jsx)(q,{className:b()("gla-supported-country-select",s),placeholder:(0,g.__)("Start typing to filter countries…","google-listings-and-ads"),selectAllLabel:(0,g.__)("All countries","google-listings-and-ads"),maxVisibleTags:a,options:o,...t})}var $=t(850);const z=()=>{const{getInputProps:e,adapter:{renderRequestedValidation:s}}=(0,c.h5)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(f.A,{className:"gla-choose-audience-section",title:(0,g.__)("Audience","google-listings-and-ads"),description:(0,k.jsx)("p",{children:(0,g.__)("Where do you want to sell your products?","google-listings-and-ads")}),children:(0,k.jsx)(f.A.Card,{children:(0,k.jsx)(f.A.Card.Body,{children:(0,k.jsxs)(j.A,{children:[(0,k.jsx)(j.A.Title,{children:(0,g.__)("Location","google-listings-and-ads")}),(0,k.jsx)(j.A.HelperText,{children:(0,g.__)("Your store should already have the appropriate shipping and tax rates (if required) for potential customers in your selected location(s).","google-listings-and-ads")}),(0,k.jsxs)($.A,{size:"medium",children:[(0,k.jsxs)(x.A,{...e("location"),collapsible:!0,label:(0,g.__)("Selected countries only","google-listings-and-ads"),value:"selected",children:[(0,k.jsx)(V,{multiple:!0,...e("countries"),help:(0,g.__)("Can’t find a country? Only supported countries can be selected.","google-listings-and-ads")}),s("countries")]}),(0,k.jsx)(x.A,{...e("location"),label:(0,g.__)("All countries","google-listings-and-ads"),value:"all",children:(0,k.jsx)(v.A,{children:(0,g.__)("Your listings will be shown in all supported countries.","google-listings-and-ads")})})]})]})})})})})};var W=t(1177),Y=t(4978),H=t(6494),Q=t(3772);var K=t(5588);const J=e=>{const s={};return 0===e.countries.length&&(s.countries=(0,g.__)("Please specify at least one country.","google-listings-and-ads")),Number.isFinite(e.rate)||(s.rate=(0,g.__)("Please enter the estimated shipping rate.","google-listings-and-ads")),e.rate<0&&(s.rate=(0,g.__)("The estimated shipping rate cannot be less than 0.","google-listings-and-ads")),s};var X=t(9457);const Z=({countryOptions:e,initialValues:s,renderButtons:t=i.noop,onSubmit:a,onRequestClose:r})=>{const[l,c]=(0,n.useState)(!1);return(0,k.jsx)(o.Form,{initialValues:s,validate:J,onSubmit:a,children:s=>{const{values:n,getInputProps:a}=s;return(0,k.jsx)(X.A,{overflow:"visible",shouldCloseOnEsc:!l,shouldCloseOnClickOutside:!l,title:(0,g.__)("Estimate a shipping rate","google-listings-and-ads"),buttons:t(s),onRequestClose:r,children:(0,k.jsxs)($.A,{children:[(0,k.jsx)(V,{label:(0,g.__)("If customer is in","google-listings-and-ads"),countryCodes:e,onDropdownVisibilityChange:c,...a("countries")}),(0,k.jsx)(K.A,{label:(0,g.__)("Then the estimated shipping rate displayed in the product listing is","google-listings-and-ads"),suffix:n.currency,...a("rate")})]})})}})},ee=({countryOptions:e,initialValues:s,onSubmit:t,onRequestClose:n=i.noop})=>(0,k.jsx)(Z,{countryOptions:e,initialValues:s,renderButtons:e=>{const{isValidForm:s,handleSubmit:t}=e;return[(0,k.jsx)(l.A,{isPrimary:!0,disabled:!s,onClick:()=>{n(),t()},children:(0,g.__)("Add shipping rate","google-listings-and-ads")},"submit")]},onSubmit:t,onRequestClose:n}),se=({countryOptions:e,initialValues:s,onSubmit:t,onRequestClose:n=i.noop,onDelete:a=i.noop})=>{const o=()=>{n(),a()};return(0,k.jsx)(Z,{countryOptions:e,initialValues:s,renderButtons:e=>{const{isValidForm:s,handleSubmit:t}=e;return[(0,k.jsx)(l.A,{isTertiary:!0,isDestructive:!0,onClick:o,children:(0,g.__)("Delete","google-listings-and-ads")},"delete"),(0,k.jsx)(l.A,{isPrimary:!0,disabled:!s,onClick:()=>{n(),t()},children:(0,g.__)("Update shipping rate","google-listings-and-ads")},"submit")]},onSubmit:t,onRequestClose:n})};var te=t(6734);const ne=5,ae=e=>{const{countries:s,firstN:t=ne,textWithMore:a,textWithoutMore:o}=e,i=(0,te.A)(),r=s.slice(0,t).map(e=>i[e]),l=s.length>r.length?a:o;return(0,n.createInterpolateElement)((0,g.sprintf)(l,r.join(", "),s.length-r.length),{strong:(0,k.jsx)("strong",{})})},oe=e=>{const{countries:s}=e;return(0,k.jsx)("div",{children:(0,k.jsx)(ae,{countries:s,textWithMore:
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
(0,g.__)("Shipping rate for <strong>%1$s</strong> + %2$d more","google-listings-and-ads"),textWithoutMore:
// translators: 1: list of country names separated by comma.
// translators: 1: list of country names separated by comma.
(0,g.__)("Shipping rate for <strong>%1$s</strong>","google-listings-and-ads")})})},ie=({countryOptions:e,value:s,onChange:t,onDelete:n})=>{const{countries:a,currency:i,rate:r}=s;return(0,k.jsxs)("div",{className:"gla-shipping-rate-input-control",children:[(0,k.jsx)(K.A,{label:(0,k.jsxs)("div",{className:"label",children:[(0,k.jsx)(oe,{countries:a}),(0,k.jsx)(H.A,{button:(0,k.jsx)(l.A,{isTertiary:!0,children:(0,g.__)("Edit","google-listings-and-ads")}),modal:(0,k.jsx)(se,{countryOptions:e,initialValues:s,onSubmit:t,onDelete:n})})]}),suffix:i,value:r,onBlur:(e,n)=>{r!==n&&t({...s,rate:n})}}),0===r&&(0,k.jsx)("div",{className:"gla-input-pill-div",children:(0,k.jsx)(o.Pill,{children:(0,g.__)("Free shipping for all orders","google-listings-and-ads")})})]})},re={options:{}};function le({audienceCountries:e,value:s,helper:t,onChange:n}){const{code:a}=(0,Q.A)(),{handleAddSubmit:o,getChangeHandler:i,getDeleteHandler:r}=(({value:e,onChange:s})=>({handleAddSubmit:({countries:t,currency:n,rate:a})=>{const o=t.map(e=>({...re,country:e,currency:n,rate:a}));s(e.concat(o))},getChangeHandler:t=>n=>{const a=e.filter(e=>!(t.countries.includes(e.country)&&!n.countries.includes(e.country)));n.countries.forEach(e=>{const s=a.findIndex(s=>s.country===e),t=a[s],o={...re,...t,country:e,currency:n.currency,rate:n.rate};p(o)||(o.options.free_shipping_threshold=void 0),s>=0?a[s]=o:a.push(o)}),s(a)},getDeleteHandler:t=>()=>{const n=e.filter(e=>!t.countries.includes(e.country));s(n)}}))({value:s,onChange:n});return(0,k.jsx)(f.A.Card,{children:(0,k.jsxs)(f.A.Card.Body,{children:[(0,k.jsx)(f.A.Card.Title,{children:(0,g.__)("Estimated shipping rates","google-listings-and-ads")}),(0,k.jsx)($.A,{size:"large",children:(()=>{const t=(e=>{const s=new Map;return e.forEach(e=>{const{country:t,currency:n,rate:a}=e,o=`${n} ${a} `,i=s.get(o)||{countries:[],currency:n,rate:a};i.countries.push(t),s.set(o,i)}),Array.from(s.values())})(s);if(0===t.length){const s={countries:e,currency:a,rate:void 0};return(0,k.jsx)(ie,{countryOptions:e,value:s,onChange:i(s),onDelete:r(s)})}const n=e.filter(e=>!s.some(s=>s.country===e));return(0,k.jsxs)(k.Fragment,{children:[t.map(s=>(0,k.jsx)(ie,{countryOptions:e,value:s,onChange:i(s),onDelete:r(s)},s.countries.join("-"))),n.length>=1&&(0,k.jsx)("div",{children:(0,k.jsx)(H.A,{button:(0,k.jsx)(l.A,{isSecondary:!0,icon:(0,k.jsx)(Y.A,{}),children:(0,g.__)("Add another rate","google-listings-and-ads")}),modal:(0,k.jsx)(ee,{countryOptions:n,initialValues:{countries:n,currency:a,rate:0},onSubmit:o})})})]})})()}),t]})})}const ce=()=>{const{adapter:e}=(0,c.h5)(),s=(0,c.Gl)("shipping_country_rates");return(0,k.jsx)(le,{audienceCountries:e.audienceCountries,...s})};var de=t(873),ge=t(3027);const ue=()=>{const{getInputProps:e,values:s}=(0,c.h5)(),{settings:t}=(0,de.A)(),{hasFinishedResolution:a,data:o}=(0,ge.A)(),i=e("shipping_rate"),r=!t?.shipping_rates_count&&a&&"incomplete"===o?.status;return(0,k.jsxs)(f.A,{title:(0,g.__)("Shipping rates","google-listings-and-ads"),description:(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:(0,g.__)("Your estimated shipping rates and times will be shown to potential customers on Google.","google-listings-and-ads")}),(0,k.jsx)("p",{children:(0,k.jsx)(W.A,{context:"setup-mc-shipping",linkId:"shipping-read-more",href:"https://support.google.com/merchants/answer/7050921",children:(0,g.__)("Read more","google-listings-and-ads")})})]}),children:[(0,k.jsx)(f.A.Card,{children:(0,k.jsx)(f.A.Card.Body,{children:(0,k.jsxs)($.A,{size:"large",children:[!r&&(0,k.jsx)(x.A,{...i,label:(0,g.__)("Automatically sync my store’s shipping settings to Google.","google-listings-and-ads"),value:"automatic",collapsible:!0,children:(0,k.jsx)(v.A,{children:(0,g.__)("My current settings and any future changes to my store’s shipping rates and classes will be automatically synced to Google Merchant Center.","google-listings-and-ads")})}),(0,k.jsx)(x.A,{...i,label:(0,g.__)("My shipping settings are simple. I can manually estimate flat shipping rates.","google-listings-and-ads"),value:"flat",collapsible:!0}),(0,k.jsx)(x.A,{...i,label:(0,g.__)("My shipping settings are complex. I will enter my shipping rates and times manually in Google Merchant Center.","google-listings-and-ads"),value:"manual",collapsible:!0,children:(0,k.jsx)(v.A,{children:(0,n.createInterpolateElement)((0,g.__)("I understand that if I don’t set this up manually in <link>Google Merchant Center</link>, my products will be disapproved by Google.","google-listings-and-ads"),{link:(0,k.jsx)(W.A,{context:"setup-mc-shipping",linkId:"shipping-manual",href:"https://www.google.com/retail/solutions/merchant-center/"})})})})]})})}),"flat"===s.shipping_rate&&(0,k.jsx)(ce,{})]})},he=e=>{const s={};return 0===e.countries.length&&(s.countries=(0,g.__)("Please specify at least one country.","google-listings-and-ads")),Number.isInteger(e.time)||(s.time=(0,g.__)("Please enter the estimated shipping time.","google-listings-and-ads")),(e.time<0||e.maxTime<0)&&(s.time=(0,g.__)("The estimated shipping time cannot be less than 0.","google-listings-and-ads")),e.time>e.maxTime&&(s.time=(0,g.__)("The minimum shipping time must not be more than the maximum shipping time.","google-listings-and-ads")),s};var me=t(5095),pe=t(4596),_e=t(6499);const xe=({step:e=1,min:s=0,max:t=250,time:o,handleBlur:i,handleIncrement:r,field:l="time"})=>{const[c,d]=(0,n.useState)(o),u=(0,n.useRef)(null);function h(e){const n=parseFloat(c||0)+e;n>=s&&n<=t&&(d(n),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{r(n,l)},600))}return(0,n.useEffect)(()=>{d(0===o?"":o)},[o]),(0,k.jsx)(_e.A,{step:e,placeholder:null===o?"":(0,g.__)("Same Day","google-listings-and-ads"),suffix:(0,k.jsxs)(k.Fragment,{children:[parseInt(c,10)>=1&&(0,k.jsx)("span",{className:"gla-countries-time-suffix",children:(0,g._n)("day","days",parseInt(c,10),"google-listings-and-ads")}),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(a.Button,{className:"woocommerce-number-control__increment",icon:me.A,size:"small",onMouseDown:()=>h(e),"aria-label":(0,g.__)("Increment","google-listings-and-ads"),tabIndex:-1}),(0,k.jsx)(a.Button,{icon:pe.A,className:"woocommerce-number-control__decrement",size:"small",onMouseDown:()=>h(-e),"aria-label":(0,g.__)("Decrement","google-listings-and-ads"),tabIndex:-1})]})]}),value:c,onBlur:(e,n)=>{n>=s&&n<=t&&i(n,l)},className:"gla-countries-time-stepper"})},fe=({handleBlur:e,handleIncrement:s,time:t,maxTime:n})=>(0,k.jsxs)(a.Flex,{justify:"space-between",gap:"4",children:[(0,k.jsx)(a.FlexItem,{children:(0,k.jsx)("div",{className:"gla-countries-time-input",children:(0,k.jsx)(xe,{handleBlur:e,time:t,handleIncrement:s,field:"time"})})}),(0,k.jsx)(a.FlexItem,{children:(0,k.jsx)("span",{children:(0,g.__)("to","google-listings-and-ads")})}),(0,k.jsx)(a.FlexItem,{children:(0,k.jsx)("div",{className:"gla-countries-time-input",children:(0,k.jsx)(xe,{handleBlur:e,handleIncrement:s,time:n,field:"maxTime"})})})]}),je=({countries:e,onRequestClose:s,onSubmit:t})=>{const[i,r]=(0,n.useState)(!1);return(0,k.jsx)(o.Form,{initialValues:{countries:e,time:0,maxTime:0},validate:he,onSubmit:e=>{t(e),s()},children:t=>{const{getInputProps:n,isValidForm:o,handleSubmit:c,errors:d}=t,u=(e,s)=>{n(s).onChange(e)};return(0,k.jsx)(X.A,{overflow:"visible",shouldCloseOnEsc:!i,shouldCloseOnClickOutside:!i,title:(0,g.__)("Estimate shipping time","google-listings-and-ads"),buttons:[(0,k.jsx)(l.A,{isPrimary:!0,disabled:!o,onClick:c,children:(0,g.__)("Add shipping time","google-listings-and-ads")},"save")],onRequestClose:s,children:(0,k.jsxs)($.A,{children:[(0,k.jsx)(V,{label:(0,g.__)("If customer is in","google-listings-and-ads"),countryCodes:e,onDropdownVisibilityChange:r,...n("countries")}),(0,k.jsx)("div",{className:"label",children:(0,g.__)("Then the estimated shipping times displayed in the product listing are:","google-listings-and-ads")}),(0,k.jsx)(a.Flex,{direction:"column",className:"gla-countries-time-input-container",children:(0,k.jsxs)(a.FlexItem,{children:[(0,k.jsx)(fe,{time:n("time").value,maxTime:n("maxTime").value,handleBlur:u,handleIncrement:u}),(0,k.jsx)("ul",{className:"gla-validation-errors",children:(0,k.jsx)("li",{children:d.time})})]})})]})})}})},ve=e=>{const[s,t]=(0,n.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.A,{isSecondary:!0,icon:(0,k.jsx)(Y.A,{}),onClick:()=>{t(!0)},children:(0,g.__)("Add another time","google-listings-and-ads")}),s&&(0,k.jsx)(je,{onRequestClose:()=>{t(!1)},...e})]})},Ae=e=>{const{countries:s}=e;return(0,k.jsx)("div",{children:(0,k.jsx)(ae,{countries:s,textWithMore:
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
(0,g.__)("Shipping time for <strong>%1$s</strong> + %2$d more","google-listings-and-ads"),textWithoutMore:
// translators: 1: list of country names separated by comma.
// translators: 1: list of country names separated by comma.
(0,g.__)("Shipping time for <strong>%1$s</strong>","google-listings-and-ads")})})},ye=({audienceCountries:e,time:s,onDelete:t,onSubmit:i,onRequestClose:r})=>{const[c,d]=(0,n.useState)(!1),u=Array.from(new Set([...s.countries,...e])),h=()=>{t(s.countries)};return(0,k.jsx)(o.Form,{initialValues:{countries:s.countries,time:s.time,maxTime:s.maxTime},validate:he,onSubmit:e=>{const t=new Set(e.countries),n=s.countries.filter(e=>!t.has(e));i(e,n)},children:e=>{const{getInputProps:s,isValidForm:t,handleSubmit:n,errors:o}=e,i=(e,t)=>{s(t).onChange(e)};return(0,k.jsx)(X.A,{overflow:"visible",shouldCloseOnEsc:!c,shouldCloseOnClickOutside:!c,title:(0,g.__)("Estimate shipping time","google-listings-and-ads"),buttons:[(0,k.jsx)(l.A,{isTertiary:!0,isDestructive:!0,onClick:h,children:(0,g.__)("Delete","google-listings-and-ads")},"delete"),(0,k.jsx)(l.A,{isPrimary:!0,disabled:!t,onClick:n,children:(0,g.__)("Update shipping time","google-listings-and-ads")},"save")],onRequestClose:r,children:(0,k.jsxs)($.A,{children:[(0,k.jsx)(V,{label:(0,g.__)("If customer is in","google-listings-and-ads"),countryCodes:u,onDropdownVisibilityChange:d,...s("countries")}),(0,k.jsx)("div",{className:"label",children:(0,g.__)("Then the estimated shipping times displayed in the product listing are","google-listings-and-ads")}),(0,k.jsx)(a.Flex,{direction:"column",className:"gla-countries-time-input-container",children:(0,k.jsxs)(a.FlexItem,{children:[(0,k.jsx)(fe,{time:s("time").value,maxTime:s("maxTime").value,handleBlur:i,handleIncrement:i}),(0,k.jsx)("ul",{className:"gla-validation-errors",children:(0,k.jsx)("li",{children:o.time})})]})})]})})}})},be=({audienceCountries:e,time:s,onChange:t,onDelete:a})=>{const[o,i]=(0,n.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.A,{className:"gla-edit-time-button",isTertiary:!0,onClick:()=>{i(!0)},children:(0,g.__)("Edit","google-listings-and-ads")}),o&&(0,k.jsx)(ye,{audienceCountries:e,time:s,onSubmit:(...e)=>{t(...e),i(!1)},onDelete:e=>{a(e),i(!1)},onRequestClose:()=>{i(!1)}})]})},Ce=({value:e,audienceCountries:s,onChange:t,onDelete:n})=>{const{countries:o,time:i,maxTime:l}=e;return s?(0,k.jsxs)(a.Flex,{direction:"column",className:"gla-countries-time-input-container",children:[(0,k.jsx)(a.FlexItem,{children:(0,k.jsxs)("div",{className:"label",children:[(0,k.jsx)(Ae,{countries:o}),(0,k.jsx)(be,{audienceCountries:s,onChange:t,onDelete:n,time:e})]})}),(0,k.jsx)(a.FlexItem,{children:(0,k.jsx)(fe,{time:i,maxTime:l,handleBlur:(s,n)=>{e[n]!==s&&t({...e,[n]:s})},handleIncrement:(s,n)=>{t({...e,[n]:s})}})})]}):(0,k.jsx)(r.A,{})};var we=t(172);function ke({value:e,audienceCountries:s,onChange:t}){const n=e.length,a=new Map(e.map(e=>[e.countryCode,e])),o=s.filter(e=>!a.has(e)),i=o.length,r=(0,we.A)(e);function l(s){t(e.filter(e=>!s.includes(e.countryCode)))}function c({countries:e,time:s,maxTime:n},o=[]){o.forEach(e=>a.delete(e)),e.forEach(e=>{a.set(e,{countryCode:e,time:s,maxTime:n})}),t(Array.from(a.values()))}return 0===r.length&&r.push({countries:s,time:null,maxTime:null}),(0,k.jsx)("div",{className:"countries-time",children:(0,k.jsxs)($.A,{children:[r.map(e=>(0,k.jsx)("div",{className:"countries-time-input-form",children:(0,k.jsx)(Ce,{value:e,audienceCountries:s,onChange:c,onDelete:l})},e.countries.join("-"))),n>=1&&i>=1&&(0,k.jsx)("div",{className:"add-time-button",children:(0,k.jsx)(ve,{countries:o,onSubmit:function({countries:s,time:n,maxTime:a}){const o=s.map(e=>({countryCode:e,time:n,maxTime:a}));t(e.concat(o))}})})]})})}const Ne=()=>{const{getInputProps:e,adapter:{audienceCountries:s,renderRequestedValidation:t}}=(0,c.h5)();return s?(0,k.jsx)(f.A.Card,{children:(0,k.jsxs)(f.A.Card.Body,{children:[(0,k.jsx)(f.A.Card.Title,{children:(0,g.__)("Estimated shipping times","google-listings-and-ads")}),(0,k.jsx)(ke,{...e("shipping_country_times"),audienceCountries:s}),t("shipping_country_times")]})}):(0,k.jsx)(r.A,{})},Se=()=>(0,k.jsx)(f.A,{title:(0,g.__)("Shipping times","google-listings-and-ads"),description:(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:(0,g.__)("Your shipping times will be shown to potential customers on Google.","google-listings-and-ads")}),(0,k.jsx)("p",{children:(0,k.jsx)(W.A,{context:"setup-mc-shipping",linkId:"shipping-read-more",href:"https://support.google.com/merchants/answer/7050921",children:(0,g.__)("Read more","google-listings-and-ads")})})]}),children:(0,k.jsx)(Ne,{})}),Re=({value:e,onChange:s})=>(0,k.jsx)(a.CheckboxControl,{label:(0,g.__)("Free shipping over a specific order value","google-listings-and-ads"),checked:e,onChange:s}),Te=e=>{const s={};return 0===e.countries.length&&(s.countries=(0,g.__)("Please specify at least one country.","google-listings-and-ads")),e.threshold>0||(s.threshold=(0,g.__)("The minimum order amount must be greater than 0.","google-listings-and-ads")),s},Ee=({countryOptions:e,renderButtons:s,initialValues:t,onSubmit:a,onRequestClose:i})=>{const[r,l]=(0,n.useState)(!1);return(0,k.jsx)(o.Form,{initialValues:t,validate:Te,onSubmit:a,children:t=>{const{getInputProps:n,values:a,setValue:o}=t;return(0,k.jsx)(X.A,{overflow:"visible",shouldCloseOnEsc:!r,shouldCloseOnClickOutside:!r,title:(0,g.__)("Minimum order to qualify for free shipping","google-listings-and-ads"),buttons:s(t),onRequestClose:i,children:(0,k.jsxs)($.A,{children:[(0,k.jsx)(V,{label:(0,g.__)("If customer is in","google-listings-and-ads"),countryCodes:e,onDropdownVisibilityChange:l,...n("countries")}),(0,k.jsx)(K.A,{label:(0,g.__)("Then they qualify for free shipping if their order is over","google-listings-and-ads"),suffix:a.currency,...n("threshold"),onBlur:(e,s)=>{n("threshold").onBlur(e),o("threshold",s>0?s:void 0)}})]})})}})},Ie=({countryOptions:e,initialValues:s,onSubmit:t,onRequestClose:n})=>(0,k.jsx)(Ee,{countryOptions:e,initialValues:s,renderButtons:e=>{const{isValidForm:s,handleSubmit:t}=e;return[(0,k.jsx)(l.A,{isPrimary:!0,disabled:!s,onClick:()=>{n(),t()},children:(0,g.__)("Add minimum order","google-listings-and-ads")},"save")]},onSubmit:t,onRequestClose:n}),Fe=({countryOptions:e,initialValues:s,onSubmit:t,onRequestClose:n,onDelete:a})=>{const o=()=>{n(),a()};return(0,k.jsx)(Ee,{countryOptions:e,initialValues:s,renderButtons:e=>{const{isValidForm:s,handleSubmit:t}=e;return[(0,k.jsx)(l.A,{isTertiary:!0,isDestructive:!0,onClick:o,children:(0,g.__)("Delete","google-listings-and-ads")},"delete"),(0,k.jsx)(l.A,{isPrimary:!0,disabled:!s,onClick:()=>{n(),t()},children:(0,g.__)("Update minimum order","google-listings-and-ads")},"save")]},onSubmit:t,onRequestClose:n})},Ge=e=>{const{countries:s}=e;return(0,k.jsx)("div",{children:(0,k.jsx)(ae,{countries:s,textWithMore:
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
// translators: 1: list of country names separated by comma, up to 5 countries; 2: the remaining count of countries.
(0,g.__)("Minimum order for <strong>%1$s</strong> + %2$d more","google-listings-and-ads"),textWithoutMore:
// translators: 1: list of country names separated by comma.
// translators: 1: list of country names separated by comma.
(0,g.__)("Minimum order for <strong>%1$s</strong>","google-listings-and-ads")})})},Me=e=>{const{countryOptions:s,value:t,onChange:n,onDelete:a}=e,{countries:o,threshold:i,currency:r}=t,{values:d}=(0,c.h5)();return d.offer_free_shipping?(0,k.jsx)(K.A,{className:"gla-minimum-order-input-control",label:(0,k.jsxs)("div",{className:"gla-minimum-order-input-control__label",children:[(0,k.jsxs)("div",{className:"gla-minimum-order-input-control__label_country",children:[(0,k.jsx)(Ge,{countries:o}),(0,k.jsx)(H.A,{button:(0,k.jsx)(l.A,{isTertiary:!0,children:(0,g.__)("Edit","google-listings-and-ads")}),modal:(0,k.jsx)(Fe,{countryOptions:s,initialValues:t,onSubmit:n,onDelete:a})})]}),(0,k.jsx)(k.Fragment,{children:`Cost (${r})`})]}),value:i,onBlur:(e,s)=>{s!==t.threshold&&n({countries:o,threshold:s>0?s:void 0,currency:r})}}):null},Oe=(e,s,t)=>e.map(e=>{const n={...e,options:{...e.options}};return t?.countries.includes(n.country)?n.options.free_shipping_threshold=t.threshold:s?.countries.includes(n.country)&&(n.options.free_shipping_threshold=void 0),n}),Pe=({value:e=[],helper:s,onChange:t})=>{const n=(0,c.Gl)("offer_free_shipping");return(0,k.jsx)(f.A.Card,{className:"gla-minimum-order-card",children:(0,k.jsxs)(f.A.Card.Body,{children:[(0,k.jsx)(f.A.Card.Title,{children:(0,g.__)("Only select if applicable","google-listings-and-ads")}),(0,k.jsxs)($.A,{size:"large",children:[(0,k.jsx)(Re,{...n}),(()=>{const s=e.filter(p),n=(e=>{const s=new Map;return e.forEach(e=>{const{options:{free_shipping_threshold:t},currency:n}=e,a=`${t} ${n}`,o=s.get(a)||{countries:[],threshold:t,currency:n};o.countries.push(e.country),s.set(a,o)}),Array.from(s.values())})(s),a=s.map(e=>e.country),o=s=>n=>{t(Oe(e,s,n))},i=s=>()=>{t(Oe(e,s))};if(1===n.length)return(0,k.jsx)(Me,{countryOptions:a,value:n[0],onChange:o(n[0]),onDelete:i(n[0])});const r=n.filter(e=>void 0!==e.threshold),c=n.find(e=>void 0===e.threshold);return(0,k.jsxs)(k.Fragment,{children:[r.map(e=>(0,k.jsx)(Me,{countryOptions:a,value:e,onChange:o(e),onDelete:i(e)},e.countries.join("-"))),c&&(0,k.jsx)("div",{children:(0,k.jsx)(H.A,{button:(0,k.jsx)(l.A,{isSecondary:!0,icon:(0,k.jsx)(Y.A,{}),children:(0,g.__)("Add another condition","google-listings-and-ads")}),modal:(0,k.jsx)(Ie,{countryOptions:c.countries,initialValues:c,onSubmit:s=>{t(Oe(e,null,s))}})})})]})})()]}),s]})})},Le=()=>{const e=(0,c.Gl)("shipping_country_rates","free_shipping_threshold");return(0,k.jsx)(f.A,{title:(0,g.__)("Order value condition","google-listings-and-ads"),description:(0,k.jsx)("div",{children:(0,k.jsxs)("p",{children:[" ",(0,g.__)("Optional","google-listings-and-ads")," "]})}),children:(0,k.jsx)(Pe,{...e})})},De=()=>{const{values:e}=(0,c.h5)(),s="flat"===e.shipping_time,t="flat"===e.shipping_rate&&e.shipping_country_rates.some(p);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(z,{}),(0,k.jsx)(ue,{}),t&&(0,k.jsx)(Le,{}),s&&(0,k.jsx)(Se,{})]})},qe=["locale","language","location","countries"],Ue=["shipping_rate","shipping_time"],Be=()=>!0,{Fill:Ve,Slot:$e}=(0,a.createSlotFill)("gla/SetupFreeListings/SubmitButton"),ze=({targetAudience:e,resolveFinalCountries:s,onTargetAudienceChange:t=i.noop,settings:a,onSettingsChange:o=i.noop,shippingRates:x,onShippingRatesChange:f=i.noop,shippingTimes:j,onShippingTimesChange:v=i.noop,onRequestSubmit:A=Be,onContinue:y=i.noop,submitLabel:b})=>{const C=(0,n.useRef)();if(!(e&&a&&x&&j))return(0,k.jsx)(r.A,{});const w=e=>{const t=s(e),{shipping_country_times:n}=e;return((e,s,t)=>{const n={};return u.has(e.location)||(n.location=(0,g.__)("Please select a location option.","google-listings-and-ads")),"selected"===e.location&&0===e.countries.length&&(n.countries=(0,g.__)("Please select at least one country.","google-listings-and-ads")),h.has(e.shipping_rate)||(n.shipping_rate=(0,g.__)("Please select a shipping rate option.","google-listings-and-ads")),"flat"===e.shipping_rate&&(e.shipping_country_rates.length<t.length||e.shipping_country_rates.some(e=>e.rate<0))&&(n.shipping_country_rates=(0,g.__)("Please specify estimated shipping rates for all the countries, and the rate cannot be less than 0.","google-listings-and-ads")),"flat"===e.shipping_rate&&!0===e.offer_free_shipping&&e.shipping_country_rates.every(e=>void 0===e.options.free_shipping_threshold)&&(n.free_shipping_threshold=(0,g.__)("Please enter minimum order for free shipping.","google-listings-and-ads")),m.has(e.shipping_time)||(n.shipping_time=(0,g.__)("Please select a shipping time option.","google-listings-and-ads")),"flat"===e.shipping_time&&(s.length<t.length||s.some(e=>e.time<0||null===e.time||e.maxTime<0||null===e.maxTime))&&(n.shipping_country_times=(0,g.__)("Please specify estimated shipping times for all the countries, and the time cannot be less than 0.","google-listings-and-ads")),"flat"===e.shipping_time&&s.some(e=>e.time>e.maxTime)&&(n.shipping_country_times=(0,g.__)("The minimum shipping time must not be more than the maximum shipping time.","google-listings-and-ads")),n})(e,n,t)};return(0,k.jsx)("div",{className:"gla-setup-free-listings",children:(0,k.jsx)(c.Ay,{ref:C,initialValues:{locale:e.locale,language:e.language,location:e.location,countries:e.countries||[],shipping_rate:a.shipping_rate,shipping_time:a.shipping_time,offer_free_shipping:_(x),shipping_country_rates:x,shipping_country_times:j},extendAdapter:e=>({audienceCountries:s(e.values),renderRequestedValidation:s=>e.adapter.requestedShowValidation?(0,k.jsx)(d.A,{messages:e.errors[s]}):null}),onChange:(e,n)=>{const{setValue:a}=C.current;if("shipping_country_rates"===e.name)f(n.shipping_country_rates),e.value.some(p)||a("offer_free_shipping",void 0);else if("offer_free_shipping"===e.name){if(!1===e.value){const e=n.shipping_country_rates.map(e=>({...e,options:{...e.options,free_shipping_threshold:void 0}}));a("shipping_country_rates",e)}}else if("shipping_country_times"===e.name){const s=!w(n).hasOwnProperty(e.name);!n.shipping_country_times.some(e=>null===e.time||null===e.maxTime)&&s&&v(n.shipping_country_times)}else if(Ue.includes(e.name)){let s=!0;if("shipping_rate"===e.name){const t="manual"===e.value?"manual":"flat";t!==n.shipping_time&&(s=!1,a("shipping_time",t))}s&&o((e=>(0,i.pick)(e,Ue))(n))}else qe.includes(e.name)&&(t((0,i.pick)(n,qe)),["shipping_country_rates","shipping_country_times"].forEach(e=>{const t=s(n),o=n[e],i=o.filter(e=>t.includes(e.country||e.countryCode));i.length!==o.length&&a(e,i)}))},validate:w,onSubmit:y,children:e=>{const{isValidForm:s,handleSubmit:t,adapter:n}=e;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(De,{}),(0,k.jsx)(Ve,{children:(0,k.jsx)(l.A,{isPrimary:!0,loading:n.isSubmitting,onClick:async e=>{if(s){if(!await A())return;return t(e)}n.showValidation()},children:b})})]})}})})};ze.SubmitButton=$e;const We=ze},7400:(e,s,t)=>{t.d(s,{A:()=>a});const n={CONTENT:"https://www.googleapis.com/auth/content",SITE_VERIFICATION_VERIFY_ONLY:"https://www.googleapis.com/auth/siteverification.verify_only",AD_WORDS:"https://www.googleapis.com/auth/adwords"};function a(e,s=[]){const t={adsRequired:s.includes(n.AD_WORDS)};t.gmcRequired=s.includes(n.CONTENT)&&s.includes(n.SITE_VERIFICATION_VERIFY_ONLY);const a=t.gmcRequired&&t.adsRequired;return t.onboardingRequired=a,t.reconnectionRequired=e?a:t.gmcRequired,t}},7401:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(7143),a=t(6520);const o=()=>(0,n.useSelect)(e=>({jetpack:e(a.Ui).getJetpackAccount(),isResolving:e(a.Ui).isResolving("getJetpackAccount"),hasFinishedResolution:e(a.Ui).hasFinishedResolution("getJetpackAccount")}),[])},7419:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(6087),a=t(4111),o=t.n(a),i=t(3772),r=t(1378);function l(){const e=(0,i.A)(),{googleAdsAccount:s}=(0,r.A)(),t=s?.currency||"",a=s?.symbol||"",l=(0,n.useMemo)(()=>({...e,code:t,symbol:a}),[e,t,a]),c=(0,n.useMemo)(()=>o()(l).formatAmount,[l]);return{adsCurrencyConfig:l,formatAmount:c}}},7437:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getMappingAttributes")},7539:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(8846),a=t(8687),o=t(4848);const i=({title:e,backHref:s,helpButton:t,onBackButtonClick:i})=>(0,o.jsxs)("div",{className:"gla-stepper-top-bar",children:[(0,o.jsx)(n.Link,{className:"components-button gla-stepper-top-bar__back-button",href:s,type:"wc-admin",onClick:i,children:(0,o.jsx)(a.A,{})}),(0,o.jsx)("span",{className:"gla-stepper-top-bar__title",children:e}),t]})},7541:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6087),a=t(8468),o=t(2224),i=t(6473);function r(e,s){const t=(0,o.A)((0,a.pick)(s,i.E$.get(e))),[,r]=(0,n.useReducer)(e=>e+1,0);return(0,n.useEffect)(()=>{const s=`${i.CU}/${(0,a.uniqueId)()}`;return Object.keys(t).length&&i.JL.addFilter(e,s,e=>({...e,...t})),r(),()=>{i.JL.removeFilter(e,s)}},[e,t]),(0,n.useCallback)(s=>i.JL.applyFilters(e,s),[e])}},7568:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6427),a=t(6087),o=t(6942),i=t.n(o),r=t(8468),l=t(4848);const c=e=>{const{options:s=[],className:t,onChange:o=r.noop,value:c,autoSelectFirstOption:d=!1,nonInteractive:g=!1,...u}=e,h=(0,a.useRef)(!0===d);(0,a.useEffect)(()=>{h.current&&void 0===c&&s.length&&(h.current=!1,o(s[0].value))},[c,s,o]);let m={options:s,value:c,onChange:o,...u};const p=d&&1===s?.length||g;return p&&(m={...m,readOnly:!0,suffix:" ",tabIndex:"-1"}),(0,l.jsx)("div",{className:i()("app-select-control",t,{"app-select-control--is-non-interactive":p}),children:(0,l.jsx)(n.SelectControl,{...m})})}},7663:(e,s,t)=>{t.d(s,{A:()=>A});var n=t(7143),a=t(6087),o=t(1233),i=t(3905),r=t(1351),l=t(6361),c=t(7723),d=t(6427),g=t(6476),u=t(3666),h=t(6473),m=t(7892),p=t(6520);var _=t(4848);const x="pmax_assets_improvements_banner",f=({onBannerDismissed:e})=>{const{campaign:s,hasFinishedResolution:t}=(0,n.useSelect)(e=>{const s=e(p.Ui),t=s.getAdsRecommendations(i.Ab),n=s.hasFinishedResolution("getAdsRecommendations",[i.Ab]);return t?.length?{campaign:t[0],hasFinishedResolution:!0}:{campaign:null,hasFinishedResolution:n}},[]);if((0,a.useEffect)(()=>{s&&t&&(0,h.ce)("gla_pmax_assets_improvements_banner_shown",{context:x})},[s,t]),!s||!t)return null;const{campaign_id:o,campaign_name:r}=s,l=()=>{e(),(0,h.ce)("gla_pmax_assets_improvements_dismiss_clicked",{context:x,campaign_id:o})};return(0,_.jsxs)(d.Notice,{className:"gla-pmax-improve-assets-banner",status:"info",isDismissible:!0,onRemove:l,children:[(0,_.jsx)("p",{className:"gla-pmax-improve-assets-banner__text",children:(0,c.sprintf)(
// translators: %s: The PMAX campaign name with the highest spending.
// translators: %s: The PMAX campaign name with the highest spending.
(0,c.__)("Unlock more sales for your campaign, %s, by focusing on improving your campaign assets. Better assets directly increase your ad strength, allowing for a wider variety of ad combinations to be shown across Google.","google-listings-and-ads"),r)}),(0,_.jsxs)("div",{className:"gla-pmax-improve-assets-banner__actions",children:[(0,_.jsx)(m.A,{onClick:()=>{e(),(0,h.ce)("gla_pmax_assets_improvements_improve_assets_clicked",{context:x,campaign_id:o});const s=(0,u.Q4)(o,"asset-group");(0,g.getHistory)().push(s)},isSecondary:!0,children:(0,c.__)("Improve Assets","google-listings-and-ads")}),(0,_.jsx)(m.A,{isTertiary:!0,onClick:l,children:(0,c.__)("Dismiss","google-listings-and-ads")})]})]})},j="pmax-improve-assets-banner",v="dismiss",A=()=>{const{isGoogleAdsReady:e}=(0,r.A)(),{set:s}=(0,n.useDispatch)(o.store),{actionTime:t,actionType:c}=(0,l.A)(j)||{},d=(0,a.useCallback)(()=>{s(i.Z7,j,{actionType:v,actionTime:Date.now()})},[s]);return!e||c===v&&Date.now()<t+30*i.tt*1e3?null:(0,_.jsx)(f,{onBannerDismissed:d})}},7792:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(9031),a=t(4848);const o=({size:e=18})=>(0,a.jsx)(n.A,{className:"gla-warning-icon",size:e})},7807:(e,s,t)=>{t.d(s,{b:()=>V,D:()=>$});var n=t(6942),a=t.n(n),o=t(6087),i=t(7723),r=t(5703),l=t(2722),c=t(7568),d=t(4848);const g=e=>{const{data:s}=(0,l.A)(),t=s?.map(e=>({value:e.id,label:(0,i.sprintf)(
// translators: 1: account name, 2: account domain, 3: account ID.
// translators: 1: account name, 2: account domain, 3: account ID.
(0,i.__)("%1$s ・ %2$s (%3$s)","google-listings-and-ads"),e.name,e.domain,e.id)}));return t?.sort((e,s)=>e.label.localeCompare(s.label)),(0,d.jsx)(c.A,{options:t,autoSelectFirstOption:!0,...e})};var u=t(7916);const h=({isConnected:e,...s})=>{const{data:t}=(0,l.A)(),{googleMCAccount:n}=(0,u.A)(),a=t?.some(e=>e.id===n.id);if(!a&&e){const e=new URL((0,r.getSetting)("homeUrl")).host;return(0,d.jsx)(c.A,{autoSelectFirstOption:!0,nonInteractive:!0,value:n.id,options:[{value:n.id,label:(0,i.sprintf)(
// translators: 1: account domain, 2: account ID.
// translators: 1: account domain, 2: account ID.
(0,i.__)("%1$s (%2$s)","google-listings-and-ads"),e,n.id)}]})}return(0,d.jsx)(g,{nonInteractive:e,...s})};var m=t(7892),p=t(6599),_=t(5640),x=t(2434);var f=t(6427),j=t(8242),v=t(8771),A=t(8463),y=t(8468),b=t(1177),C=t(559),w=t(7677),k=t(9703),N=t(5092);const S=e=>{const{className:s,...t}=e;return(0,d.jsx)(N.A,{className:a()("app-input-link-control",s),prefix:(0,d.jsx)(w.A,{icon:k.A,size:24}),...t})},R=({id:e,websiteUrl:s,onSwitchAccount:t=y.noop})=>{const{invalidateResolution:n}=(0,x.j)(),[a,{loading:c,error:g,reset:u}]=(0,p.A)({path:"/wc/gla/mc/accounts/claim-overwrite",method:"POST",data:{id:e}}),h=(0,r.getSetting)("homeUrl"),{data:_}=(0,l.A)(),w=_?.length>0;return(0,d.jsxs)(C.A,{className:"gla-reclaim-url-card",appearance:C.x.GOOGLE_MERCHANT_CENTER,description:(0,i.sprintf)(
// translators: 1: website URL, 2: account ID.
// translators: 1: website URL, 2: account ID.
(0,i.__)("%1$s (%2$s)","google-listings-and-ads"),s,e),indicator:w?(0,d.jsx)(m.A,{isSecondary:!0,disabled:c,eventName:"gla_mc_account_switch_account_button_click",eventProps:{context:"reclaim-url"},onClick:t,children:(0,i.__)("Switch account","google-listings-and-ads")}):null,children:[(0,d.jsx)(f.CardDivider,{}),(0,d.jsxs)(j.A.Card.Body,{children:[(0,d.jsx)(v.A.Title,{children:(0,i.__)("Reclaim your URL","google-listings-and-ads")}),(0,d.jsx)(v.A.Body,{children:(0,i.__)("Your URL is currently claimed by another Merchant Center account.","google-listings-and-ads")}),(0,d.jsxs)(A.A,{children:[(0,d.jsx)(S,{disabled:!0,value:h}),(0,d.jsx)(m.A,{isSecondary:!0,loading:c,eventName:"gla_mc_account_reclaim_url_button_click",onClick:async()=>{u(),await a({parse:!1}),n("getGoogleMCAccount",[])},children:(0,i.__)("Reclaim my URL","google-listings-and-ads")})]}),(0,d.jsx)(v.A.HelperText,{children:(0,o.createInterpolateElement)((0,i.__)("If you reclaim this URL, it will cause any existing product listings or ads to stop running, and the other verified account will be notified that they have lost their claim. <link>Learn more</link>.","google-listings-and-ads"),{link:(0,d.jsx)(b.A,{context:"setup-mc",linkId:"claim-url",href:"https://support.google.com/merchants/answer/176793"})})}),g&&(0,d.jsx)(f.Notice,{status:"error",isDismissible:!1,children:(0,o.createInterpolateElement)((0,i.__)("<strong>We were unable to reclaim this URL.</strong> You may not have permission to reclaim this URL, or an error might have occurred. Try again later or contact your Google account administrator.","google-listings-and-ads"),{strong:(0,d.jsx)("strong",{})})})]})]})},T=({id:e,claimedUrl:s,newUrl:t,onSelectAnotherAccount:n=()=>{}})=>{const{createNotice:a}=(0,_.A)(),{invalidateResolution:o}=(0,x.j)(),[l,{loading:c,error:g,response:u}]=(0,p.A)({path:"/wc/gla/mc/accounts/switch-url",method:"POST",data:{id:e}}),h=(0,r.getSetting)("homeUrl"),y=()=>{n()};return u&&403===u.status?(0,d.jsx)(R,{id:g.id,websiteUrl:g.website_url,onSwitchAccount:y}):(0,d.jsxs)(C.A,{className:"gla-switch-url-card",appearance:C.x.GOOGLE_MERCHANT_CENTER,description:(0,i.sprintf)(
// translators: 1: the new URL, 2: account ID.
// translators: 1: the new URL, 2: account ID.
(0,i.__)("%1$s (%2$s)","google-listings-and-ads"),t,e),indicator:(0,d.jsx)(m.A,{isSecondary:!0,disabled:c,eventName:"gla_mc_account_switch_account_button_click",eventProps:{context:"switch-url"},onClick:y,children:(0,i.__)("Switch account","google-listings-and-ads")}),children:[(0,d.jsx)(f.CardDivider,{}),(0,d.jsxs)(j.A.Card.Body,{children:[(0,d.jsx)(v.A.Title,{children:(0,i.__)("Switch to this new URL","google-listings-and-ads")}),(0,d.jsx)(v.A.Body,{children:(0,i.sprintf)(
// translators: %s: claimed URL.
// translators: %s: claimed URL.
(0,i.__)("This Merchant Center account already has a verified and claimed URL, %s.","google-listings-and-ads"),s)}),(0,d.jsxs)(A.A,{children:[(0,d.jsx)(S,{disabled:!0,value:h}),(0,d.jsx)(m.A,{isSecondary:!0,loading:c,eventName:"gla_mc_account_switch_url_button_click",onClick:async()=>{try{await l({parse:!1}),o("getGoogleMCAccount",[])}catch(e){if(403!==e.status){const s=(await e.json()).message||(0,i.__)("Unable to switch to your new URL. Please try again later.","google-listings-and-ads");a("error",s)}}},children:(0,i.__)("Switch to this new URL","google-listings-and-ads")})]}),(0,d.jsx)(v.A.HelperText,{children:(0,i.sprintf)(/* translators: 1: new URL. 2: claimed URL. */ /* translators: 1: new URL. 2: claimed URL. */
(0,i.__)("If you switch your claimed URL to %1$s, you will lose your claim to %2$s. This will cause any existing product listings tied to %2$s to stop running.","google-listings-and-ads"),t,s)})]})]})};var E=t(8441),I=t(4566),F=t(9457),G=t(7792);const M=({existingAccount:e,onContinue:s=()=>{},onRequestClose:t=()=>{}})=>(0,d.jsxs)(F.A,{className:"gla-mc-warning-modal",title:(0,i.__)("Create Google Merchant Center Account","google-listings-and-ads"),buttons:[(0,d.jsx)(m.A,{isSecondary:!0,eventName:"gla_mc_account_warning_modal_confirm_button_click",onClick:()=>{s()},children:(0,i.__)("Yes, I want a new account","google-listings-and-ads")},"confirm"),(0,d.jsx)(m.A,{isPrimary:!0,onClick:t,children:(0,i.__)("Cancel","google-listings-and-ads")},"cancel")],onRequestClose:t,children:[(0,d.jsxs)("p",{className:"gla-mc-warning-modal__warning-text",children:[(0,d.jsx)(G.A,{}),(0,d.jsx)("span",{children:(0,i.__)("Are you sure you want to create a new Google Merchant Center account?","google-listings-and-ads")})]}),(0,d.jsx)("p",{children:(0,o.createInterpolateElement)((0,i.__)("You already have another verified account, <storename />, which is connected to this store’s URL, <storeurl />.","google-listings-and-ads"),{storename:(0,d.jsx)("strong",{children:e.name}),storeurl:(0,d.jsx)("strong",{children:e.domain})})}),(0,d.jsx)("p",{children:(0,i.__)("If you create a new Google Merchant Center account, you will have to reclaim this store’s URL with the new account. This will cause any existing product listings or ads to stop running, and the other verified account will lose its claim.","google-listings-and-ads")})]}),O=({onCreateAccount:e=()=>{},onRequestClose:s=()=>{}})=>{const[t,n]=(0,o.useState)(!1);return(0,d.jsxs)(F.A,{className:"gla-mc-terms-modal",title:(0,i.__)("Create Google Merchant Center Account","google-listings-and-ads"),buttons:[(0,d.jsx)(m.A,{isPrimary:!0,disabled:!t,eventName:"gla_mc_account_create_button_click",onClick:()=>{e(),s()},children:(0,i.__)("Create account","google-listings-and-ads")},"1")],onRequestClose:s,children:[(0,d.jsx)("p",{className:"main",children:(0,i.__)("By creating a Google Merchant Center account, you agree to the following terms and conditions:","google-listings-and-ads")}),(0,d.jsx)("p",{children:(0,o.createInterpolateElement)((0,i.__)("You agree to comply with Google’s terms and policies, including <link>Google Merchant Center Terms of Service</link>.","google-listings-and-ads"),{link:(0,d.jsx)(b.A,{context:"setup-mc",linkId:"google-mc-terms-of-service",href:"https://support.google.com/merchants/answer/160173"})})}),(0,d.jsx)(f.CheckboxControl,{label:(0,i.__)("I have read and accept these terms","google-listings-and-ads"),checked:t,onChange:n})]})},P=Object.freeze({NONE:"NONE",WARNING:"WARNING",TERMS:"TERMS"}),L=e=>{const{onCreateAccount:s=y.noop,onClick:t=y.noop,...n}=e,[a,i]=(0,o.useState)(P.NONE),{data:c}=(0,l.A)(),g=((e=[])=>{const s=new URL((0,r.getSetting)("homeUrl")).toString();return e.find(e=>{try{return new URL(e.domain).toString()===s}catch(e){return!1}})})(c),u=()=>{i(P.NONE)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{onClick:()=>{i(g?P.WARNING:P.TERMS),t()},...n}),a===P.WARNING&&(0,d.jsx)(M,{existingAccount:g,onContinue:()=>{i(P.TERMS)},onRequestClose:u}),a===P.TERMS&&(0,d.jsx)(O,{onCreateAccount:s,onRequestClose:u})]})};var D=t(6520);const q=({onDisconnected:e=y.noop,...s})=>{const{createNotice:t,removeNotice:n}=(0,_.A)(),{invalidateResolution:a}=(0,x.j)(),[o,{loading:r}]=(0,p.A)({path:`${D.RV}/mc/connection`,method:"DELETE"});return(0,d.jsx)(m.A,{disabled:r,text:(0,i.__)("Or, connect to a different Google Merchant Center account","google-listings-and-ads"),eventName:"gla_mc_account_connect_different_account_button_click",onClick:async()=>{const{notice:s}=await t("info",(0,i.__)("Disconnecting your Google Merchant Center account, please wait…","google-listings-and-ads"));try{await o(),a("getExistingGoogleMCAccounts",[]),a("getGoogleMCAccount",[]),e()}catch(e){t("error",(0,i.__)("Unable to disconnect your Google Merchant Center account. Please try again later.","google-listings-and-ads"))}n(s.id)},...s})},U=({isConnected:e,resultConnectMC:s,resultCreateAccount:t,onCreateAccount:n})=>{const{data:a}=(0,l.A)();if(e&&a.length>0){const e=()=>{s.reset(),t.reset()};return(0,d.jsx)(q,{onDisconnected:e,isTertiary:!0})}return(0,d.jsx)(L,{isTertiary:!0,disabled:s.loading,onCreateAccount:n,children:(0,i.__)("Or, create a new Merchant Center account","google-listings-and-ads")})},B=e=>{const{retryAfter:s,onRetry:t=()=>{}}=e;return(0,o.useEffect)(()=>{if(!s)return;const e=setInterval(()=>{t()},1e3*s);return()=>clearInterval(e)},[s,t]),(0,d.jsx)(C.A,{appearance:C.x.GOOGLE_MERCHANT_CENTER,description:(0,i.__)("This may take a few moments, please wait…","google-listings-and-ads"),indicator:(0,d.jsx)(m.A,{loading:!0,children:(0,i.__)("Creating…","google-listings-and-ads")})})},V=({createAccount:e,resultCreateAccount:s,className:t})=>{const[n,r]=(0,o.useState)(),[l,c]=(e=>{const{createNotice:s}=(0,_.A)(),[t,n]=(0,p.A)({path:"/wc/gla/mc/accounts",method:"POST",data:{id:e}}),{invalidateResolution:a}=(0,x.j)();return[async()=>{if(e)try{await t({parse:!1}),a("getGoogleMCAccount",[])}catch(e){if(![409,403].includes(e.status)){const t=(await e.json()).message||(0,i.__)("Unable to connect Merchant Center account. Please try again later.","google-listings-and-ads");s("error",t)}}},n]})(n),{googleMCAccount:g,hasFinishedResolution:f,isReady:j,hasGoogleMCConnection:v}=(0,u.A)();if((0,o.useEffect)(()=>{v&&r(g.id)},[g,v]),!j){if(409===c.response?.status)return(0,d.jsx)(T,{id:c.error.id,message:c.error.message,claimedUrl:c.error.claimed_url,newUrl:c.error.new_url,onSelectAnotherAccount:c.reset});if(403===c.response?.status||403===s.response?.status)return(0,d.jsx)(R,{id:c.error?.id||s.error?.id,websiteUrl:c.error?.website_url||s.error?.website_url,onSwitchAccount:()=>{c.reset(),s.reset()}});if(s.loading||503===s.response?.status)return(0,d.jsx)(B,{retryAfter:s.error?.retry_after,onRetry:e})}return(0,d.jsx)(C.A,{className:a()("gla-connect-mc-card",t),title:(0,i.__)("Connect to existing Merchant Center account","google-listings-and-ads"),helper:(0,i.__)("Required to sync products so they show on Google.","google-listings-and-ads"),alignIndicator:"toDetail",indicator:f?j?(0,d.jsx)(I.A,{}):c.loading?(0,d.jsx)(E.A,{text:(0,i.__)("Connecting…","google-listings-and-ads")}):(0,d.jsx)(m.A,{isSecondary:!0,eventName:"gla_mc_account_connect_button_click",eventProps:{id:Number(n)},onClick:l,children:(0,i.__)("Connect","google-listings-and-ads")}):(0,d.jsx)(E.A,{}),detail:(0,d.jsx)(h,{isConnected:v,value:n,onChange:r}),actions:(0,d.jsx)(U,{isConnected:v,resultConnectMC:c,resultCreateAccount:s,onCreateAccount:e})})},$=({googleMCAccount:e})=>{const s=new URL((0,r.getSetting)("homeUrl")).host;return(0,d.jsx)(C.A,{appearance:C.x.GOOGLE_MERCHANT_CENTER,description:(0,i.sprintf)(
// translators: 1: account domain, 2: account ID.
// translators: 1: account domain, 2: account ID.
(0,i.__)("%1$s (%2$s)","google-listings-and-ads"),s,e.id),indicator:(0,d.jsx)(I.A,{})})}},7892:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6427),a=t(8846),o=t(6942),i=t.n(o),r=t(6473),l=t(4848);const c=e=>{const{className:s,disabled:t,loading:o,eventName:c,eventProps:d,text:g,onClick:u=()=>{},...h}=e,m=t||o,p=["app-button",s];let _;return o&&(_=(0,l.jsx)(a.Spinner,{})),g&&(_=(0,l.jsxs)(l.Fragment,{children:[o&&(0,l.jsx)(a.Spinner,{}),g]}),h.icon&&p.push("app-button--icon-with-text"),"right"===h.iconPosition&&p.push("app-button--icon-position-right")),(0,l.jsx)(n.Button,{className:i()(...p),disabled:m,"aria-disabled":m,text:_,onClick:(...e)=>{c&&(0,r.ce)(c,d),u(...e)},...h})}},7916:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(7143),a=t(6520),o=t(8e3),i=t(3905);const r="getGoogleMCAccount",l=()=>{const{google:e,scope:s,isResolving:t,hasFinishedResolution:l}=(0,o.A)();return(0,n.useSelect)(n=>{if(!e||"no"===e.active||!s.gmcRequired)return{googleMCAccount:void 0,isResolving:t,hasFinishedResolution:l,isPreconditionReady:!1,hasGoogleMCConnection:!1,isLinkedToAds:!1,isReady:!1};const o=n(a.Ui),c=o[r](),d=o.isResolving(r),g=Boolean(c?.id)&&[i.WR.CONNECTED,i.WR.INCOMPLETE].includes(c?.status),u=c?.status===i.WR.CONNECTED,h=u||c?.status===i.WR.INCOMPLETE&&"link_ads"===c?.step;return{googleMCAccount:c,isResolving:d,hasFinishedResolution:o.hasFinishedResolution(r),isPreconditionReady:!0,hasGoogleMCConnection:g,isLinkedToAds:u,isReady:h}},[e,s.gmcRequired,t,l])}},7951:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(3905),a=t(6425);const o=e=>{const s=Object.values(e).reduce((e,s)=>e+s,0);return Number.isInteger(s)?s:void 0},i=()=>{const e={[n.Tj]:(0,a.A)(n.Tj)?.data?.total,[n.ds]:(0,a.A)(n.ds)?.data?.total};return{...e,total:o(e)}}},8e3:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(7143),a=t(3905),o=t(6520),i=t(7400),r=t(7401);const l=()=>{const{jetpack:e,isResolving:s,hasFinishedResolution:t}=(0,r.A)();return(0,n.useSelect)(n=>{if(!e||"no"===e.active)return{google:void 0,scope:(0,i.A)(a.Th.adsSetupComplete),isResolving:s,hasFinishedResolution:t};const{getGoogleAccount:r,isResolving:l,hasFinishedResolution:c}=n(o.Ui),d=r();return{google:d,scope:(0,i.A)(a.Th.adsSetupComplete,d?.scope),isResolving:l("getGoogleAccount"),hasFinishedResolution:c("getGoogleAccount")}},[e,s,t])}},8146:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6087),a=t(2434),o=t(9415);const i=e=>{const s=(0,o.A)("getTour",e),{upsertTour:t}=(0,a.j)(),i=s.data?.checked;return{tourChecked:!s.hasFinishedResolution||Boolean(i),setTourChecked:(0,n.useCallback)(s=>{s!==i&&t({id:e,checked:s},!0)},[e,i,t])}}},8237:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(8846),a=t(2159),o=t(6473),i=t(4848);const r=(e,s,t)=>{const n=s.includes(t)?"on":"off";(0,o.ce)("gla_table_header_toggle",{report:e,column:t,status:n})},l=(e,s,t)=>{(0,o.ce)("gla_table_sort",{report:e,column:s,direction:t})},c=e=>{const{trackEventReportId:s,...t}=e;function o(e,t){return function(...n){s&&e(s,...n),t&&t(...n)}}return(0,i.jsx)(a.A,{children:(0,i.jsx)(n.TableCard,{...t,onColumnsChange:o(r,e.onColumnsChange),onSort:o(l,e.onSort)})})}},8242:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(6942),a=t.n(n),o=t(6427),i=t(4848);var r=t(8771);const l=({size:e="",...s})=>(0,i.jsx)(o.Card,{...s,size:e});l.Body=e=>{const{className:s,...t}=e;return(0,i.jsx)(o.CardBody,{className:a()("gla-section-card-body",s),...t})},l.Footer=e=>{const{children:s,...t}=e;return(0,i.jsx)(o.CardFooter,{className:"gla-section-card-footer",...t,children:s})},l.Title=e=>{const{className:s,...t}=e;return(0,i.jsx)(r.A.Title,{className:a()("gla-section-card-title",s),...t})};const c=({className:e,title:s,description:t,topContent:n,children:r,disabled:l,disabledLeft:c,verticalGap:d=6})=>{const g=a()("gla-section",!!l&&"gla-section--is-disabled",!!c&&"gla-section--is-disabled-left",e);return(0,i.jsxs)("section",{className:g,children:[(0,i.jsxs)("header",{className:"gla-section__header",children:[n&&(0,i.jsx)("p",{children:n}),s&&(0,i.jsx)("h1",{children:s}),t]}),(0,i.jsx)(o.Flex,{className:"gla-section__body",direction:"column",gap:d,children:r})]})};c.Card=l;const d=c},8317:(e,s,t)=>{e.exports=t.p+"images/js/src/images/logo/e188f6c748d71c44df35.woocommerce-logo.svg"},8331:(e,s,t)=>{t.d(s,{A:()=>m});var n=t(7723),a=t(6087),o=t(6427),i=t(8846),r=t(2434),l=t(7419),c=t(7892),d=t(9457),g=t(411),u=t(3323),h=t(4848);const m=(0,a.forwardRef)(function(e,s){const t=(0,a.useRef)(null),[m,p]=(0,a.useState)(0),[_,x]=(0,a.useState)(null),{fetchAdsIncentiveCredits:f}=(0,r.j)(),{adsCurrencyConfig:j,formatAmount:v}=(0,l.A)(),A=function(e,s=2){const t=Math.pow(10,s);return Math.ceil(e*t)/t}(m/60,j.precision);(0,a.useEffect)(()=>{f().then(e=>e.adsCurrency===e.currency?e.spending:Promise.reject()).then(p).catch(()=>x(!0))},[f]),(0,a.useImperativeHandle)(s,()=>({resolve:e=>_||e>=A?Promise.resolve(null):new Promise(e=>{t.current=e,x(!1)})}));const y=()=>{t.current(NaN),x(!0)};return!1!==_?null:(0,h.jsx)(u.A,{...e,initialCampaign:{level:"custom",amount:A},validate:e=>60*e.amount<m?{amount:!1}:{},onSubmit:e=>{t.current(e.dailyBudget),x(!0)},children:e=>(0,h.jsxs)(d.A,{shouldCloseOnClickOutside:!1,title:(0,n.__)("This offer won’t last long!","google-listings-and-ads"),onRequestClose:y,buttons:[(0,h.jsx)(c.A,{variant:"secondary",onClick:y,text:(0,n.__)("Cancel","google-listings-and-ads")},"cancel"),(0,h.jsx)(c.A,{variant:"primary",disabled:!e.isValidForm,onClick:e.handleSubmit,text:(0,n.__)("Change budget","google-listings-and-ads")},"change")],children:[(0,h.jsx)("h4",{children:(0,n.sprintf)(
// translators: The recommended amount in currency format.
// translators: The recommended amount in currency format.
(0,n.__)("Increase your budget to %s and get it all back in FREE AD CREDIT*!","google-listings-and-ads"),v(A))}),(0,h.jsx)("p",{children:(0,n.__)("You have 60 days.","google-listings-and-ads")}),(0,h.jsxs)(o.Flex,{direction:"column",gap:4,children:[(0,h.jsx)(g.A,{hideRecommendations:!0}),(0,h.jsxs)(o.Flex,{gap:1,justify:"flex-start",children:["*",(0,h.jsx)(i.Link,{type:"external",target:"_blank",href:"https://www.google.com/ads/coupons/terms/",children:(0,n.__)("Terms and Conditions","google-listings-and-ads")})]})]})]})})})},8428:(e,s,t)=>{t.d(s,{A:()=>m});var n=t(6942),a=t.n(n),o=t(6087),i=t(7723),r=t(6427),l=t(8468),c=t(5573),d=t(4848);const g=()=>(0,d.jsx)(c.SVG,{width:"8",height:"8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(c.Circle,{cx:"4",cy:"4",r:"4"})});function u({currentPage:e,numberOfPages:s,setCurrentPage:t}){return(0,d.jsx)("ul",{className:"components-guide__page-control","aria-label":(0,i.__)("Guide controls"),children:(0,l.times)(s,n=>(0,d.jsx)("li",{"aria-current":n===e?"step":void 0,children:(0,d.jsx)(r.Button,{icon:(0,d.jsx)(g,{}),"aria-label":(0,i.sprintf)(/* translators: 1: current page number 2: total number of pages */ /* translators: 1: current page number 2: total number of pages */
(0,i.__)("Page %1$d of %2$d"),n+1,s),onClick:()=>t(n)},n)},n))})}function h(e){const s=(0,o.useRef)();return(0,o.useLayoutEffect)(()=>{const{ownerDocument:e}=s.current,{activeElement:t,body:n}=e;t&&t!==n||s.current.focus()},[]),(0,d.jsx)(r.Button,{...e,ref:s})}function m({className:e,contentLabel:s,backButtonText:t,finishButtonText:n,onFinish:l,pages:c}){const[g,m]=(0,o.useState)(0),p=g>0,_=g<c.length-1,x=c[g]?.actions,f=()=>{p&&m(g-1)},j=()=>{_&&m(g+1)};if(0===c.length)return null;let v=null;_||x||(v=(0,d.jsx)(h,{className:"components-guide__finish-button",onClick:l,children:n||(0,i.__)("Finish")}));const A=a()("gla-admin-page","components-guide",e);return(0,d.jsxs)(r.Modal,{className:A,contentLabel:s,onRequestClose:l,children:[(0,d.jsx)(r.KeyboardShortcuts,{shortcuts:{left:f,right:j}},g),(0,d.jsxs)("div",{className:"components-guide__container",children:[(0,d.jsxs)("div",{className:"components-guide__page",children:[c[g].image,c.length>1&&(0,d.jsx)(u,{currentPage:g,numberOfPages:c.length,setCurrentPage:m}),c[g].content]}),(0,d.jsxs)("div",{className:"components-guide__footer",children:[p&&(0,d.jsx)(r.Button,{className:"components-guide__back-button",onClick:f,children:t||(0,i.__)("Previous")}),x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"gla-submission-success-guide__space_holder"}),(0,d.jsx)("div",{className:"components-guide__actions",children:c[g].actions})]}),_&&(0,d.jsx)(r.Button,{className:"components-guide__forward-button",onClick:j,children:(0,i.__)("Next")}),v]})]})]})}},8441:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(8846),a=t(4848);function o({text:e}){return(0,a.jsxs)("div",{className:"gla-loading-label",children:[(0,a.jsx)(n.Spinner,{}),e]})}},8463:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6942),a=t.n(n),o=t(4848);const i=e=>{const{className:s,...t}=e;return(0,o.jsx)("div",{className:a()("gla-content-button-layout",s),...t})}},8493:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(6942),a=t.n(n),o=t(4848);const i=function({className:e,intent:s="default",children:t,...n}){return(0,o.jsx)("span",{className:a()("gla-badge",e,{[`is-${s}`]:s}),...n,children:(0,o.jsx)("span",{className:"gla-badge__content",children:t})})}},8519:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(7723),a=t(6087),o=t(1455),i=t.n(o),r=t(2434),l=t(5640);function c(){const{createAdsCampaign:e}=(0,r.j)(),{createNotice:s}=(0,l.A)(),[t,o]=(0,a.useState)(!1),c=(0,a.useCallback)(()=>i()({path:"/wc/gla/ads/setup/complete",method:"POST"}).catch(()=>(s("error",(0,n.__)("Unable to complete your ads setup. Please try again later.","google-listings-and-ads")),Promise.reject())),[s]);return[(0,a.useCallback)((s,t,n)=>(o(!0),e(s,t).then(c).then(n).catch(()=>o(!1))),[e,c]),t]}},8606:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(7723);async function a(e,s){const t=(await Promise.allSettled(e)).reduce((e,t,n)=>("rejected"===t.status&&s[n]&&e.push(s[n]),e),[]);return function(e,s=!0){if(e.length){const t=(0,n._x)(", ","the separator for concatenating the messages of failed actions","google-listings-and-ads"),a=(0,n.sprintf)(
// translators: 1: optional string when there are multiple failed actions, and it's a concatenated text of failed actions except for the last one. 2: the last one or the only failed action.
// translators: 1: optional string when there are multiple failed actions, and it's a concatenated text of failed actions except for the last one. 2: the last one or the only failed action.
(0,n._n)("There is an error in the following action: %1$s%2$s.","There are errors in the following actions: %1$s and %2$s.",e.length,"google-listings-and-ads"),e.slice(0,-1).join(t),e.at(-1)),o=s?
// translators: text for the failed action(s).
// translators: text for the failed action(s).
(0,n.__)("%s Other changes have been saved. Please try again later.","google-listings-and-ads"):
// translators: text for the failed action(s).
// translators: text for the failed action(s).
(0,n.__)("%s Please try again later.","google-listings-and-ads");return(0,n.sprintf)(o,a)}return null}(t,t.length<e.length)}},8678:(e,s,t)=>{t.d(s,{Az:()=>y,mU:()=>u,dR:()=>_,w5:()=>A,Ay:()=>C,TQ:()=>p});var n=t(8e3),a=t(3741),o=t(559),i=t(7723),r=t(6087),l=t(3905),c=t(7892),d=t(1177),g=t(4848);const u=(0,g.jsx)(d.A,{context:"setup-mc-accounts",linkId:"required-google-permissions",href:"https://woocommerce.com/document/google-for-woocommerce/get-started/setup-and-configuration/#required-google-permissions"});var h=t(5640),m=t(1830);const p=(e,s)=>{const{createNotice:t}=(0,h.A)(),[n,a]=(0,m.A)(e,s);return[async()=>{try{const{url:e}=await n();window.location.href=e}catch(e){t("error",(0,i.__)("Unable to connect your Google account. Please try again later.","google-listings-and-ads"))}},a]},_=({additionalScopeEmail:e})=>{const s=l.Th.mcSetupComplete?"reconnect":"setup-mc",[t,{loading:n,data:a}]=p(s,e);return(0,g.jsx)(o.A,{appearance:o.x.GOOGLE,alignIcon:"top",description:(0,g.jsxs)(g.Fragment,{children:[e,(0,g.jsx)("p",{children:(0,g.jsx)("em",{children:(0,r.createInterpolateElement)((0,i.__)("<alert>Uh-oh!</alert> You did not allow WooCommerce sufficient access to your Google account. You must allow all required permissions in the Google authorization page to proceed. <link>Read more</link>","google-listings-and-ads"),{alert:(0,g.jsx)("span",{className:"gla-authorize-google-account-card__error-text"}),link:u})})})]}),alignIndicator:"top",indicator:(0,g.jsx)(c.A,{isSecondary:!0,isDestructive:!0,loading:n||a,eventName:"gla_google_account_connect_button_click",eventProps:{context:s,action:"scope"},text:(0,i.__)("Allow full access","google-listings-and-ads"),onClick:t})})};var x=t(4566),f=t(8242),j=t(6520),v=t(6599);const A=({text:e=(0,i.__)("Or, connect to a different Google account","google-listings-and-ads"),...s})=>{const[t,{loading:n}]=(()=>{const{createNotice:e,removeNotice:s}=(0,h.A)(),[t,{loading:n}]=(0,v.A)({path:`${j.RV}/mc/connection`,method:"DELETE"}),[a,{loading:o}]=(0,v.A)({path:`${j.RV}/ads/connection`,method:"DELETE"}),[r,{loading:l}]=(0,v.A)({path:`${j.RV}/google/connect`,method:"DELETE"}),[c,{loading:d,data:g}]=(0,m.A)("setup-mc");return[async()=>{const{notice:n}=await e("info",(0,i.__)("Connecting to a different Google account, please wait…","google-listings-and-ads"));try{await t(),await a(),await r();const{url:e}=await c();window.location.href=e}catch(t){s(n.id),e("error",(0,i.__)("Unable to connect to a different Google account. Please try again later.","google-listings-and-ads"))}},{loading:n||o||l||d||g}]})();return(0,g.jsx)(c.A,{isLink:!0,disabled:n,text:e,eventName:"gla_google_account_connect_different_account_button_click",onClick:t,...s})},y=({googleAccount:e,helper:s,hideAccountSwitch:t=!1})=>(0,g.jsx)(o.A,{appearance:o.x.GOOGLE,description:e.email,helper:s,indicator:(0,g.jsx)(x.A,{}),children:!t&&(0,g.jsx)(f.A.Card.Footer,{children:(0,g.jsx)(A,{})})}),b=()=>{const e="reconnect",[s,{loading:t,data:n}]=p(e);return(0,g.jsx)(o.A,{appearance:o.x.GOOGLE,alignIcon:"top",description:(0,g.jsxs)(g.Fragment,{children:[(0,i.__)("Required to sync with Google Merchant Center and Google Ads.","google-listings-and-ads"),(0,g.jsx)("p",{children:(0,g.jsx)("em",{children:(0,r.createInterpolateElement)((0,i.__)("You will be prompted to give WooCommerce access to your Google account. Please check all the checkboxes to give WooCommerce all required permissions. <link>Read more</link>","google-listings-and-ads"),{link:u})})})]}),alignIndicator:"top",indicator:(0,g.jsx)(c.A,{isSecondary:!0,loading:t||n,eventName:"gla_google_account_connect_button_click",eventProps:{context:e,action:"authorization"},text:(0,i.__)("Connect","google-listings-and-ads"),onClick:s})})};function C(){const{google:e,scope:s,hasFinishedResolution:t}=(0,n.A)();if(!t)return(0,g.jsx)(o.A,{description:(0,g.jsx)(a.A,{})});const i="yes"===e?.active;return i&&s.reconnectionRequired?(0,g.jsx)(y,{googleAccount:e}):i&&!s.reconnectionRequired?(0,g.jsx)(_,{additionalScopeEmail:e.email}):(0,g.jsx)(b,{})}},8683:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6942),a=t.n(n),o=t(6427),i=t(4848);const r=e=>{const{className:s,label:t,value:n,selected:r,collapsible:l=!1,children:c,...d}=e,g=r===n;return(0,i.jsxs)("div",{className:a()("app-radio-content-control",s),children:[(0,i.jsx)(o.RadioControl,{...d,selected:r,checked:g,options:[{label:t,value:n}],help:""}),(!l||g)&&(0,i.jsx)("div",{className:"app-radio-content-control__content",children:c})]})}},8771:(e,s,t)=>{t.d(s,{A:()=>r});var n=t(6942),a=t.n(n),o=t(4848);const i=e=>{const{className:s="",...t}=e;return(0,o.jsx)("div",{className:`gla-subsection ${s}`,...t})};i.Title=e=>{const{className:s,...t}=e;return(0,o.jsx)("div",{className:a()("gla-subsection-title",s),...t})},i.Subtitle=e=>{const{className:s,...t}=e;return(0,o.jsx)("div",{className:a()("gla-subsection-subtitle",s),...t})},i.Body=e=>{const{children:s}=e;return(0,o.jsx)("div",{className:"gla-subsection-body",children:s})},i.HelperText=e=>{const{className:s,children:t}=e;return(0,o.jsx)("div",{className:a()("gla-subsection-helper-text",s),children:t})};const r=i},8806:(e,s,t)=>{e.exports=t.p+"images/js/src/images/fb15f79da797ad9cca81.google-free-listings.png"},8859:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(9415);const a=()=>(0,n.A)("getTargetAudience")},8864:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);const a=e=>{const{className:s="",...t}=e;return(0,n.jsx)("span",{className:`gla-radio-helper-text ${s}`,...t})}},8987:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(8846),a=t(7723),o=t(6473),i=t(4848);const r=()=>{},l=({productId:e,eventName:s,eventProps:t})=>{const l=`post.php?action=edit&post=${e}`,c=s?()=>(0,o.Ff)(s,t):r;return(0,i.jsx)(n.Link,{href:l,onClick:c,type:"wp-admin",children:(0,a.__)("Edit","google-listings-and-ads")})}},9039:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(6427),a=t(6087),o=t(5703),i=t(4848);const r={"top-start":"top right",top:"top center"};function l(e){if((0,o.isWpVersion)("6.4","<")){const{placement:s,...t}=e,n=r[s];if(n)return{...t,position:n}}return e}const c=e=>{const{children:s,...t}=e;let o;const r=a.Children.toArray(s);return 1===r.length&&(o=r[0].props?.disabled),(0,i.jsx)(n.Tooltip,{...l(t),children:(0,i.jsx)("div",{className:"gla-tooltip__children-container",disabled:o,children:s})})}},9269:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(6476);const a=()=>{const e=(0,n.getQuery)();return"products"===e?.reportKey?"products":"programs"}},9351:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/c94ebde75361208ddf3a.img-product-promotion.svg"},9369:(e,s,t)=>{function n(e){return Object.entries(e).reduce((e,[s,t])=>"not_synced"===s?e:e+t,0)}t.d(s,{A:()=>n})},9370:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(4848);const a=e=>{const{className:s="",children:t,...a}=e;return(0,n.jsx)("div",{className:`gla-step-content ${s}`,...a,children:(0,n.jsx)("div",{className:"gla-step-content__container",children:t})})}},9415:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(7143),a=t(6087),o=t(6520),i=t(2434),r=t(2224);const l=(e,...s)=>{const{invalidateResolution:t}=(0,i.j)(),l=(0,r.A)(s),c=(0,a.useCallback)(()=>{t(e,l)},[t,e,l]);return(0,n.useSelect)(s=>{const{isResolving:t,hasFinishedResolution:n}=s(o.Ui),a=s(o.Ui)[e](...l);return{isResolving:t(e,l),hasFinishedResolution:n(e,l),data:a,invalidateResolution:c}},[c,e,l])}},9452:(e,s,t)=>{t.d(s,{A:()=>d});var n=t(7723),a=t(6427),o=t(6942),i=t.n(o),r=t(6473),l=t(4848);const c=(e,s,t)=>n=>{(0,r.ce)(e,{id:s,action:n?"expand":"collapse",context:t})};function d({trackName:e,faqItems:s,className:t,context:o}){return(0,l.jsx)(a.Panel,{className:i()("gla-faqs-panel",t),header:(0,n.__)("Frequently asked questions","google-listings-and-ads"),children:s.map(({trackId:s,question:t,answer:n})=>(0,l.jsx)(a.PanelBody,{title:t,initialOpen:!1,onToggle:c(e,s,o),children:(0,l.jsx)(a.PanelRow,{children:n})},s))})}},9457:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(6427),a=t(6942),o=t.n(a),i=t(4848);const r={auto:!1,visible:"app-modal__styled--overflow-visible"},l=({className:e,overflow:s="auto",buttons:t=[],children:a,...l})=>{const c=o()("gla-admin-page","app-modal",r[s],e);return(0,i.jsxs)(n.Modal,{className:c,...l,children:[a,t.length>=1&&(0,i.jsx)("div",{className:"app-modal__footer",children:t})]})}},9692:(e,s,t)=>{e.exports=t.p+"images/js/src/images/logo/64742f6405be8486218c.google-logo.svg"},9788:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(7723),a=t(8846),o=t(6277),i=t(8146),r=t(4848);const l="dashboard-feature--campaign-assets";function c({referenceElementCssSelector:e}){const{tourChecked:s,setTourChecked:t}=(0,i.A)(l);if(s)return null;const c={steps:[{referenceElements:{desktop:e},meta:{heading:(0,r.jsxs)("div",{className:"gla-campaign-assets-tour__heading",children:[(0,r.jsx)(o.A,{}),(0,n.__)("Optimize your campaign","google-listings-and-ads"),(0,r.jsx)(a.Pill,{children:(0,n._x)("New","A highlighting label behind the heading of the new feature","google-listings-and-ads")})]}),descriptions:{desktop:(0,r.jsxs)(r.Fragment,{children:[(0,n.__)("Add images, headlines, and descriptions to drive better engagement and more sales.","google-listings-and-ads"),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,n.__)("Edit your campaign to explore this new feature.","google-listings-and-ads")]})}}}],options:{classNames:"gla-admin-page,gla-campaign-assets-tour",effects:{overlay:!1}},placement:"top",closeHandler:()=>t(!0)};return(0,r.jsx)(a.TourKit,{config:c})}},9826:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(8242),a=t(4848);const o=({children:e})=>(0,a.jsx)(n.A,{className:"gla-step-content-footer",verticalGap:10,children:e})},9899:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/75da8376b1a005182ed2.hero.png"},9927:(e,s,t)=>{t.d(s,{A:()=>w});var n=t(7723),a=t(6476),o=t(3905),i=t(347),r=t(14),l=t(6427),c=t(6087),d=t(2848),g=t(7892),u=t(9457),h=t(6473),m=t(5640),p=t(9415),_=t(6599);var x=t(4848);const f="gtin_migration_banner",j="ready",v="started",A=e=>(0,x.jsx)(d.A,{eventName:"gla_gtin_migration_banner_status_link_click",eventProps:{context:f},href:"admin.php?page=wc-status&tab=action-scheduler&s=migrate_gtin&orderby=schedule&order=desc",type:"external",target:"_blank",...e}),y=()=>{const{createNotice:e}=(0,m.A)(),[s,t]=(0,c.useState)(!1),[a,o,i]=(()=>{const{data:e,isResolving:s,invalidateResolution:t}=(0,p.A)("getGtinMigrationStatus"),[n,{loading:a}]=(0,_.A)({path:"/wc/gla/gtin-migration",method:"POST"});return[e,a||s,(0,c.useCallback)(async()=>{await n(),t()},[n,t])]})();if(a!==j&&a!==v)return null;const r=()=>{(0,h.ce)("gla_modal_closed",{context:f}),t(!1)};return(0,x.jsxs)(x.Fragment,{children:[s&&(0,x.jsx)(u.A,{className:"gla-gtin-migration-banner-modal",title:(0,n.__)("Before you start the migration…","google-listings-and-ads"),buttons:[(0,x.jsx)(g.A,{isSecondary:!0,onClick:r,children:(0,n.__)("Never mind","google-listings-and-ads")},"1"),(0,x.jsx)(g.A,{disabled:o,isPrimary:!0,onClick:async()=>{(0,h.ce)("gla_gtin_migration_banner_migration_start",{context:f});try{await i(),(0,h.ce)("gla_gtin_migration_banner_migration_scheduled",{context:f}),t(!1),e("info",(0,n.__)("GTIN Migration was successfully scheduled.","google-listings-and-ads"))}catch(s){(0,h.ce)("gla_gtin_migration_banner_migration_failed",{context:f,error:s.message}),e("error",(0,n.__)("Unable to start GTIN Migration.","google-listings-and-ads"))}},children:(0,n.__)("Start migration","google-listings-and-ads")},"2")],onRequestClose:r,children:(0,x.jsx)("p",{children:(0,c.createInterpolateElement)((0,n.__)("This migration will copy all GTIN numbers set in the Google for WooCommerce Product tab into the new GTIN field under the Product Inventory tab. If you have already set GTIN numbers in some of your products' Inventory tab, they will not be overridden. The GTIN numbers in the Google for WooCommerce tab will not be removed. The migration will run in the background and is not reversible. You can check the migration process on the <link>WooCommerce Scheduled Actions page</link>.","google-listings-and-ads"),{link:(0,x.jsx)(A,{})})})}),a===j&&(0,x.jsx)(l.Notice,{isDismissible:!1,children:(0,c.createInterpolateElement)((0,n.__)("The GTIN field managed by WooCommerce in the Product's inventory section, will now be used by Google for WooCommerce. It will continue to support the previous field and any mapping rules you have setup for the GTIN field. If you would like to migrate the data <link>click here</link>.","google-listings-and-ads"),{link:(0,x.jsx)(d.A,{className:"gla-gtin-migration__link",eventName:"gla_gtin_migration_banner_click",eventProps:{context:f},onClick:()=>{(0,h.ce)("gla_modal_open",{context:f}),t(!0)}})})}),a===v&&(0,x.jsx)(l.Notice,{isDismissible:!1,children:(0,c.createInterpolateElement)((0,n.__)("Your GTIN Migration is now running in the background. You can check the migration process on the <link>WooCommerce Scheduled Actions page</link>","google-listings-and-ads"),{link:(0,x.jsx)(A,{})})})]})};var b=t(3666);let C=[{key:"dashboard",title:(0,n.__)("Dashboard","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/dashboard",{})},{key:"reports",title:(0,n.__)("Reports","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/reports",{})},{key:"product-feed",title:(0,n.__)("Product Feed","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/product-feed",{})},{key:"price-benchmark",title:(0,n.__)("Price Benchmark","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/price-benchmark",{})},{key:"attribute-mapping",title:(0,n.__)("Attributes","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/attribute-mapping",{})},{key:"settings",title:(0,n.__)("Settings","google-listings-and-ads"),href:(0,a.getNewPath)({},"/google/settings",{})},{key:"shipping",title:(0,n.__)("Shipping","google-listings-and-ads"),href:(0,b.Qk)()}];o.Th.enableReports||(C=C.filter(({key:e})=>"reports"!==e));const w=()=>{(0,r.A)();const e=(()=>{const e=(0,a.getPath)();return C.find(s=>e.includes(s.key))?.key})();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y,{}),(0,x.jsx)(i.A,{tabs:C,selectedKey:e})]})}},9959:(e,s,t)=>{e.exports=t.p+"images/js/src/images/get-started/ff593be89bcb7ad1ab7e.benefits.png"},9982:(e,s,t)=>{e.exports=t.p+"images/js/src/images/price-benchmark/bef39384e36736a6c0d9.empty-metrics.svg"}}]);