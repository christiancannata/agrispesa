(()=>{"use strict";var e={20:(e,t,r)=>{var o=r(609),n=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,r){var o,a={},l=null,d=null;for(o in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,o)&&!c.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:n,type:e,key:l,ref:d,props:a,_owner:i.current}}t.jsx=a,t.jsxs=a},848:(e,t,r)=>{e.exports=r(20)},609:e=>{e.exports=window.React}},t={};const r=window.wc.blocksCheckout,o=window.wc.wcBlocksSharedHocs,n=window.wp.element,s=window.wp.i18n;var i=function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}(848);const c=window.wc.wcSettings,{optinDefaultText:a,gdprHeadline:l,gdprFields:d,gdprStatus:p,userSubscribed:u,checkboxSettings:m}=(0,c.getSetting)("mailchimp-newsletter_data",""),h={text:{type:"string",default:a},gdprHeadline:{type:"string",default:l},gdpr:{type:"array",default:d},gdprStatus:{type:"string",default:p},userSubscribed:{type:"bool",default:u},checkboxSettings:{type:"array",default:m}},w=JSON.parse('{"apiVersion":2,"name":"woocommerce/mailchimp-newsletter-subscription","version":"1.0.0","title":"Mailchimp Newsletter!","category":"woocommerce","description":"Adds a newsletter subscription checkbox to the checkout.","supports":{"html":true,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-contact-information-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"mailchimp-woocommerce","editorStyle":"file:../../../build/style-newsletter-block.css"}');(0,r.registerCheckoutBlock)({metadata:w,component:(0,o.withFilteredAttributes)(h)((({cart:e,extensions:t,text:o,gdprHeadline:c,gdprStatus:a,gdpr:l,userSubscribed:d,checkoutExtensionData:p})=>{let u={};l&&l.length&&l.forEach((e=>{u[e.marketing_permission_id]=!1}));const m="check"===a,[h,w]=(0,n.useState)(m),[_]=(0,n.useState)({}),{setExtensionData:g}=p;return(0,n.useEffect)((()=>{g("mailchimp-newsletter","optin",h)}),[h,g]),(0,i.jsx)("div",{className:"wc-block-components-checkout-step__container",children:(0,i.jsxs)("div",{style:{display:"hide"===a||d?"none":""},className:"wc-block-components-checkout-step__content",children:[(0,i.jsx)(r.CheckboxControl,{id:"subscribe-to-newsletter",checked:h,onChange:w,children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:o}})}),l&&l.length?(0,s.__)(c,"mailchimp-for-woocommerce"):"",l&&l.length?l.map((e=>(0,i.jsx)(r.CheckboxControl,{id:"gdpr_"+e.marketing_permission_id,checked:_[e.marketing_permission_id],onChange:t=>{_[e.marketing_permission_id]=!_[e.marketing_permission_id],g("mailchimp-newsletter","gdprFields",_)},children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text}})}))):""]})})}))})})();