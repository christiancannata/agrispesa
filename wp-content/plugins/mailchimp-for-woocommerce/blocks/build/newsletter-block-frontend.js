!function(){"use strict";var e=window.wc.blocksCheckout,t=window.wc.wcBlocksSharedHocs,i=window.wp.element,n=window.wp.i18n,r=window.wc.wcSettings;const{optinDefaultText:o,gdprHeadline:a,gdprFields:c,gdprStatus:s}=(0,r.getSetting)("mailchimp-newsletter_data","");var l={text:{type:"string",default:o},gdprHeadline:{type:"string",default:a},gdpr:{type:"array",default:c},gdprStatus:{type:"string",default:s}},m=JSON.parse('{"apiVersion":2,"name":"woocommerce/mailchimp-newsletter-subscription","version":"1.0.0","title":"Mailchimp Newsletter!","category":"woocommerce","description":"Adds a newsletter subscription checkbox to the checkout.","supports":{"html":true,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-contact-information-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"mailchimp-woocommerce","editorStyle":"file:../../../build/style-newsletter-block.css"}');(0,e.registerCheckoutBlock)({metadata:m,component:(0,t.withFilteredAttributes)(l)((({cart:t,extensions:r,text:o,gdprHeadline:a,gdprStatus:c,gdpr:s,checkoutExtensionData:l})=>{let m={};s&&s.length&&s.forEach((e=>{m[e.marketing_permission_id]=!1}));const d="check"===c,[p,u]=(0,i.useState)(d),[g]=(0,i.useState)({}),{setExtensionData:h}=l;return(0,i.useEffect)((()=>{h("mailchimp-newsletter","optin",p)}),[p,h]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{style:{display:"hide"===c?"none":"block"}},(0,i.createElement)(e.CheckboxControl,{id:"subscribe-to-newsletter",checked:p,onChange:u},(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:o}})),s&&s.length?(0,n.__)(a,"mailchimp-for-woocommerce"):"",s&&s.length?s.map((t=>(0,i.createElement)(e.CheckboxControl,{id:"gdpr_"+t.marketing_permission_id,checked:g[t.marketing_permission_id],onChange:e=>{g[t.marketing_permission_id]=!g[t.marketing_permission_id],h("mailchimp-newsletter","gdprFields",g)}},(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:t.text}})))):""))}))})}();