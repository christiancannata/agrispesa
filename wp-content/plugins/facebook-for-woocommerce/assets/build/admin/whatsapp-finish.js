jQuery(document).ready(function(o){var e=o("#wc-whatsapp-onboarding-finish");e.click(function(a){var n=o("#wc-whatsapp-onboarding-finish-loading-state");e.addClass("fbwa-button-disabled"),n.show(),o.post(facebook_for_woocommerce_whatsapp_finish.ajax_url,{action:"wc_facebook_whatsapp_finish_onboarding",nonce:facebook_for_woocommerce_whatsapp_finish.nonce},function(a){if(a.success){let o=new URL(window.location.href),e=new URLSearchParams(o.search);e.set("view","utility_settings"),o.search=e.toString(),window.location.href=o.toString(),console.log("Whatsapp Connect Success",a)}else{var c;const i=a.data;switch(console.log("Whatsapp Connect Failure",a),i){case"Incorrect payment setup":c=facebook_for_woocommerce_whatsapp_finish.i18n.payment_setup_error;break;case"Onboarding is not complete or has failed.":c=facebook_for_woocommerce_whatsapp_finish.i18n.onboarding_incomplete_error;break;default:c=facebook_for_woocommerce_whatsapp_finish.i18n.generic_error}const t=`\n                      <div class="notice-error">\n                        <p>${c}</p>\n                      </div>\n                    `;o("#payment-method-error-notice").html(t).show(),n.hide(),e.removeClass("fbwa-button-disabled")}})})});