jQuery(document).ready(function(o){var e=o("#wc-fb-whatsapp-connect-success"),n=o("#wc-fb-whatsapp-connect-inprogress"),c=o("#wc-fb-whatsapp-onboarding-subcontent"),s=o("#wc-fb-whatsapp-onboarding-button-wrapper");function t(a=0,p=18e5){o.post(facebook_for_woocommerce_whatsapp_onboarding_progress.ajax_url,{action:"wc_facebook_whatsapp_onboarding_progress_check",nonce:facebook_for_woocommerce_whatsapp_onboarding_progress.nonce},function(i){if(i.success)console.log("Whatsapp Connection is Complete",i),n.remove(),e.show(),c.hide(),s.hide(),o("#wc-fb-whatsapp-consent-collection-inprogress").show(),o("#wc-fb-whatsapp-consent-collection-notstarted").hide(),o("#wc-fb-whatsapp-consent-subcontent").show(),o("#wc-fb-whatsapp-consent-button-wrapper").show();else{if(console.log("Whatsapp connection is not complete. Checking again in 5 seconds:",i,", retry attempt:",a,"pollingTimeout",p),a>=p)return void console.log("Max retries reached. Aborting.");setTimeout(function(){t(a+1,p)},5e3)}})}facebook_for_woocommerce_whatsapp_onboarding_progress.whatsapp_onboarding_complete?(e.show(),n.hide(),c.hide(),s.hide()):(e.hide(),n.show()),o("#woocommerce-whatsapp-connection").click(function(o){window.open("https://business.facebook.com/messaging/whatsapp/onboard/?app_id=474166926521348&config_id=1237758981048330"),t(0,18e5)})});